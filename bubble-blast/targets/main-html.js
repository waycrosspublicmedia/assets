/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){var Q,ca,e,g,E,d,F,l,o,ba,f,k,U,G,w,R,T,W,fa,x,s,Y,Z,da,M,B,C,P,p,j,h,L,J,r,S,z,q,K,O,D;function v(a,b){function c(){}c.prototype=a;var i=new c,d;for(d in b)i[d]=b[d];b.toString!==Object.prototype.toString&&(i.toString=b.toString);return i}function ha(a){return a instanceof Array?function(){return A.iter(a)}:"function"==typeof a.iterator?u(a,a.iterator):a.iterator}function u(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=ka++);var c;null==a.hx__closures__?a.hx__closures__=
{}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var m={},n=function(){return M.__string_rec(this,"")},X=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};m.EReg=X;X.__name__=["EReg"];X.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];
else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:X};var A=function(){};m.HxOverrides=A;A.__name__=["HxOverrides"];A.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),i=a.getHours(),d=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>i?"0"+i:""+i)+":"+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)};A.strDate=function(a){switch(a.length){case 8:var a=
a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};A.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};A.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=
0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};A.remove=function(a,b){for(var c=0,i=a.length;c<i;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};A.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var ga=function(){};m.Lambda=ga;ga.__name__=["Lambda"];ga.array=function(a){for(var b=[],a=ha(a)();a.hasNext();){var c=a.next();b.push(c)}return b};ga.count=function(a,b){var c=0;if(null==b)for(var i=ha(a)();i.hasNext();)i.next(),
c++;else for(i=ha(a)();i.hasNext();){var d=i.next();b(d)&&c++}return c};var $=function(){this.length=0};m.List=$;$.__name__=["List"];$.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:$};var ea=function(){};
m.IMap=ea;ea.__name__=["IMap"];var H=function(){};m.Reflect=H;H.__name__=["Reflect"];H.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};H.field=function(a,b){var c=null;try{c=a[b]}catch(i){}return c};H.setProperty=function(a,b,c){var i;if(a.__properties__&&(i=a.__properties__["set_"+b]))a[i](c);else a[b]=c};H.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,i;for(i in a)"__id__"!=i&&"hx__closures__"!=i&&c.call(a,i)&&b.push(i)}return b};H.isFunction=
function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};H.compareMethods=function(a,b){return a==b?!0:!H.isFunction(a)||!H.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};H.deleteField=function(a,b){if(!H.hasField(a,b))return!1;delete a[b];return!0};var t=function(){};m.Std=t;t.__name__=["Std"];t.string=function(a){return M.__string_rec(a,"")};t["int"]=function(a){return a|0};t.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==A.cca(a,1)||88==A.cca(a,1)))b=
parseInt(a);return isNaN(b)?null:b};t.parseFloat=function(a){return parseFloat(a)};t.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var aa=function(){this.b=""};m.StringBuf=aa;aa.__name__=["StringBuf"];aa.prototype={addSub:function(a,b,c){this.b+=null==c?A.substr(a,b,null):A.substr(a,b,c)},__class__:aa};var V=function(){};m.StringTools=V;V.__name__=["StringTools"];V.urlEncode=function(a){return encodeURIComponent(a)};V.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};
V.isSpace=function(a,b){var c=A.cca(a,b);return 8<c&&14>c||32==c};V.ltrim=function(a){for(var b=a.length,c=0;c<b&&V.isSpace(a,c);)c++;return 0<c?A.substr(a,c,b-c):a};V.rtrim=function(a){for(var b=a.length,c=0;c<b&&V.isSpace(a,b-c-1);)c++;return 0<c?A.substr(a,0,b-c):a};V.trim=function(a){return V.ltrim(V.rtrim(a))};V.replace=function(a,b,c){return a.split(b).join(c)};var I=m.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};
I.TNull=["TNull",0];I.TNull.toString=n;I.TNull.__enum__=I;I.TInt=["TInt",1];I.TInt.toString=n;I.TInt.__enum__=I;I.TFloat=["TFloat",2];I.TFloat.toString=n;I.TFloat.__enum__=I;I.TBool=["TBool",3];I.TBool.toString=n;I.TBool.__enum__=I;I.TObject=["TObject",4];I.TObject.toString=n;I.TObject.__enum__=I;I.TFunction=["TFunction",5];I.TFunction.toString=n;I.TFunction.__enum__=I;I.TClass=function(a){a=["TClass",6,a];a.__enum__=I;a.toString=n;return a};I.TEnum=function(a){a=["TEnum",7,a];a.__enum__=I;a.toString=
n;return a};I.TUnknown=["TUnknown",8];I.TUnknown.toString=n;I.TUnknown.__enum__=I;var N=function(){};m.Type=N;N.__name__=["Type"];N.getClass=function(a){return null==a?null:a.__class__};N.getClassName=function(a){return a.__name__.join(".")};N.getEnumName=function(a){return a.__ename__.join(".")};N.resolveClass=function(a){a=m[a];return null==a||!a.__name__?null:a};N.resolveEnum=function(a){a=m[a];return null==a||!a.__ename__?null:a};N.createInstance=function(a,b){switch(b.length){case 0:return new a;
case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};N.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};N.createEnum=function(a,b,c){var i=
H.field(a,b);if(null==i)throw"No such constructor "+b;if(H.isFunction(i)){if(null==c)throw"Constructor "+b+" need parameters";return i.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return i};N.getEnumConstructs=function(a){return a.__constructs__.slice()};N["typeof"]=function(a){switch(typeof a){case "boolean":return I.TBool;case "string":return I.TClass(String);case "number":return Math.ceil(a)==a%2147483648?I.TInt:I.TFloat;case "object":if(null==a)return I.TNull;
var b=a.__enum__;if(null!=b)return I.TEnum(b);a=a.__class__;return null!=a?I.TClass(a):I.TObject;case "function":return a.__name__||a.__ename__?I.TObject:I.TFunction;case "undefined":return I.TNull;default:return I.TUnknown}};N.allEnums=function(a){for(var b=[],c=a.__constructs__,i=0;i<c.length;){var d=c[i];++i;d=H.field(a,d);H.isFunction(d)||b.push(d)}return b};m.XmlType={__ename__:["XmlType"],__constructs__:[]};var y=function(){};m.Xml=y;y.__name__=["Xml"];y.parse=function(a){return G.Parser.parse(a)};
y.createElement=function(a){var b=new y;b.nodeType=y.Element;b._children=[];b._attributes=new w.StringMap;b.set_nodeName(a);return b};y.createPCData=function(a){var b=new y;b.nodeType=y.PCData;b.set_nodeValue(a);return b};y.createCData=function(a){var b=new y;b.nodeType=y.CData;b.set_nodeValue(a);return b};y.createComment=function(a){var b=new y;b.nodeType=y.Comment;b.set_nodeValue(a);return b};y.createDocType=function(a){var b=new y;b.nodeType=y.DocType;b.set_nodeValue(a);return b};y.createProcessingInstruction=
function(a){var b=new y;b.nodeType=y.ProcessingInstruction;b.set_nodeValue(a);return b};y.createDocument=function(){var a=new y;a.nodeType=y.Document;a._children=[];return a};y.prototype={addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&A.remove(a._parent._children,a);a._parent=this;this._children.push(a)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==y.Element)return c;
a++}return null},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var i=this.x[b];if(i.nodeType==y.Element&&i._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var i=this.x[b];b++;if(i.nodeType==y.Element&&i._nodeName==a)return this.cur=b,i}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,
hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&!(this.x[a].nodeType==y.Element);)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var c=this.x[a],a=a+1;if(c.nodeType==y.Element)return this.cur=a,c}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},exists:function(a){if(this.nodeType!=y.Element)throw"bad nodeType";
return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=y.Element)throw"bad nodeType";this._attributes.set(a,b)},get:function(a){if(this.nodeType!=y.Element)throw"bad nodeType";return this._attributes.get(a)},set_nodeValue:function(a){if(this.nodeType==y.Element||this.nodeType==y.Document)throw"bad nodeType";return this._nodeValue=a},get_nodeValue:function(){if(this.nodeType==y.Element||this.nodeType==y.Document)throw"bad nodeType";return this._nodeValue},set_nodeName:function(a){if(this.nodeType!=
y.Element)throw"bad nodeType";return this._nodeName=a},get_nodeName:function(){if(this.nodeType!=y.Element)throw"bad nodeType";return this._nodeName},__class__:y};Q=function(){};ca=void 0;e=void 0;g=void 0;E=void 0;m["com.nick.spongeBob.bubble_blast_flambe_october.DocumentApp"]=Q;Q.__name__=["com","nick","spongeBob","bubble_blast_flambe_october","DocumentApp"];Q.main=function(){C.init();Q._fillEntity=new P;Q._fillSprite=new p.FillSprite(0,1024,1024);Q._fillEntity.add(Q._fillSprite);C.root.addChild(Q._fillEntity);
d.JSEmbedProxy.get_exists()?d.JSEmbedProxy.get_isCrossdomain()?d.WorkinCloud.get_instance().get_assets().setCrossdomainBaseUrl(Q.appendAssetsToUrl(d.JSEmbedProxy.get_base())):d.WorkinCloud.get_instance().get_assets().set_baseUrl(Q.trimUrl(d.JSEmbedProxy.get_base())):d.WorkinCloud.get_instance().get_assets().set_baseUrl("");d.WorkinCloud.get_instance().get_dispatcher().addEventListener(F.ConstantsCloud.EVENT_FILES_LOADED,Q._onBootstrapLoad);d.WorkinCloud.get_instance().get_assets().addPackDef("bootstrap");
d.WorkinCloud.get_instance().get_assets().loadPack("bootstrap")};Q._onBootstrapLoad=function(){d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(F.ConstantsCloud.EVENT_FILES_LOADED,Q._onBootstrapLoad);Q._initServices();R.delay(Q._initMain,800)};Q._initMain=function(){Q._main=new ca};Q._initServices=function(){for(var a=d.WorkinCloud.get_instance().get_assets().getXML(e.ConstantsApp.CONFIG_XML_PATH).node.resolve("services").nodes.resolve("service").iterator();a.hasNext();){var b=a.next();
switch(b.att.resolve("type").toString()){case "nickanalytics":"true"==b.att.resolve("enabled").toString()&&(d.WorkinCloud.get_instance().log("[DocumentApp](_initServices) initNickAnalytics"),"true"==b.att.resolve("enabledQA").toString()?l.ServiceNickAnalytics.init(b.att.resolve("id_qa").toString()):l.ServiceNickAnalytics.init(b.att.resolve("id_live").toString()));break;case "analytics":"true"==b.att.resolve("enabled").toString()&&(d.WorkinCloud.get_instance().log("[DocumentApp](_initServices) initAnalytics"),
l.ServiceAnalytics.init(b.att.resolve("id").toString()));break;case "canadaTracking":"true"==b.att.resolve("enabled").toString()&&(d.WorkinCloud.get_instance().log("[DocumentApp](_initServices) initCanadaTracking"),l.ServiceAnalytics.enableCanadaTracking(b.att.resolve("showGameTitle").toString()));break;case "nickavatar":"true"==b.att.resolve("enabled").toString()?(d.WorkinCloud.get_instance().log("[DocumentApp](_initServices) initNickAvatar"),l.ServiceNickAvatar.get_instance().enable(b.att.resolve("url").toString())):
l.ServiceNickAvatar.get_instance().disable();break;case "leaderboard":"true"==b.att.resolve("enabled").toString()?(d.WorkinCloud.get_instance().log("[DocumentApp](_initServices) initLeaderboard"),l.ServiceNickLeaderboard.get_instance().enable(b.att.resolve("url").toString(),b.att.resolve("keyword").toString())):l.ServiceNickLeaderboard.get_instance().disable()}}};Q.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=A.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");
0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=A.substr(a,b,a.length-b);return a=Q.appendAssetsToUrl(a)};Q.appendAssetsToUrl=function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};ca=function(){this._MIN_FPS=1/15;this._RATE_REFRESH_SCALE=0.4;d.WorkinCloud.get_instance().log("[Main] Constructed");this._root=C.root;this._timeline=new P;this._root.addChild(this._timeline);C.uncaughtError.connect(u(this,this.errorHandler));
d.WorkinCloud.get_instance().get_input().prime();this._scaleSprite=new p.Sprite;this._timeline.add(this._scaleSprite);this._layerWorld=new P;this._layerUI=new P;this._timeline.addChild(this._layerWorld);this._timeline.addChild(this._layerUI);this._dt=0;this._timerRefreshScale=0.0010;this._isUIActive=this._isWorldActive=!1;this._flagFirstPlay=!0;this._flagInitialLoadComplete=this._flagWebAudioUnlocked=!1;this._flagGameplayPaused=!0;this._flagJSEmbedExists=this._flagJSEmbedPauseState=!1;d.WorkinCloud.get_instance().setString(e.ConstantsApp.STRING_SCALE_TYPE,
"none");M.__instanceof(C._platform.getStage(),j.html.HtmlStage)&&(e.ConstantsApp.scaleFactor=M.__cast(C._platform.getStage(),j.html.HtmlStage).scaleFactor);this._flagJSEmbedExists=d.JSEmbedProxy.get_exists();d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_JSEMBED_EXISTS,this._flagJSEmbedExists);this._flagJSEmbedExists&&d.WorkinCloud.get_instance().setString(e.ConstantsApp.STRING_SCALE_TYPE,d.JSEmbedProxy.get_scaleType());e.ConstantsApp.OPTION_FILL_CANVAS="fill"==d.WorkinCloud.get_instance().getString(e.ConstantsApp.STRING_SCALE_TYPE)||
"fillto"==d.WorkinCloud.get_instance().getString(e.ConstantsApp.STRING_SCALE_TYPE);this._changeActions=[];this._flowstack=[];this._addEventListeners();this._beginEngine()};m["com.nick.spongeBob.bubble_blast_flambe_october.Main"]=ca;ca.__name__=["com","nick","spongeBob","bubble_blast_flambe_october","Main"];ca.prototype={_disposeWorld:function(){this._isWorldActive&&(d.WorkinCloud.get_instance().log("[Main](_disposeWorld)"),this._isWorldActive=!1,this._world.dispose(),this._world=null)},_onEventInterfaceChange:function(a){this._executeInterfaceChange(a.flowId,
a.screenId)},_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0,d.WorkinCloud.get_instance().get_sound().playSound("audio/silent"))},_onEventFilesLoading:function(a){d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LOADING_PROGRESS,a.get_data().value)},_onEventInput:function(a){this._handleWebAudioUnlock();d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)||(this._isUIActive&&this._ui.handleInput(a),this._isWorldActive&&this._world.handleInput(a))},
_onFlowEvent:function(a){this._addFlowEvent(a.flowId)},_onMuteToggle:function(){d.WorkinCloud.get_instance().get_sound().setMute(!d.WorkinCloud.get_instance().get_sound().getMute())},_disableInput:function(){d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(o.WMEventInput.EVENT_INPUT,u(this,this._onEventInput))},_enableInput:function(){d.WorkinCloud.get_instance().get_dispatcher().addEventListener(o.WMEventInput.EVENT_INPUT,u(this,this._onEventInput))},_addEventListeners:function(){d.WorkinCloud.get_instance().get_dispatcher().addEventListener(o.WMEventUpdate.EVENT_UPDATE,
u(this,this._onEventUpdate));d.WorkinCloud.get_instance().get_dispatcher().addEventListener(e.ConstantsApp.EVENT_MUTE_TOGGLE,u(this,this._onMuteToggle));d.WorkinCloud.get_instance().get_dispatcher().addEventListener(o.WMEventFlow.EVENT_FLOW,u(this,this._onFlowEvent));d.WorkinCloud.get_instance().get_dispatcher().addEventListener(e.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE,u(this,this._onWorldGenerationComplete));d.WorkinCloud.get_instance().get_dispatcher().addEventListener(F.ConstantsCloud.EVENT_FILES_LOADING,
u(this,this._onEventFilesLoading))},_executeInterfaceChange:function(a,b){for(var c=this._changeActions.length;0<c;)c--,this._changeActions[c].get_screenId()==b&&this._changeActions[c].get_changeEvent()==a&&(this._changeActions[c].get_action()(),this._changeActions.splice(c,1))},_newOnChangeAction:function(a,b,c){this._changeActions.push(new g.screens.data.ChangeActionData(a,b,c))},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(e.ConstantsApp.EVENT_UNPAUSE))},
_pauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!0);d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(e.ConstantsApp.EVENT_PAUSE))},_executeFlowStack:function(a){if(!this._ui.get_isTransition())switch(a){case e.ConstantsScreen.FLOW_SPLASH_PLAY:l.ServiceAnalytics.sendCanadaTrackingCall("play");l.ServiceNickAnalytics.sendMetric(l.ANALYTICS_EVENTS.EVENT_TITLE_PLAY);this._gotoAndPlayGame();this._timerAnalytics=0;break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP:this._ui.openScreen(e.ConstantsScreen.SCREEN_HELP,
!1);l.ServiceAnalytics.sendMilestone("custom3");break;case e.ConstantsScreen.FLOW_SHOP:this._ui.openScreen(e.ConstantsScreen.SCREEN_SHOP,!1);break;case e.ConstantsScreen.FLOW_SHOP_CLOSE:this._ui.closeScreen(e.ConstantsScreen.SCREEN_SHOP);break;case e.ConstantsScreen.FLOW_HELP_CLOSE:this._ui.closeScreen(e.ConstantsScreen.SCREEN_HELP);break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU:this._pauseGameplay();this._ui.openScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU,!1);break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE:this._unpauseGameplay();
this._ui.closeScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU);break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT:this._ui.openScreen(e.ConstantsScreen.SCREEN_QUIT_CONFIRM,!1);break;case e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES:e.ConstantsApp.OPTION_HAS_MENU_MUSIC&&d.WorkinCloud.get_instance().get_sound().playMusic("audio/menu",0.5);this._resetFlagsResults();this._gotoEndGame(!0);this._resetGameResults();l.ServiceNickAnalytics.sendMetric(l.ANALYTICS_EVENTS.EVENT_QUIT);break;case e.ConstantsScreen.FLOW_ENTER_CODE_OPEN:this._ui.openScreen(e.ConstantsScreen.SCREEN_ENTER_CODE,
!1);break;case e.ConstantsScreen.FLOW_ENTER_CODE_CLOSE:this._ui.closeScreen(e.ConstantsScreen.SCREEN_ENTER_CODE);break;case e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO:this._ui.closeScreen(e.ConstantsScreen.SCREEN_QUIT_CONFIRM);break;case e.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN:e.ConstantsApp.OPTION_HAS_MENU_MUSIC&&d.WorkinCloud.get_instance().get_sound().playMusic("audio/menu",0.5);this._resetFlagsResults();this._gotoAndPlayGame();break;case e.ConstantsScreen.FLOW_BRANCH_GAME_WIN:e.ConstantsApp.OPTION_HAS_MENU_MUSIC&&
d.WorkinCloud.get_instance().get_sound().playMusic("audio/menu",0.5);this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!1);this._resetGameResults();break;case e.ConstantsScreen.FLOW_BRANCH_GAME_LOSE:e.ConstantsApp.OPTION_HAS_MENU_MUSIC&&d.WorkinCloud.get_instance().get_sound().playMusic("audio/menu",0.5);this._pauseGameplay();this._resetFlagsResults();this._gotoEndGame(!1);d.WorkinCloud.get_instance().resetValue(e.ConstantsApp.INT_SCORE);d.WorkinCloud.get_instance().resetValue(e.ConstantsApp.INT_LIVES);
break;case e.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN:this._disposeWorld();l.ServiceAnalytics.sendCanadaTrackingCall("replay");l.ServiceNickAnalytics.sendMetric(l.ANALYTICS_EVENTS.EVENT_PLAY_AGAIN);this._onGameNew();this._gotoAndPlayGame();d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_PAUSED,!1);break;case e.ConstantsScreen.FLOW_LOAD_CLOSE:d.WorkinCloud.get_instance().get_sound().playMusic("game",0.5);this._gotoAndPlayGame();break;case e.ConstantsScreen.FLOW_MINIGAME_CLOSE:this._ui.closeScreen(e.ConstantsScreen.SCREEN_MINIGAME,
!0);this._ui.isScreenOpen(e.ConstantsScreen.SCREEN_LOADING)?(d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(e.ConstantsScreen.FLOW_LOAD_CLOSE)),null):(this._disableInput(),this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_SPLASH,!0),d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(e.ConstantsScreen.FLOW_SPLASH_CLICKTRAY)),R.delay(u(this,this._enableSplash),1200));break;case e.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP:this._ui.openScreen(e.ConstantsScreen.SCREEN_ACHIEVEMENT_POPUP,
!1);break;case e.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP_CLOSE:this._ui.closeScreen(e.ConstantsScreen.SCREEN_ACHIEVEMENT_POPUP);break;case e.ConstantsScreen.FLOW_ACHIEVEMENT:this._ui.openScreen(e.ConstantsScreen.SCREEN_ACHIEVEMENTS,!1);break;case e.ConstantsScreen.FLOW_ACHIEVEMENT_CLOSE:this._ui.closeScreen(e.ConstantsScreen.SCREEN_ACHIEVEMENTS)}},_runFlowStack:function(){if(0!=this._flowstack.length)for(;0<this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),this._flowstack.shift()},
_addFlowEvent:function(a){this._flowstack.push(a)},_hideOrientationAlert:function(){d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(d.WorkinCloud.get_instance().log("[Main](_showOrientationAlert) Back to landscape."),d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT,!1),d.JSEmbedProxy.unpause(),d.JSEmbedProxy.alertOff())},_showOrientationAlert:function(){d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)||(d.WorkinCloud.get_instance().log("[Main](_showOrientationAlert) Portrait mode!"),
d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT,!0),d.JSEmbedProxy.pause(),d.JSEmbedProxy.alertOn(d.WorkinCloud.get_instance().get_localize().getString("orientation_landscape")))},_onEventUpdate:function(a){this._dt=a.get_dt();this._dt=Math.round(1E3*this._dt)/1E3;this._dt>this._MIN_FPS&&(this._dt=this._MIN_FPS);this._timerAnalytics+=this._dt;if(this._flagJSEmbedExists&&(d.JSEmbedProxy.get_isPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=d.JSEmbedProxy.get_isPaused())?
this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay()),this._timerRefreshScale-=this._dt,0>=this._timerRefreshScale)){this._timerRefreshScale=this._RATE_REFRESH_SCALE;if(this._flagInitialLoadComplete&&d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_TOUCH_DEVICE)){if(d.JSEmbedProxy.get_canvasHeight()>d.JSEmbedProxy.get_canvasWidth()){this._showOrientationAlert();return}if(d.WorkinCloud.get_instance().getValue(e.ConstantsApp.BOOL_ORIENTATION_ALERT)){this._hideOrientationAlert();
return}}this._flagJSEmbedExists&&(a=e.ConstantsApp.get_CANVAS_SCALE(),a!=this._scaleSprite.scaleX._value&&(this._scaleSprite.scaleX.set__(this._scaleSprite.scaleY.set__(a)),d.WorkinCloud.get_instance().get_input().set_scale(a),e.ConstantsApp.OPTION_FILL_CANVAS&&(this._scaleSprite.x.set__(-1*e.ConstantsApp.get_CANVAS_LEFT_ABSOLUTE()),this._scaleSprite.y.set__(-1*e.ConstantsApp.get_CANVAS_TOP_ABSOLUTE()),d.WorkinCloud.get_instance().get_input().get_offset().to(e.ConstantsApp.get_CANVAS_LEFT(),e.ConstantsApp.get_CANVAS_TOP())),
d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(e.ConstantsApp.EVENT_RESIZE_CANVAS,{scale:a}))))}d.WorkinCloud.get_instance().update(this._dt);this._isUIActive&&this._ui.update(this._dt);this._isWorldActive&&(this._world.update(this._dt),this._world.render());d.WorkinCloud.get_instance().get_sound().update(this._dt);d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_GAME_LOSE)?this._onFlowEvent(o.WMEventFlow.request(e.ConstantsScreen.FLOW_BRANCH_GAME_LOSE)):
d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_GAME_WIN)?this._onFlowEvent(o.WMEventFlow.request(e.ConstantsScreen.FLOW_BRANCH_GAME_WIN)):d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_LEVEL_LOSE)?this._onFlowEvent(o.WMEventFlow.request(e.ConstantsScreen.FLOW_BRANCH_LEVEL_LOSE)):d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_LEVEL_WIN)&&this._onFlowEvent(o.WMEventFlow.request(e.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN));this._runFlowStack()},_generateWorld:function(){this._isWorldActive&&
this._disposeWorld();d.WorkinCloud.get_instance().log("[Main](_generateWorld)");this._isWorldActive=!0;this._world=new E.World(this._layerWorld);e.ConstantsApp.OPTION_SHOW_LOADING_ON_WORLD_GEN_ALWAYS&&this._gotoLoadScreen(!1)},_resetGameResults:function(){d.WorkinCloud.get_instance().resetValue(e.ConstantsApp.STRING_LEVEL_ID)},_resetFlagsResults:function(){d.WorkinCloud.get_instance().resetValue(e.ConstantsApp.BOOL_GAME_WIN);d.WorkinCloud.get_instance().resetValue(e.ConstantsApp.BOOL_GAME_LOSE);d.WorkinCloud.get_instance().resetValue(e.ConstantsApp.BOOL_LEVEL_WIN);
d.WorkinCloud.get_instance().resetValue(e.ConstantsApp.BOOL_LEVEL_LOSE)},_onGameNew:function(){this._resetFlagsResults()},_gotoEndGame:function(a){this._flagWonPreviousGame=a;this._newOnChangeAction(e.ConstantsScreen.SCREEN_END_GAME,e.ConstantsScreen.CHANGE_OPEN_COMPLETE,u(this,this._disposeWorld));this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_END_GAME);l.ServiceAnalytics.sendMilestone("custom7");l.ServiceNickAnalytics.sendMetric(l.ANALYTICS_EVENTS.EVENT_TIME_PLAY,this._timerAnalytics);l.ServiceNickAnalytics.sendMetric(l.ANALYTICS_EVENTS.EVENT_GAME_END)},
_enableSplash:function(){d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_TOUCH_DEVICE)||e.ConstantsApp.OPTION_HAS_MENU_MUSIC&&d.WorkinCloud.get_instance().get_sound().playMusic("audio/menu",0.5);this._ui.getScreen(e.ConstantsScreen.SCREEN_SPLASH).open(!1);this._enableInput();l.ServiceAnalytics.sendMilestone("custom2")},_onWorldGenerationCompleteDelay:function(){this._world.start();this._unpauseGameplay();l.ServiceAnalytics.sendMilestone("custom6");this._timerAnalytics=0},_onWorldGenerationComplete:function(){R.delay(u(this,
this._onWorldGenerationCompleteDelay),300);this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_GAMEPLAY_HUD,!0);l.ServiceNickAnalytics.sendMetric(l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_GAME,this._timerAnalytics)},_gotoAndPlayGame:function(){var a;a=d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_QUALITY);if(0==a)a="gameplay_sd";else if(1==a)a="gameplay_hd";else throw"[Main](_gotoAndPlayGame) Error: Not expecting quality flag "+a+". Nothing loaded.";var b;b=F.ConstantsCloud.getSupportsAllAudio()?"gameplay_audio_with_soundfx":
"gameplay_audio_only_music";this._loadChunks([a,b],u(this,this._eventLoadCompleteGameplay),1200)&&(this._isWorldActive?d.WorkinCloud.get_instance().log("[Main](_gotoAndPlayGame) World already exists. Using existing world instead of creating a new one."):this._generateWorld())},_generateUI:function(){this._isUIActive=!0;this._ui.addScreen(e.ConstantsScreen.SCREEN_LOADING,g.screens.ScreenLoading);this._ui.addScreen(e.ConstantsScreen.SCREEN_MINIGAME,g.screens.ScreenMinigame);this._ui.addScreen(e.ConstantsScreen.SCREEN_CUTSCENE_BORDERS,
g.screens.ScreenGeneric,"ui/cutscene/cutscene_border");this._ui.addScreen(e.ConstantsScreen.SCREEN_SPLASH,g.screens.ScreenSplash,"title_screen");this._ui.addScreen(e.ConstantsScreen.SCREEN_HELP,g.screens.ScreenHelp);this._ui.addScreen(e.ConstantsScreen.SCREEN_SHOP,g.screens.ScreenShop);this._ui.addScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU,g.screens.ScreenGameplayMenu);this._ui.addScreen(e.ConstantsScreen.SCREEN_QUIT_CONFIRM,g.screens.ScreenQuitConfirm);this._ui.addScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_HUD,
g.screens.ScreenGameplayHUD);this._ui.addScreen(e.ConstantsScreen.SCREEN_END_GAME,g.screens.ScreenEndGame);this._ui.addScreen(e.ConstantsScreen.SCREEN_PAUSE_ALERT,g.screens.ScreenPauseAlert);this._ui.addScreen(e.ConstantsScreen.SCREEN_ENTER_CODE,g.screens.ScreenEnterCode);this._ui.addScreen(e.ConstantsScreen.SCREEN_ACHIEVEMENT_POPUP,g.screens.ScreenAchievementPopup);this._ui.addScreen(e.ConstantsScreen.SCREEN_ACHIEVEMENTS,g.screens.ScreenAchievements);this._ui.get_dispatcher().addEventListener(o.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT,
u(this,this._onEventInterfaceChange));null},_registerInput:function(){d.WorkinCloud.get_instance().get_input().registerInput(e.ConstantsApp.INPUT_LEFT,[h.Key.Left,h.Key.A]);d.WorkinCloud.get_instance().get_input().registerInput(e.ConstantsApp.INPUT_RIGHT,[h.Key.Right,h.Key.D]);d.WorkinCloud.get_instance().get_input().registerInput(e.ConstantsApp.INPUT_UP,[h.Key.Up,h.Key.W],[e.ConstantsApp.VIRTUAL_JUMP]);d.WorkinCloud.get_instance().get_input().registerInput(e.ConstantsApp.INPUT_DOWN,[h.Key.Down,h.Key.S]);
d.WorkinCloud.get_instance().get_input().registerInput(e.ConstantsApp.INPUT_SPACE,[h.Key.Z,h.Key.Space],[e.ConstantsApp.VIRTUAL_FLASH])},_setDefaults:function(){d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_PAUSED,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_GAME_WIN,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_GAME_LOSE,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_LEVEL_WIN,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_LEVEL_LOSE,
!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_CODE_SCREEN_OPEN,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_CODE_UNLOCK,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_PRELOAD_LOADED,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_INITIAL_LOADED,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_GAMEPLAY_LOADED,!1);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_TOUCH_DEVICE,
C._platform.getTouch().get_supported());d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_HEALTH,3);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LIVES,3);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_SCORE,0);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LEVEL,0);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_BEST_SCORE,0);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_CURRENCY,200);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LOADING_PROGRESS,
0);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LOADING_SCORE,0);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_ACHIEVEMENT_SCORE,0);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_QUALITY,0);e.Inventory.setDefaults();d.WorkinCloud.get_instance().setString(e.ConstantsApp.STRING_LEVEL_ID,"level1");d.WorkinCloud.get_instance().get_sound().setMute(e.ConstantsApp.OPTION_SILENCE_AUDIO)},_beginEngine:function(){d.WorkinCloud.get_instance().log("[Main](_beginEngine)");this._timeline.add(new ba.ComponentUpdater);
this._parseConfigXML();this._ui=new g.ScreenManager(this._layerUI);this._setDefaults();this._generateUI();this._registerInput();this._beginPreload()},_eventLoadCompleteInitial:function(){d.WorkinCloud.get_instance().log("[Main](_eventLoadCompleteInitial) Initial load complete!");d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(F.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_INITIAL_LOADED,!0);this._flagInitialLoadComplete=
!0;0<d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_GAME_CLASS)?d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(e.ConstantsScreen.FLOW_LOADING_DONE)):R.delay(u(this,this._enableSplash),1200);l.ServiceNickAnalytics.sendMetric(l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_INITIAL,this._timerAnalytics)},_eventLoadCompleteGameplay:function(){d.WorkinCloud.get_instance().log("[Main](_eventLoadCompleteGameplay) Gameplay load complete!");d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(F.ConstantsCloud.EVENT_FILES_LOADED,
this._loadCallbackMethod)},_loadChunksDelayCallback:function(){this._loadChunks(this._loadChunksCurrent,this._loadCallbackMethod,0,!1)},_gotoLoadScreen:function(a){null==a&&(a=!0);this._ui.openScreen(e.ConstantsScreen.SCREEN_LOADING,!1);0<d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_GAME_CLASS)&&a&&this._ui.openScreen(e.ConstantsScreen.SCREEN_MINIGAME,!1)},_loadChunks:function(a,b,c,i){null==i&&(i=!0);null==c&&(c=0);for(var f=0,g=!0;f<a.length;)d.WorkinCloud.get_instance().get_assets().isChunkLoaded(a[f])||
(g=!1),f++;if(g)return!0;d.WorkinCloud.get_instance().get_assets().isLoading()||d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LOADING_PROGRESS,0);this._loadChunksCurrent=a;this._loadCallbackMethod=b;if(0<c)return R.delay(u(this,this._loadChunksDelayCallback),c),i&&this._gotoLoadScreen(),!1;d.WorkinCloud.get_instance().get_dispatcher().addEventListener(F.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);for(f=0;f<a.length;)d.WorkinCloud.get_instance().get_assets().isChunkLoaded(a[f])||
d.WorkinCloud.get_instance().get_assets().loadChunk(a[f]),f++;i&&this._gotoLoadScreen();return!1},_determineLoadProcess:function(a){d.WorkinCloud.get_instance().log("[Main](_determineLoadProcess) Performance benchmark: "+a);a=a<e.ConstantsApp.benchmarkGoal?0:1;d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_QUALITY,a);this._beginInitialLoad(a)},_beginInitialLoad:function(a){d.WorkinCloud.get_instance().log("[Main](_beginInitialLoad) Beginning initial load.");if(0==a)a="initial_sd";else if(1==
a)a="initial_hd";else throw"[Main](_beginInitialLoad) Error: Not expecting quality flag "+a+". Nothing loaded.";var b;b=F.ConstantsCloud.getSupportsAllAudio()?"initial_audio_with_soundfx":"initial_audio_only_music";this._loadChunks([a,b],u(this,this._eventLoadCompleteInitial),1200,!1)},_onPreloadFinished:function(){d.WorkinCloud.get_instance().log("[Main](_onPreloadFinished) Preload complete!");d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(F.ConstantsCloud.EVENT_FILES_LOADED,u(this,
this._onPreloadFinished));d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_PRELOAD_LOADED,!0);0<d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_GAME_CLASS)&&(this._ui.openScreen(e.ConstantsScreen.SCREEN_MINIGAME,!1),this._enableInput());var a=d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_QUALITY);-1==a?L.Benchmark.start(u(this,this._determineLoadProcess)):this._beginInitialLoad(a)},_beginPreload:function(){this._timerAnalytics=0;try{eval('var div = document.getElementById("loadingOverlay"); div.parentNode.removeChild(div);')}catch(a){null}d.WorkinCloud.get_instance().log("[Main](_beginPreload) Beginning preload (contains fonts).");
d.WorkinCloud.get_instance().get_dispatcher().addEventListener(F.ConstantsCloud.EVENT_FILES_LOADED,u(this,this._onPreloadFinished));this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_SPLASH,!1);var b=d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_GAME_CLASS);0<b&&(this._ui.getScreen(e.ConstantsScreen.SCREEN_SPLASH).suspend(),d.WorkinCloud.get_instance().get_assets().loadChunk("preload_game_"+b));d.WorkinCloud.get_instance().get_assets().addPackDef("fonts_"+d.WorkinCloud.get_instance().getString(F.ConstantsCloud.STRING_REGION_ID));
d.WorkinCloud.get_instance().get_assets().loadPack("fonts_"+d.WorkinCloud.get_instance().getString(F.ConstantsCloud.STRING_REGION_ID));d.WorkinCloud.get_instance().get_assets().loadChunk("preload")},_parseConfigXML:function(){d.WorkinCloud.get_instance().log("[Main](_parseConfigXML) Parse Config XML: "+e.ConstantsApp.CONFIG_XML_PATH);for(var a=d.WorkinCloud.get_instance().get_assets().getXML(e.ConstantsApp.CONFIG_XML_PATH),b=a.node.resolve("packs").nodes.resolve("pack").iterator();b.hasNext();){for(var c=
b.next(),i=[],f=c.nodes.resolve("flump").iterator();f.hasNext();){var g=f.next();i.push(g.att.resolve("id").toString())}for(var f=[],h=c.nodes.resolve("tiles").iterator();h.hasNext();){var j=h.next();if(j.has.resolve("num"))for(var g=t.parseInt(j.att.resolve("num")),k=0;k<g;){var l=k++;f.push(j.att.resolve("id").toString()+l)}else f.push(j.att.resolve("id").toString())}d.WorkinCloud.get_instance().get_assets().addPackDef(c.att.resolve("id").toString(),i,f)}for(b=a.node.resolve("chunks").nodes.resolve("chunk").iterator();b.hasNext();)c=
b.next(),d.WorkinCloud.get_instance().get_assets().addChunk(c.att.resolve("id").toString(),c);b=!1;d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_TOUCH_DEVICE)&&(b="false"==a.node.resolve("quality").att.resolve("forceLowQualityMobile")?!1:!0);d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_LOW_QUALITY_MOBILE,b);!0==b?d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_QUALITY,0):d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_QUALITY,t.parseInt(a.node.resolve("quality").att.resolve("index")));
a.hasNode.resolve("minigame")?d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_GAME_CLASS,t.parseInt(a.node.resolve("minigame").att.resolve("type"))):d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_GAME_CLASS,0);a.hasNode.resolve("unlockCode")?d.WorkinCloud.get_instance().setString(e.ConstantsApp.STRING_UNLOCK_CODE,a.node.resolve("unlockCode").get_innerData()):d.WorkinCloud.get_instance().setString(e.ConstantsApp.STRING_UNLOCK_CODE,"000000");d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_ALLOW_UNLOCK,
!1);a.hasNode.resolve("unlockEnabled")&&d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_ALLOW_UNLOCK,"true"==a.node.resolve("unlockEnabled").get_innerData());"true"==a.node.resolve("achievements").att.resolve("enabled").toString()&&(d.WorkinCloud.get_instance().log("[Main] Init Achievements"),d.WorkinCloud.get_instance().get_achievements().init());d.WorkinCloud.get_instance().setString(F.ConstantsCloud.STRING_REGION_ID,t.string(a.node.resolve("localization").node.resolve("region").get_innerData()));
d.WorkinCloud.get_instance().log("[Main] Localization : Set Region: "+d.WorkinCloud.get_instance().getString(F.ConstantsCloud.STRING_REGION_ID))},errorHandler:function(a){d.WorkinCloud.get_instance().log("Error:"+a)},__class__:ca};e={};e.Achievement=m["com.nick.spongeBob.bubble_blast_flambe_october.data.Achievement"]={__ename__:"com,nick,spongeBob,bubble_blast_flambe_october,data,Achievement".split(","),__constructs__:"ACHIEVEMENT_FIRSTPLAY,ACHIEVEMENT_LEVEL2,ACHIEVEMENT_SCORE100,ACHIEVEMENT_LEVEL5,ACHIEVEMENT_SCORE1000,ACHIEVEMENT_CODEUNLOCKED".split(",")};
e.Achievement.ACHIEVEMENT_FIRSTPLAY=["ACHIEVEMENT_FIRSTPLAY",0];e.Achievement.ACHIEVEMENT_FIRSTPLAY.toString=n;e.Achievement.ACHIEVEMENT_FIRSTPLAY.__enum__=e.Achievement;e.Achievement.ACHIEVEMENT_LEVEL2=["ACHIEVEMENT_LEVEL2",1];e.Achievement.ACHIEVEMENT_LEVEL2.toString=n;e.Achievement.ACHIEVEMENT_LEVEL2.__enum__=e.Achievement;e.Achievement.ACHIEVEMENT_SCORE100=["ACHIEVEMENT_SCORE100",2];e.Achievement.ACHIEVEMENT_SCORE100.toString=n;e.Achievement.ACHIEVEMENT_SCORE100.__enum__=e.Achievement;e.Achievement.ACHIEVEMENT_LEVEL5=
["ACHIEVEMENT_LEVEL5",3];e.Achievement.ACHIEVEMENT_LEVEL5.toString=n;e.Achievement.ACHIEVEMENT_LEVEL5.__enum__=e.Achievement;e.Achievement.ACHIEVEMENT_SCORE1000=["ACHIEVEMENT_SCORE1000",4];e.Achievement.ACHIEVEMENT_SCORE1000.toString=n;e.Achievement.ACHIEVEMENT_SCORE1000.__enum__=e.Achievement;e.Achievement.ACHIEVEMENT_CODEUNLOCKED=["ACHIEVEMENT_CODEUNLOCKED",5];e.Achievement.ACHIEVEMENT_CODEUNLOCKED.toString=n;e.Achievement.ACHIEVEMENT_CODEUNLOCKED.__enum__=e.Achievement;e.Achievements=function(){};
m["com.nick.spongeBob.bubble_blast_flambe_october.data.Achievements"]=e.Achievements;e.Achievements.__name__="com,nick,spongeBob,bubble_blast_flambe_october,data,Achievements".split(",");e.Achievements.achievmentData=function(a){switch(a[1]){case 0:return{id:"firstplay",valueId:e.ConstantsApp.BOOL_GAME_LOSE,value:!0,points:1};case 1:return{id:"level2",valueId:e.ConstantsApp.INT_LEVEL,value:2,points:1};case 3:return{id:"level5",valueId:e.ConstantsApp.INT_LEVEL,value:5,points:3};case 2:return{id:"score100",
valueId:e.ConstantsApp.INT_SCORE,value:100,points:1};case 4:return{id:"score1000",valueId:e.ConstantsApp.INT_SCORE,value:1E3,points:5};case 5:return{id:"codeunlocked",valueId:e.ConstantsApp.BOOL_CODE_UNLOCK,value:!0,points:10}}};e.ConstantsApp=function(){};m["com.nick.spongeBob.bubble_blast_flambe_october.data.ConstantsApp"]=e.ConstantsApp;e.ConstantsApp.__name__="com,nick,spongeBob,bubble_blast_flambe_october,data,ConstantsApp".split(",");e.ConstantsApp.get_CANVAS_SCALE=function(){return!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_JSEMBED_EXISTS)?
1:d.JSEmbedProxy.get_canvasScale()*e.ConstantsApp.scaleFactor};e.ConstantsApp.get_CANVAS_LEFT_ABSOLUTE=function(){return!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_JSEMBED_EXISTS)||!e.ConstantsApp.OPTION_FILL_CANVAS?0:-d.JSEmbedProxy.get_contentOffsetX()};e.ConstantsApp.get_CANVAS_TOP_ABSOLUTE=function(){return!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_JSEMBED_EXISTS)||!e.ConstantsApp.OPTION_FILL_CANVAS?0:-d.JSEmbedProxy.get_contentOffsetY()};e.ConstantsApp.get_CANVAS_LEFT=
function(){return!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_JSEMBED_EXISTS)||!e.ConstantsApp.OPTION_FILL_CANVAS?0:-(d.JSEmbedProxy.get_contentOffsetX()/e.ConstantsApp.get_CANVAS_SCALE())};e.ConstantsApp.get_CANVAS_TOP=function(){return!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_JSEMBED_EXISTS)||!e.ConstantsApp.OPTION_FILL_CANVAS?0:-(d.JSEmbedProxy.get_contentOffsetY()/e.ConstantsApp.get_CANVAS_SCALE())};e.ConstantsApp.get_CANVAS_RIGHT=function(){return!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_JSEMBED_EXISTS)||
!e.ConstantsApp.OPTION_FILL_CANVAS?e.ConstantsApp.STAGE_WIDTH:(d.JSEmbedProxy.get_scaledWidth()+e.ConstantsApp.get_CANVAS_LEFT_ABSOLUTE())/d.JSEmbedProxy.get_canvasScale()};e.ConstantsApp.get_CANVAS_BOTTOM=function(){return!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_JSEMBED_EXISTS)||!e.ConstantsApp.OPTION_FILL_CANVAS?e.ConstantsApp.STAGE_HEIGHT:(d.JSEmbedProxy.get_scaledHeight()+e.ConstantsApp.get_CANVAS_TOP_ABSOLUTE())/d.JSEmbedProxy.get_canvasScale()};e.ConstantsAssets=function(){};
m["com.nick.spongeBob.bubble_blast_flambe_october.data.ConstantsAssets"]=e.ConstantsAssets;e.ConstantsAssets.__name__="com,nick,spongeBob,bubble_blast_flambe_october,data,ConstantsAssets".split(",");e.ConstantsAssets.getAnimationFrames=function(a){var b=0,c="",i=1;if("anim_patrick_fall"==a)b=3,c="p_fall";else if("anim_patrick_hit"==a)b=3,c="p_hit";else if("anim_patrick_die"==a)b=1,c="p_die";else if("anim_dweller_bot"==a)b=13,c="monster_bottom";else if("anim_dweller_top"==a)b=6,c="monster_top";else if("anim_dweller_top_idle"==
a)b=4,c="monster_top",i=3;else if("anim_dweller_bot_idle"==a)b=10,c="monster_bottom";else return null;for(var a=[],d=0;d<b;){var e=d++ +i,f="",f=10>e?"0"+e:""+e;a.push(c+"_"+f)}return a};e.ConstantsScreen=function(){};m["com.nick.spongeBob.bubble_blast_flambe_october.data.ConstantsScreen"]=e.ConstantsScreen;e.ConstantsScreen.__name__="com,nick,spongeBob,bubble_blast_flambe_october,data,ConstantsScreen".split(",");e.Item=m["com.nick.spongeBob.bubble_blast_flambe_october.data.Item"]={__ename__:"com,nick,spongeBob,bubble_blast_flambe_october,data,Item".split(","),
__constructs__:["ITEM_SWORD","ITEM_SHIELD","ITEM_CANDLE","ITEM_GLOVES"]};e.Item.ITEM_SWORD=["ITEM_SWORD",0];e.Item.ITEM_SWORD.toString=n;e.Item.ITEM_SWORD.__enum__=e.Item;e.Item.ITEM_SHIELD=["ITEM_SHIELD",1];e.Item.ITEM_SHIELD.toString=n;e.Item.ITEM_SHIELD.__enum__=e.Item;e.Item.ITEM_CANDLE=["ITEM_CANDLE",2];e.Item.ITEM_CANDLE.toString=n;e.Item.ITEM_CANDLE.__enum__=e.Item;e.Item.ITEM_GLOVES=["ITEM_GLOVES",3];e.Item.ITEM_GLOVES.toString=n;e.Item.ITEM_GLOVES.__enum__=e.Item;e.Inventory=function(){};
m["com.nick.spongeBob.bubble_blast_flambe_october.data.Inventory"]=e.Inventory;e.Inventory.__name__="com,nick,spongeBob,bubble_blast_flambe_october,data,Inventory".split(",");e.Inventory.getUniqueSuffix=function(a){switch(a[1]){case 0:return"sword";case 1:return"shield";case 2:return"candle";case 3:return"gloves"}};e.Inventory.getRankDefault=function(a){switch(a[1]){case 0:return 1;default:return 0}};e.Inventory.getRankCap=function(a){switch(a[1]){case 0:return 3;case 1:return 3;case 2:return 3;case 3:return 2}};
e.Inventory.getCostNextRank=function(a){switch(a[1]){case 0:return 200+20*e.Inventory.getRank(a);case 1:return 20+20*e.Inventory.getRank(a);case 2:return 30+20*e.Inventory.getRank(a);case 3:return 40+20*e.Inventory.getRank(a)}};e.Inventory.getIcon=function(a){return"icon_"+e.Inventory.getUniqueSuffix(a)};e.Inventory.getLocalizationNameID=function(a){var b="";return b="item_name_"+e.Inventory.getUniqueSuffix(a)};e.Inventory.getLocalizationDescID=function(a,b){null==b&&(b=0);var c="";return c=0>=e.Inventory.getRank(a)+
b?"item_unowned":"item_desc_"+e.Inventory.getUniqueSuffix(a)+"_"+(e.Inventory.getRank(a)+b)};e.Inventory.getCurrencyType=function(){return e.ConstantsApp.INT_CURRENCY};e.Inventory.canAffordNextRank=function(a){return e.Inventory.hasRankCapped(a)?!1:d.WorkinCloud.get_instance().getInt(e.Inventory.getCurrencyType(a))>=e.Inventory.getCostNextRank(a)};e.Inventory.hasRankCapped=function(a){return e.Inventory.getRank(a)>=e.Inventory.getRankCap(a)};e.Inventory.getRank=function(a){return d.WorkinCloud.get_instance().getInt(e.Inventory.getRankStorageID(a))};
e.Inventory.setRank=function(a,b){d.WorkinCloud.get_instance().setInt(e.Inventory.getRankStorageID(a),b)};e.Inventory.addRank=function(a,b){null==b&&(b=1);d.WorkinCloud.get_instance().modifyInt(e.Inventory.getRankStorageID(a),b)};e.Inventory.setDefaults=function(){e.Inventory.setRanksToDefault();e.Inventory.output()};e.Inventory.setRanksToDefault=function(){for(var a=0,b=N.allEnums(e.Item);a<b.length;){var c=b[a];++a;e.Inventory.setRank(c,e.Inventory.getRankDefault(c))}};e.Inventory.getRankStorageID=
function(a){return"int_rank_"+e.Inventory.getUniqueSuffix(a)};e.Inventory.output=function(){for(var a=0,b=N.allEnums(e.Item);a<b.length;)++a,null};e.Inventory.getItemList=function(){return N.allEnums(e.Item)};g={ScreenManager:function(a){this._dispatcher=o.WMEventDispatcher.request();this._container=a;this._layerScreen=new P;this._layerTransition=new P;this._container.addChild(this._layerScreen);this._container.addChild(this._layerTransition);this._isPaused=!1;this._screens=[];this._screensOpen=[];
this._screensQueue=[];this._transitionType=-1;this._flagCloseAllScreensWhenBottomCloses=this._flagHasScreenshot=this._flagOpenScreenAfterTransition=this._flagCloseScreenAfterTransition=this._flagHasTransition=!1;this._camera=new f.WorkinCamera(e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_CENTER_Y)}};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.ScreenManager"]=g.ScreenManager;g.ScreenManager.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,ScreenManager".split(",");g.ScreenManager.prototype=
{_transitionPlay:function(){this._transition.show();this._transition.start()},_removeTransition:function(){this._flagHasTransition&&(this._layerTransition.removeChild(this._transition.get_root()),this._transition.get_dispatcher().removeEventListener(o.WMEventScreenOut.EVENT_SCREEN_OUTPUT,u(this,this._onEventTransitionOutput)),this._transition.dispose(),this._transition=null,this._flagHasTransition=!1)},_addTransition:function(a,b){null==b&&(b=!0);if(this._flagHasTransition){if(!b)return;this._removeTransition()}this._transition=
new g.transitions.TransitionBase(a);this._transition.hide();this._transition.get_dispatcher().addEventListener(o.WMEventScreenOut.EVENT_SCREEN_OUTPUT,u(this,this._onEventTransitionOutput));this._layerTransition.addChild(this._transition.get_root());this._flagHasTransition=!0},_updateTransition:function(a){switch(this._transitionType){case e.ConstantsScreen.TRANSITION_SCROLL:this._transitionScreenHeadedOut.get_pos().x-=3E3*a;this._transitionScreenHeadedIn.get_pos().x-=3E3*a;0>=this._transitionScreenHeadedIn.get_pos().x&&
(this._transitionScreenHeadedIn.get_pos().x=0,this._flagHasTransition=!1,this._onTransitionCloseScreen(),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE));break;case e.ConstantsScreen.TRANSITION_SCROLL_UP:this._transitionScreenHeadedOut.get_pos().y-=2E3*a;this._transitionScreenHeadedIn.get_pos().y-=2E3*a;0>=this._transitionScreenHeadedIn.get_pos().y&&(this._transitionScreenHeadedIn.get_pos().y=0,this._flagHasTransition=!1,this._onTransitionCloseScreen(),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE));
break;case e.ConstantsScreen.TRANSITION_SCROLL_DOWN:this._transitionScreenHeadedOut.get_pos().y+=2E3*a;this._transitionScreenHeadedIn.get_pos().y+=2E3*a;0<=this._transitionScreenHeadedIn.get_pos().y&&(this._transitionScreenHeadedIn.get_pos().y=0,this._flagHasTransition=!1,this._onTransitionCloseScreen(),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE));break;case e.ConstantsScreen.TRANSITION_FADE:this._transition.update(a),this._transition.flagDispose&&this._removeTransition()}},
_removeScreenDisplay:function(a){this._layerScreen.removeChild(a)},_addScreenDisplay:function(a){this._layerScreen.addChild(a)},_dispatchEventChange:function(a,b){this._dispatcher.dispatchEvent(o.WMEventInterfaceChange.request(a,b))},_onQueueConditionMet:function(a,b){null==b&&(b="");for(var c=0;c<this._screensQueue.length;)this._screensQueue[c].validateCondition(a,b)&&(this._generateScreen(this._screensQueue[c].screenData),this._screensQueue.splice(c,1)),c++},_getScreenData:function(a){for(var b=
this._screens.length-1;0<=b;){if(this._screens[b].id==a)return this._screens[b];b--}d.WorkinCloud.get_instance().log("[ScreenManager](_getScreenData) ERROR: Screen >"+a+"< idoes not exist. getScreenData() returning NULL.");return null},_hasScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return!0;b--}return!1},_removeScreenshot:function(){this._flagHasScreenshot&&(this._layerScreen.removeChild(this._screenshot.get_root()),this._screenshot.dispose(),this._screenshot=
null,this._flagHasScreenshot=!1)},_addScreenshot:function(){d.WorkinCloud.get_instance().log("[ScreenManager](_addScreenshot) ERROR: Screenshots not supported in HTML5 yet.")},_onTransitionCloseScreen:function(){this._flagCloseScreenAfterTransition&&(this.closeScreen(this._screenIdToCloseAfterTransition,!1),this._flagCloseScreenAfterTransition=!1);this._flagOpenScreenAfterTransition&&(this.openScreen(this._screenIdToOpenDuringTransition,!1),this._flagOpenScreenAfterTransition=!1)},_onEventTransitionOutput:function(a){a.flowId==
e.ConstantsScreen.OUTPUT_OPENED?(d.WorkinCloud.get_instance().log("[ScreenManager] Transition Midway..."),this._onTransitionCloseScreen(),this._removeScreenshot(),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_TRANSITION_MIDWAY)):a.flowId==e.ConstantsScreen.OUTPUT_CLOSED&&(d.WorkinCloud.get_instance().log("[ScreenManager] Transition Complete."),this._removeScreenshot(),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE))},_onEventScreenOutput:function(a){a.flowId==e.ConstantsScreen.OUTPUT_OPENED?
this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_COMPLETE,a.screenId):a.flowId==e.ConstantsScreen.OUTPUT_CLOSED&&(this._dispatchEventChange(e.ConstantsScreen.CHANGE_CLOSE_COMPLETE,a.screenId),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_CLOSED_SPECIFIC,a.screenId),this._flagHasTransition&&this._transitionType==e.ConstantsScreen.TRANSITION_STAGED&&this._transitionPlay())},_disposeScreen:function(a){for(var b=0;b<this._screensOpen.length;){if(this._screensOpen[b].id==a){this._screensOpen[b].get_dispatcher().removeEventListener(o.WMEventScreenOut.EVENT_SCREEN_OUTPUT,
u(this,this._onEventScreenOutput));this._removeScreenDisplay(this._screensOpen[b].get_root());this._screensOpen[b].dispose();this._screensOpen.splice(b,1);break}b++}},_generateScreen:function(a){if(this.isScreenOpen(a.id))this.getScreen(a.id).reset(),this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_BEGIN,a.id);else{var b=N.createInstance(a.screenClass,[a.id,a.assetClassName,a.data]);if(null==b)d.WorkinCloud.get_instance().log("[ScreenManager](_generateScreen) ERROR: Screen Class for >"+a.id+
"< not found.");else{if(this._flagHasTransition)switch(this._transitionScreenHeadedIn=b,this._transitionType){case e.ConstantsScreen.TRANSITION_SCROLL:b.get_pos().x=e.ConstantsApp.STAGE_WIDTH;break;case e.ConstantsScreen.TRANSITION_SCROLL_UP:b.get_pos().y=e.ConstantsApp.STAGE_HEIGHT;break;case e.ConstantsScreen.TRANSITION_SCROLL_DOWN:b.get_pos().y=-e.ConstantsApp.STAGE_HEIGHT}this._screensOpen.push(b);b.renderPosition(this._camera);this._addScreenDisplay(b.get_root());b.get_dispatcher().addEventListener(o.WMEventScreenOut.EVENT_SCREEN_OUTPUT,
u(this,this._onEventScreenOutput));b.open(!0);this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_BEGIN,a.id)}}},_addScreenToQueue:function(a,b,c){null==c&&(c="");this.hasQueuedScreen(a.id)||this._screensQueue.push(new g.screens.data.ScreenQueueData(a,b,c))},removeAllQueuedScreens:function(){for(var a=this._screensQueue.length-1;0<=a;)this._screensQueue.splice(a,1),a--},removeQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a){this._screensQueue.splice(b,
1);break}b--}},hasQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a)return!0;b--}return!1},isScreenOpen:function(a){for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return!0;b--}return!1},getScreen:function(a){null==a&&(a="");if(0==this._screensOpen.length)return d.WorkinCloud.get_instance().log("[ScreenManager](getScreen) ERROR: no screens are open. Unable to getScreen()"),null;if(""==a)return this._screensOpen[this._screensOpen.length-
1];for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return this._screensOpen[b];b--}d.WorkinCloud.get_instance().log("[ScreenManager](getScreen) ERROR: Screen >"+a+"< is not open or does not exist. getScreen() returning NULL.");return null},update:function(a){if(!this._isPaused){0.15<a&&(a=0.15);this._flagHasTransition&&this._updateTransition(a);for(this._loop=this._screensOpen.length-1;0<=this._loop;)this._screensOpen[this._loop].update(a),this._screensOpen[this._loop].renderPosition(this._camera),
this._screensOpen[this._loop].flagDispose&&(this._disposeScreen(this._screensOpen[this._loop].id),0==this._screensOpen.length&&this._onQueueConditionMet(e.ConstantsScreen.CONDITION_CLOSED_ALL)),this._loop--}},get_isTransition:function(){return this._flagHasTransition},changeScreenTo:function(a,b,c,i){null==i&&(i="");null==c&&(c=-1);null==b&&(b=!1);d.WorkinCloud.get_instance().log("[ScreenManager](changeTo) "+a);this.removeAllQueuedScreens();if(this.isScreenOpen(a)){d.WorkinCloud.get_instance().log("[ScreenManager](changeTo) Screen is already open.");
for(c=this._screensOpen.length-1;0<=c;)this._screensOpen[c].id!=a&&this.closeScreen(this._screensOpen[c].id,b,c),c--;this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_BEGIN,a);this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_COMPLETE,a)}else if(this._flagOpenScreenAfterTransition=this._flagCloseScreenAfterTransition=!1,0<this._screensOpen.length){d.WorkinCloud.get_instance().log("[ScreenManager](changeFrom) "+this._screensOpen[0].id);this._screensOpen[0].suspend();var f=e.ConstantsScreen.CONDITION_CLOSED_ALL;
if(-1<c)switch(this._transitionType=c,this._transitionType){case e.ConstantsScreen.TRANSITION_SCREENSHOT:this._flagOpenScreenAfterTransition=!0;b=!1;this._addScreenshot();this._transitionPlay();break;case e.ConstantsScreen.TRANSITION_SCROLL:this._flagHasTransition=!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];f=e.ConstantsScreen.CONDITION_IMMEDIATE;break;case e.ConstantsScreen.TRANSITION_SCROLL_UP:this._flagHasTransition=
!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];f=e.ConstantsScreen.CONDITION_IMMEDIATE;break;case e.ConstantsScreen.TRANSITION_SCROLL_DOWN:this._flagHasTransition=!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];f=e.ConstantsScreen.CONDITION_IMMEDIATE;break;case e.ConstantsScreen.TRANSITION_SCROLL:this._flagHasTransition=
!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];f=e.ConstantsScreen.CONDITION_IMMEDIATE;break;case e.ConstantsScreen.TRANSITION_FADE:this._addTransition(i,this._flagHasTransition?this._transition.get_isOutro()?!0:!1:!1),this._flagCloseScreenAfterTransition=!0,b=!1,this._transitionPlay(),f=e.ConstantsScreen.CONDITION_TRANSITION_MIDWAY}if(0<this._screensOpen.length&&(this._flagCloseScreenAfterTransition?this._screenIdToCloseAfterTransition=
this._screensOpen[0].id:this.closeScreen(this._screensOpen[0].id,b,0),1<this._screensOpen.length))for(c=1;c<this._screensOpen.length;)this.closeScreen(this._screensOpen[c].id,b,this._screensOpen.length),c++;this._flagOpenScreenAfterTransition?(d.WorkinCloud.get_instance().log("[ScreenManager] Store Screen to open at transition midway: "+a),this._screenIdToOpenDuringTransition=a):this.openScreen(a,!0,f)}else this.openScreen(a,!1)},openScreen:function(a,b,c,i){null==i&&(i="");null==c&&(c=0);null==b&&
(b=!0);d.WorkinCloud.get_instance().log("[ScreenManager](openScreen) "+a);if(this._hasScreenData(a)){if(!this.isScreenOpen(a)){if(c!=e.ConstantsScreen.CONDITION_IMMEDIATE&&b){if(0<this._screensOpen.length){this._addScreenToQueue(this._getScreenData(a),c,i);return}if((c==e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE||c==e.ConstantsScreen.CONDITION_TRANSITION_MIDWAY)&&this._flagHasTransition){this._addScreenToQueue(this._getScreenData(a),c,i);return}}this._generateScreen(this._getScreenData(a))}}else d.WorkinCloud.get_instance().log("[ScreenManager](closeScreen) ERROR: Screen >"+
a+"< does not exist. Cancelling open().")},closeScreen:function(a,b,c){null==c&&(c=-1);null==b&&(b=!0);null==a&&(a="");if(0==this._screensOpen.length)this.removeQueuedScreen(a);else{if(""==a)c=this._screensOpen[this._screensOpen.length-1];else if(0<=c&&c<this._screensOpen.length)c=this._screensOpen[c];else if(c=this.getScreen(a),null==c){this.removeQueuedScreen(a);return}c.close(b);this._dispatchEventChange(e.ConstantsScreen.CHANGE_CLOSE_BEGIN,a)}},handleInput:function(a){for(var b=0,c=this._screensOpen;b<
c.length;){var i=c[b];++b;i.handleInput(a)}},addScreen:function(a,b,c,i,d){null==i&&(i=0);null==c&&(c="");this._screens.push(new g.screens.data.ScreenData(a,b,c,i,d))},get_dispatcher:function(){return this._dispatcher},__class__:g.ScreenManager};g.buttons={};g.buttons._ButtonBase={};g.buttons._ButtonBase.ButtonState=m["com.nick.spongeBob.bubble_blast_flambe_october.ui.buttons._ButtonBase.ButtonState"]={__ename__:"com,nick,spongeBob,bubble_blast_flambe_october,ui,buttons,_ButtonBase,ButtonState".split(","),
__constructs__:["_STATE_UP","_STATE_DOWN","_STATE_OVER","_STATE_CLICK"]};g.buttons._ButtonBase.ButtonState._STATE_UP=["_STATE_UP",0];g.buttons._ButtonBase.ButtonState._STATE_UP.toString=n;g.buttons._ButtonBase.ButtonState._STATE_UP.__enum__=g.buttons._ButtonBase.ButtonState;g.buttons._ButtonBase.ButtonState._STATE_DOWN=["_STATE_DOWN",1];g.buttons._ButtonBase.ButtonState._STATE_DOWN.toString=n;g.buttons._ButtonBase.ButtonState._STATE_DOWN.__enum__=g.buttons._ButtonBase.ButtonState;g.buttons._ButtonBase.ButtonState._STATE_OVER=
["_STATE_OVER",2];g.buttons._ButtonBase.ButtonState._STATE_OVER.toString=n;g.buttons._ButtonBase.ButtonState._STATE_OVER.__enum__=g.buttons._ButtonBase.ButtonState;g.buttons._ButtonBase.ButtonState._STATE_CLICK=["_STATE_CLICK",3];g.buttons._ButtonBase.ButtonState._STATE_CLICK.toString=n;g.buttons._ButtonBase.ButtonState._STATE_CLICK.__enum__=g.buttons._ButtonBase.ButtonState;k={};d=void 0;F=void 0;l=void 0;o=void 0;ba=void 0;f=void 0;U=void 0;k.IPoolable=function(){};m["com.workinman.display.IPoolable"]=
k.IPoolable;k.IPoolable.__name__=["com","workinman","display","IPoolable"];k.IPoolable.prototype={__class__:k.IPoolable};k.Poolable=function(){this._flagPooled=!0;this._flagActive=!1};m["com.workinman.display.Poolable"]=k.Poolable;k.Poolable.__name__=["com","workinman","display","Poolable"];k.Poolable.__interfaces__=[k.IPoolable];k.Poolable.prototype={set_isPooled:function(a){return this._flagPooled=a},get_isPooled:function(){return this._flagPooled},dispose:function(){this.release()},release:function(){this._flagActive=
!1},renew:function(){this._flagActive=!0},__class__:k.Poolable};k.Element=function(a){k.Poolable.call(this,a);this._rootEntity=new P;this._rootSprite=new p.Sprite;this._rootEntity.add(this._rootSprite);this._imageEntity=new P;this._rootEntity.addChild(this._imageEntity);this._imageSprite=new p.Sprite;this._imageEntity.add(this._imageSprite);this._format=k.ELEMENT_FORMAT.EMPTY;this._elements=[];this._pos=f.WorkinPoint.request();this._velocity=f.WorkinPoint.request();this._render=k.Renderable.request();
this._originX=this._originY=this._offsetX=this._offsetY=0;this._uniqueId=F.ConstantsCloud.getUniqueId();this._layer="";this._useCamera=!0;this._doDelete=!1;!0==a.pooled?this.set_isPooled(!0):(this.set_isPooled(!1),this.renew(a));this._addEventListeners()};m["com.workinman.display.Element"]=k.Element;k.Element.__name__=["com","workinman","display","Element"];k.Element.__super__=k.Poolable;k.Element.prototype=v(k.Poolable.prototype,{_removeEventListeners:function(){},_addEventListeners:function(){},
setRenderOffset:function(a,b){this._offsetX=a;this._offsetY=b;return this},contains:function(a,b){return a>=this._render.x-this._originX*this._render.width&&b>=this._render.y-this._originY*this._render.height&&a<=this._render.x-this._originX*this._render.width+this._render.width&&b<=this._render.y-this._originY*this._render.height+this._render.height},setOrigin:function(a,b){this._originX=a;this._originY=b;0==this._render.width&&(this._render.width=this._imageSprite.getNaturalWidth());0==this._render.height&&
(this._render.height=this._imageSprite.getNaturalHeight());this._imageSprite.x.set__(-(this._originX*this._render.width));this._imageSprite.y.set__(-(this._originY*this._render.height))},applyRenderable:function(){this._rootSprite.x.set__(this._render.x);this._rootSprite.y.set__(this._render.y);this._rootSprite.scaleX.set__(this._render.scaleX);this._rootSprite.scaleY.set__(this._render.scaleY);this._rootSprite.rotation.set__(this._render.rotation);this._rootSprite.alpha.set__(this._render.alpha);
this._rootSprite.set_visible(this._render.visible)},renderPosition:function(a){null==a||!1==this._useCamera?(this._render.x=this._pos.x+this._offsetX,this._render.y=this._pos.y+this._offsetY):(this._render.x=this._pos.x-a.get_pos().x+a.get_screenCenterX()+this._offsetX,this._render.y=this._pos.y-a.get_pos().y+a.get_screenCenterY()+this._offsetY);for(var b=0,c=this._elements;b<c.length;){var i=c[b];++b;i.renderPosition(a)}this.applyRenderable()},addElement:function(a){this._elements.push(a);this._rootEntity.addChild(a.get_root());
return a},removeElement:function(a,b){null==b&&(b=!0);for(this._i=this._elements.length;0<this._i--;)if(this._elements[this._i].get_uniqueId()==a.get_uniqueId()&&(this._elements.splice(this._i,1),a.get_root().parent.removeChild(a.get_root()),b))return a.dispose(),null;return a},updatePositionFromVelocity:function(a){this._pos.x+=this._velocity.x*a;this._pos.y+=this._velocity.y*a},update:function(a){for(var b=0,c=this._elements;b<c.length;){var i=c[b];++b;i.update(a)}this.updatePositionFromVelocity(a)},
_orientTexture:function(a){a&&(this._render.width=this._imageSprite.getNaturalWidth(),this._render.height=this._imageSprite.getNaturalHeight());this._imageSprite.x.set__(-(this._originX*this._render.width));this._imageSprite.y.set__(-(this._originY*this._render.height))},setImageSprite:function(a){this._determineFormat(a);this._imageEntity.remove(this._imageSprite);this._imageSprite.dispose();this._imageSprite=a;this._orientTexture(!0);this._imageEntity.add(this._imageSprite);this._format==k.ELEMENT_FORMAT.TEXTURE&&
(this._textureSprite=this._imageSprite)},setTextureAsset:function(a){if(""==a||!1==d.WorkinCloud.get_instance().get_assets().hasAsset(a))""!=a&&d.WorkinCloud.get_instance().log("[Element](setTextureAsset) No asset named '"+a+"' exists!");else switch(this._format[1]){case 1:this._textureSprite.texture=d.WorkinCloud.get_instance().get_assets().getTexture(a);this._orientTexture(!0);break;default:this.setImageSprite(new p.ImageSprite(d.WorkinCloud.get_instance().get_assets().getTexture(a)))}},_setFormat:function(a){this._format!=
a&&(this._cleanOldFormat(a),this._format=a)},_cleanOldFormat:function(){switch(this._format[1]){case 0:break;case 1:this._textureSprite=null;break;default:null}},_determineFormat:function(a){M.__instanceof(a,p.ImageSprite)?this._setFormat(k.ELEMENT_FORMAT.TEXTURE):this._setFormat(k.ELEMENT_FORMAT.EMPTY)},get_originY:function(){return this._originY},get_originX:function(){return this._originX},get_uniqueId:function(){return this._uniqueId},set_layer:function(a){return this._layer=a},get_layer:function(){return this._layer},
get_depth:function(){return-this._pos.z},get_root:function(){return this._rootEntity},get_renderable:function(){return this._render},set_doDelete:function(a){return this._doDelete=a},get_doDelete:function(){return this._doDelete},set_velocity:function(a){this._velocity.toPoint(a);return this._velocity},get_velocity:function(){return this._velocity},set_pos:function(a){this._pos.toPoint(a);return this._pos},get_pos:function(){return this._pos},dispose:function(){if(this.get_isPooled())this.release();
else{for(var a=0,b=this._elements;a<b.length;){var c=b[a];++a;c.dispose()}this._elements=this._format=null;this._removeEventListeners();this._rootEntity.dispose();this._rootEntity=null;this._rootSprite.dispose();this._rootSprite=null;this._imageEntity.dispose();this._imageEntity=null;this._imageSprite.dispose();this._textureSprite=this._imageSprite=null;this._pos.dispose();this._pos=null;this._velocity.dispose();this._velocity=null;this._render.dispose();this._render=null}},release:function(){this.get_isPooled()&&
k.Poolable.prototype.release.call(this)},renew:function(a){a.asset&&this.setTextureAsset(a.asset);this._doDelete=!1;this._render.width=0;this._render.height=0;a.layer&&(this._layer=a.layer);null!=a.x&&(this._pos.x=a.x);null!=a.y&&(this._pos.y=a.y);null!=a.z&&(this._pos.z=a.z);null!=a.rot&&(this._render.rotation=a.rot);null!=a.scale&&(this._render.scaleX=this._render.scaleY=a.scale);null!=a.scaleX&&(this._render.scaleX=a.scaleX);null!=a.scaleY&&(this._render.scaleY=a.scaleY);null!=a.useCamera&&(this._useCamera=
a.useCamera);if(null!=a.origin){if(M.__instanceof(a.origin,f.WorkinPoint))throw"ERROR: Do not send a WorkinPoint as an origin. Send originX and originY separately, or send a float that will apply to both x and y.";a.originX=a.originY=a.origin}null==a.originX&&(a.originX=0);null==a.originY&&(a.originY=0);this.setOrigin(a.originX,a.originY);k.Poolable.prototype.renew.call(this,a)},__class__:k.Element,__properties__:{set_pos:"set_pos",get_pos:"get_pos",set_velocity:"set_velocity",get_velocity:"get_velocity",
set_doDelete:"set_doDelete",get_doDelete:"get_doDelete",get_renderable:"get_renderable",get_root:"get_root",get_depth:"get_depth",set_layer:"set_layer",get_layer:"get_layer",get_uniqueId:"get_uniqueId",get_originX:"get_originX",get_originY:"get_originY"}});g.buttons.ButtonBase=function(a,b,c,i,e,h,j,l,m){null==m&&(m="");null==l&&(l="");null==j&&(j="");null==h&&(h="");null==e&&(e=0.5);null==i&&(i=0.5);this._DEBUG_SHOW_HITBOX=!1;k.Element.call(this,{x:a,y:b,asset:this._assetUp,originX:i,originY:e});
this._dispatcher=o.WMEventDispatcher.request();this._tween=c;this._hitTestResult=!1;this._parentOffsetY=this._parentOffsetX=0;this._containsInput=!1;this._assetUp=""==h?this._getDefaultAssetUp():h;this._assetOver=""==j?this._getDefaultAssetOver():j;this._assetDown=""==l?this._getDefaultAssetDown():l;this._assetDisabled=""==m?this._getDefaultAssetDisabled():m;this._state=g.buttons._ButtonBase.ButtonState._STATE_UP;this._flagDragged=!1;this.enable();this._buildHitBox();d.WorkinCloud.get_instance().get_dispatcher().addEventListener(o.WMEventInput.EVENT_INPUT,
u(this,this._onEventInput));this._buttonScaleBase=f.WorkinPoint.request(1,1)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.buttons.ButtonBase"]=g.buttons.ButtonBase;g.buttons.ButtonBase.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,buttons,ButtonBase".split(",");g.buttons.ButtonBase.__super__=k.Element;g.buttons.ButtonBase.prototype=v(k.Element.prototype,{_renderDisabled:function(){this.setTextureAsset(this._assetDisabled)},_renderReturnUp:function(){this._tween.tween(this._render,
0.15,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_QUAD_OUT);this._renderUp()},_renderDown:function(){this._tween.tween(this._render,0.15,{scaleX:0.9*this._buttonScaleBase.x,scaleY:0.9*this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_QUAD_OUT);this.setTextureAsset(this._assetDown)},_renderOut:function(){this._tween.tween(this._render,0.5,{scaleX:this._buttonScaleBase.x,scaleY:this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_ELASTIC_OUT)},
_renderOver:function(){this._tween.tween(this._render,0.15,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_QUAD_IN)},_renderUp:function(){this.setTextureAsset(this._assetUp)},setScale:function(a,b){this._buttonScaleBase.x=a;this._buttonScaleBase.y=b;this._render.scaleX=this._buttonScaleBase.x;this._render.scaleY=this._buttonScaleBase.y},_playSoundClick:function(){},update:function(a){k.Element.prototype.update.call(this,a)},_onCancelDrag:function(){this._flagDragged=
!1;this._dispatch(g.buttons.ButtonBase.CANCEL_DRAG)},_onOut:function(){this._flagEnabled&&(this._renderOut(),this._dispatch(g.buttons.ButtonBase.OUT))},_onOver:function(){this._renderOver();this._dispatch(g.buttons.ButtonBase.OVER)},_onUp:function(){this._flagEnabled&&!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(g.buttons.ButtonBase.UP))},_onDown:function(){this._flagEnabled&&
!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(this._renderDown(),this._dispatch(g.buttons.ButtonBase.DOWN))},_doClick:function(){this._dispatch(g.buttons.ButtonBase.CLICK);""!=this.get__clickFlow()&&d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(this.get__clickFlow()));""!=this.get__clickEvent()&&d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(this.get__clickEvent()))},_click:function(){var a=this;d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)||
(this._playSoundClick(),this._doClick(),this._tween.tween(this._render,0.1,{scaleX:1.1*this._buttonScaleBase.x,scaleY:1.1*this._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_QUAD_IN).onComplete(function(){a._tween.tween(a._render,0.4,{scaleX:a._buttonScaleBase.x,scaleY:a._buttonScaleBase.y,alpha:1},!0).ease(f.tween.Ease.EASE_ELASTIC_OUT).onComplete(function(){a._containsInput?(a._state=g.buttons._ButtonBase.ButtonState._STATE_OVER,a._renderOver()):a._state=g.buttons._ButtonBase.ButtonState._STATE_UP})}))},
_dispatch:function(a){this.get__DO_DISPATCH()&&this._dispatcher.dispatchEvent(o.WMEvent.request(a))},get__clickFlow:function(){return""},get__clickEvent:function(){return""},get__DO_DISPATCH:function(){return!0},_getDefaultAssetDisabled:function(){return""},_getDefaultAssetDown:function(){return""},_getDefaultAssetOver:function(){return""},_getDefaultAssetUp:function(){return""},depthTest:function(a,b){if(!this._flagEnabled)return!1;var c=d.WorkinCloud.get_instance().get_input().doDepthTestOnWorldCoordinates(a,
b);this._hitTestResult=!1;c==this._imageSprite&&(this._hitTestResult=!0);!1==this._hitTestResult&&null!=this._hitBox&&c==this._hitBox&&(this._hitTestResult=!0);return this._hitTestResult},_onEventInput:function(a){switch(a.input){case e.ConstantsApp.INPUT_CLICK:switch(this._hitRect.toXY(this._pos.x-this._render.width*this._originX+this._parentOffsetX,this._pos.y-this._render.height*this._originY+this._parentOffsetY),this._containsInput=this._hitRect.contains(a.x,a.y),a.phase){case o.WMEventInput.PHASE_DOWN:switch(this._state[1]){case 0:case 2:case 3:this._containsInput&&
this.depthTest(a.x,a.y)&&(this._state=g.buttons._ButtonBase.ButtonState._STATE_DOWN,this._onDown(a.x,a.y))}break;case o.WMEventInput.PHASE_MOVE:switch(this._state[1]){case 0:this._containsInput&&this.depthTest(a.x,a.y)&&(this._state=g.buttons._ButtonBase.ButtonState._STATE_OVER,this._onOver());break;case 2:!1==this._containsInput&&(this._state=g.buttons._ButtonBase.ButtonState._STATE_UP,this._onOut())}break;case o.WMEventInput.PHASE_UP:switch(this._state[1]){case 1:this._containsInput?(this._state=
g.buttons._ButtonBase.ButtonState._STATE_CLICK,this._onUp(a.x,a.y)):(this._state=g.buttons._ButtonBase.ButtonState._STATE_UP,this._renderReturnUp())}}}},_buildHitBox:function(){this._hitRect=f.WMRectangle.request(0,0,this._render.width,this._render.height);if(this._DEBUG_SHOW_HITBOX){this._hitBox=new p.FillSprite(16711680,this._render.width|0,this._render.height|0);var a=new P;a.add(this._hitBox);this._imageEntity.addChild(a)}},disable:function(){this._flagEnabled=!1;this._renderDisabled()},enable:function(){this._flagEnabled=
!0;this._renderUp()},get_dispatcher:function(){return this._dispatcher},dispose:function(){this._tween=null;this.disable();d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(o.WMEventInput.EVENT_INPUT,u(this,this._onEventInput));null!=this._hitBox&&(this._hitBox.dispose(),this._hitBox=null);this._hitRect.dispose();this._hitRect=null;this._buttonScaleBase.dispose();this._state=this._buttonScaleBase=null;this._dispatcher.dispose();this._dispatcher=null;k.Element.prototype.dispose.call(this)},
setParentOffset:function(a){this._parentOffsetX=a.get_pos().x;this._parentOffsetY=a.get_pos().y;return this},__class__:g.buttons.ButtonBase});g.buttons.EventType=m["com.nick.spongeBob.bubble_blast_flambe_october.ui.buttons.EventType"]={__ename__:"com,nick,spongeBob,bubble_blast_flambe_october,ui,buttons,EventType".split(","),__constructs__:["EVENT_BASIC","EVENT_FLOW","EVENT_DATA"]};g.buttons.EventType.EVENT_BASIC=["EVENT_BASIC",0];g.buttons.EventType.EVENT_BASIC.toString=n;g.buttons.EventType.EVENT_BASIC.__enum__=
g.buttons.EventType;g.buttons.EventType.EVENT_FLOW=["EVENT_FLOW",1];g.buttons.EventType.EVENT_FLOW.toString=n;g.buttons.EventType.EVENT_FLOW.__enum__=g.buttons.EventType;g.buttons.EventType.EVENT_DATA=["EVENT_DATA",2];g.buttons.EventType.EVENT_DATA.toString=n;g.buttons.EventType.EVENT_DATA.__enum__=g.buttons.EventType;g.buttons.ButtonDynamic=function(a,b,c,i,d,e,f,h,j){null==j&&(j="");null==h&&(h="");null==f&&(f="");null==e&&(e="");null==d&&(d=0.5);null==i&&(i=0.5);this._event="";g.buttons.ButtonBase.call(this,
a,b,c,i,d,e,f,h,j)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.buttons.ButtonDynamic"]=g.buttons.ButtonDynamic;g.buttons.ButtonDynamic.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,buttons,ButtonDynamic".split(",");g.buttons.ButtonDynamic.__super__=g.buttons.ButtonBase;g.buttons.ButtonDynamic.prototype=v(g.buttons.ButtonBase.prototype,{_doClick:function(){if(this._flagEnabled&&(this._dispatch(g.buttons.ButtonBase.CLICK),""!=this._event)){switch(this._eventType[1]){case 0:d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(this._event));
break;case 1:d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(this._event));break;case 2:d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(this._event,this._eventData))}this._renderUp()}},setEventWithData:function(a,b){this._event=a;this._eventType=g.buttons.EventType.EVENT_DATA;this._eventData=b},__class__:g.buttons.ButtonDynamic});g.buttons.ButtonShopBuy=function(a,b,c,i,d,e,f,h,j){null==j&&(j="");null==h&&(h="");null==f&&(f="");null==
e&&(e="");null==d&&(d=0.5);null==i&&(i=0.5);g.buttons.ButtonDynamic.call(this,a,b,c,i,d,e,f,h,j);this.addElement(new k.TextLocalized(0,0,"buy","",{originX:0.5,originY:0.5,center:!0}));this._hitBox=new p.FillSprite(16711680,this._render.width|0,this._render.height|0);a=this._hitBox.x;a.set__(a._value-(this._render.width|0)*i);a=this._hitBox.y;a.set__(a._value-(this._render.height|0)*d);this._hitBox.alpha.set__(0);i=new P;i.add(this._hitBox);this._rootEntity.addChild(i)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.buttons.ButtonShopBuy"]=
g.buttons.ButtonShopBuy;g.buttons.ButtonShopBuy.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,buttons,ButtonShopBuy".split(",");g.buttons.ButtonShopBuy.__super__=g.buttons.ButtonDynamic;g.buttons.ButtonShopBuy.prototype=v(g.buttons.ButtonDynamic.prototype,{__class__:g.buttons.ButtonShopBuy});g.buttons.ButtonShopItem=function(a,b,c,i,d,f,h,j,l,m){null==m&&(m="");null==l&&(l="");null==j&&(j="");null==h&&(h="");null==f&&(f=0.5);null==d&&(d=0.5);g.buttons.ButtonDynamic.call(this,b,c,i,d,
f,h,j,l,m);this._item=a;this.setEventWithData(e.ConstantsApp.EVENT_ITEM_SELECT,{id:this._item});this._itemIcon=this.addElement(new k.Element({asset:"button_pause",originX:0.5,originY:0.5,x:0,y:0}));this.addElement(new k.Element({asset:"button_shop_ranking",originX:0.5,originY:0.5,x:-30,y:-32}));this._itemRank=this.addElement(new k.TextBase(-30,-30,"0","",{originX:0.5,originY:0.5,center:!0}));this._itemRank.get_renderable().scaleX=this._itemRank.get_renderable().scaleY=0.4;this._itemAvailability=this.addElement(new k.Element({asset:"button_shop_affordable",
originX:0.5,originY:0.5,x:30,y:30}));this._hitBox=new p.FillSprite(16711680,this._render.width|0,this._render.height|0);a=this._hitBox.x;a.set__(a._value-(this._render.width|0)*d);a=this._hitBox.y;a.set__(a._value-(this._render.height|0)*f);this._hitBox.alpha.set__(0);d=new P;d.add(this._hitBox);this._rootEntity.addChild(d);this.doRefreshDisplay()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.buttons.ButtonShopItem"]=g.buttons.ButtonShopItem;g.buttons.ButtonShopItem.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,buttons,ButtonShopItem".split(",");
g.buttons.ButtonShopItem.__super__=g.buttons.ButtonDynamic;g.buttons.ButtonShopItem.prototype=v(g.buttons.ButtonDynamic.prototype,{doRefreshDisplay:function(){this._itemRank.set_text(""+e.Inventory.getRank(this._item));this._itemAvailability.get_renderable().alpha=e.Inventory.canAffordNextRank(this._item)?1:0;this._itemIcon.setTextureAsset(e.Inventory.getIcon(this._item))},__class__:g.buttons.ButtonShopItem});g.buttons.ButtonSoundToggle=function(a,b,c,i,d,e,f){this._onAssets=e;this._offAssets=f;this._refreshMuteState();
g.buttons.ButtonBase.call(this,a,b,c,i,d,this._currentAssets[0],this._currentAssets[1],this._currentAssets[3==this._currentAssets.length?2:1])};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.buttons.ButtonSoundToggle"]=g.buttons.ButtonSoundToggle;g.buttons.ButtonSoundToggle.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,buttons,ButtonSoundToggle".split(",");g.buttons.ButtonSoundToggle.__super__=g.buttons.ButtonBase;g.buttons.ButtonSoundToggle.prototype=v(g.buttons.ButtonBase.prototype,
{get__clickEvent:function(){return""},_refreshMuteState:function(){this._currentAssets=d.WorkinCloud.get_instance().get_sound().getMute()?this._offAssets:this._onAssets;this._assetUp=this._currentAssets[0];1<this._currentAssets.length?(this._assetOver=this._currentAssets[1],this._assetDown=this._currentAssets[3==this._currentAssets.length?2:1]):(this._assetOver=this._currentAssets[0],this._assetDown=this._currentAssets[0])},_doClick:function(){this._flagEnabled&&!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)&&
(d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(e.ConstantsApp.EVENT_MUTE_TOGGLE)),this._refreshMuteState(),this._renderUp())},__class__:g.buttons.ButtonSoundToggle});k.Display=function(a,b,c,i,d){null==d&&(d=0);null==i&&(i=0);null==c&&(c="");this._flagLocked=!1;k.Element.call(this,{x:a,y:b,asset:c,originX:i,originY:d});this._addEventListeners()};m["com.workinman.display.Display"]=k.Display;k.Display.__name__=["com","workinman","display","Display"];k.Display.__super__=
k.Element;k.Display.prototype=v(k.Element.prototype,{dispose:function(){k.Element.prototype.dispose.call(this)},_updateValue:function(){return""},_refresh:function(){},_onUpdateDisplay:function(a){this._flagLocked||a.get_data().valueID==this._updateValue()&&this._refresh()},_removeEventListeners:function(){k.Element.prototype._removeEventListeners.call(this);d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(k.Display.EVENT_UPDATE_DISPLAY,u(this,this._onUpdateDisplay))},_addEventListeners:function(){k.Element.prototype._addEventListeners.call(this);
d.WorkinCloud.get_instance().get_dispatcher().addEventListener(k.Display.EVENT_UPDATE_DISPLAY,u(this,this._onUpdateDisplay))},__class__:k.Display});g.display={};g.display.DisplayAchievementScore=function(a,b,c){k.Display.call(this,a,b,"",0.5,0.8);this._tween=c;this._points=d.WorkinCloud.get_instance().getInt(this._updateValue());a=d.WorkinCloud.get_instance().get_localize().getLocalizeData("points");this._textNum=this.addElement(new k.TextBase(0,0,t.string(this._points),a.get_fontName(),{originX:0,
originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new k.TextLocalized(-25*this._textNum.get_renderable().scaleX,0,"points","",{originX:1,originY:0.5}));d.WorkinCloud.get_instance().setInt(this._updateValue(),d.WorkinCloud.get_instance().get_achievements().points);this._refresh()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.display.DisplayAchievementScore"]=g.display.DisplayAchievementScore;g.display.DisplayAchievementScore.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,display,DisplayAchievementScore".split(",");
g.display.DisplayAchievementScore.__super__=k.Display;g.display.DisplayAchievementScore.prototype=v(k.Display.prototype,{_updateValue:function(){return e.ConstantsApp.INT_ACHIEVEMENT_SCORE},_refresh:function(){this._points=d.WorkinCloud.get_instance().getInt(this._updateValue());this._textNum.set_text(t.string(this._points));f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1)},dispose:function(){this._tween=this._text=this._textNum=null;k.Display.prototype.dispose.call(this)},__class__:g.display.DisplayAchievementScore});
g.display.DisplayBestScore=function(a,b,c){k.Display.call(this,a,b,"",0.5,0.8);this._tween=c;this._score=d.WorkinCloud.get_instance().getInt(this._updateValue());a=d.WorkinCloud.get_instance().get_localize().getLocalizeData("best_score");this._textNum=this.addElement(new k.TextBase(0,0,t.string(this._score),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new k.TextLocalized(-25*this._textNum.get_renderable().scaleX,0,"best_score","",{originX:1,
originY:0.5}));this._refresh()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.display.DisplayBestScore"]=g.display.DisplayBestScore;g.display.DisplayBestScore.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,display,DisplayBestScore".split(",");g.display.DisplayBestScore.__super__=k.Display;g.display.DisplayBestScore.prototype=v(k.Display.prototype,{_updateValue:function(){return e.ConstantsApp.INT_BEST_SCORE},_refresh:function(){this._score=d.WorkinCloud.get_instance().getInt(this._updateValue());
this._textNum.set_text(t.string(this._score))},dispose:function(){this._tween=this._text=this._textNum=null;k.Display.prototype.dispose.call(this)},__class__:g.display.DisplayBestScore});g.display.DisplayCurrency=function(a,b,c){k.Display.call(this,a,b,"",0.5,0.8);this._tween=c;this._currency=d.WorkinCloud.get_instance().getInt(this._updateValue());a=d.WorkinCloud.get_instance().get_localize().getLocalizeData("currency");this._textNum=this.addElement(new k.TextBase(0,0,t.string(this._currency),a.get_fontName(),
{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new k.TextLocalized(-25*this._textNum.get_renderable().scaleX,0,"currency","",{originX:1,originY:0.5}));this._refresh()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.display.DisplayCurrency"]=g.display.DisplayCurrency;g.display.DisplayCurrency.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,display,DisplayCurrency".split(",");g.display.DisplayCurrency.__super__=k.Display;g.display.DisplayCurrency.prototype=
v(k.Display.prototype,{_updateValue:function(){return e.ConstantsApp.INT_CURRENCY},_refresh:function(){this._currency=d.WorkinCloud.get_instance().getInt(this._updateValue());this._textNum.set_text(t.string(this._currency));f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1)},dispose:function(){this._tween=this._text=this._textNum=null;k.Display.prototype.dispose.call(this)},__class__:g.display.DisplayCurrency});g.display.DisplayLevel=function(a,b,c){k.Display.call(this,a,b,"",0.5,0.8);this._tween=
c;this._level=d.WorkinCloud.get_instance().getInt(this._updateValue());a=d.WorkinCloud.get_instance().get_localize().getLocalizeData("level");this._textNum=this.addElement(new k.TextBase(0,0,t.string(this._level),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new k.TextLocalized(-25*this._textNum.get_renderable().scaleX,0,"level","",{originX:1,originY:0.5}));this._refresh()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.display.DisplayLevel"]=
g.display.DisplayLevel;g.display.DisplayLevel.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,display,DisplayLevel".split(",");g.display.DisplayLevel.__super__=k.Display;g.display.DisplayLevel.prototype=v(k.Display.prototype,{_updateValue:function(){return e.ConstantsApp.INT_LEVEL},_refresh:function(){this._level=d.WorkinCloud.get_instance().getInt(this._updateValue());this._textNum.set_text(t.string(this._level))},dispose:function(){this._tween=this._text=this._textNum=null;k.Display.prototype.dispose.call(this)},
__class__:g.display.DisplayLevel});g.display.DisplayLoadScore=function(a,b,c){k.Display.call(this,a,b,"",0.5,0.8);this._tween=c;this._score=d.WorkinCloud.get_instance().getInt(this._updateValue());a=d.WorkinCloud.get_instance().get_localize().getLocalizeData("miniscore");this._textNum=this.addElement(new k.TextBase(0,0,t.string(this._score),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new k.TextLocalized(-25*this._textNum.get_renderable().scaleX,
0,"miniscore","",{originX:1,originY:0.5}));this._refresh()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.display.DisplayLoadScore"]=g.display.DisplayLoadScore;g.display.DisplayLoadScore.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,display,DisplayLoadScore".split(",");g.display.DisplayLoadScore.__super__=k.Display;g.display.DisplayLoadScore.prototype=v(k.Display.prototype,{_updateValue:function(){return e.ConstantsApp.INT_LOADING_SCORE},_refresh:function(){this._score=d.WorkinCloud.get_instance().getInt(this._updateValue());
this._textNum.set_text(t.string(this._score));f.tween.WorkinTweenUtils.easeBounceIn(this,this._tween,!1)},dispose:function(){this._tween=this._text=this._textNum=null;k.Display.prototype.dispose.call(this)},__class__:g.display.DisplayLoadScore});g.display.DisplayLoadingProgress=function(a,b,c){this._fadeIn=!0;this._fadeTimer=0;k.Display.call(this,a,b,"",0.5,0.5);this._tray=this.addElement(new k.Element({originX:0.5,originY:0.5}));this._tray.addElement(new k.TextLocalized(0,0,"loading","",{center:!0,
originX:0.5,originY:0.5}));this._tween=c;this._active=!1};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.display.DisplayLoadingProgress"]=g.display.DisplayLoadingProgress;g.display.DisplayLoadingProgress.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,display,DisplayLoadingProgress".split(",");g.display.DisplayLoadingProgress.__super__=k.Display;g.display.DisplayLoadingProgress.prototype=v(k.Display.prototype,{tweenOut:function(){var a=this;f.tween.WorkinTweenUtils.easeBounceOut(this._tray,
this._tween).onComplete(function(){a._tray.get_renderable().visible=!1})},tweenIn:function(){f.tween.WorkinTweenUtils.easeBounceIn(this._tray,this._tween)},update:function(a){k.Display.prototype.update.call(this,a);this._fadeTimer+=a;if(1<=this._fadeTimer)for(this._fadeIn=!this._fadeIn;1<=this._fadeTimer;)this._fadeTimer-=1;a=this._fadeTimer/1;this._fadeIn?this._tray.get_renderable().alpha=a:this._tray.get_renderable().alpha=1-a},get_active:function(){return this._active},dispose:function(){this._tween=
this._tray=null;k.Display.prototype.dispose.call(this)},__class__:g.display.DisplayLoadingProgress});g.display.DisplayScore=function(a,b,c){k.Display.call(this,a,b,"",0.5,0.8);this._tween=c;this._score=d.WorkinCloud.get_instance().getInt(this._updateValue());a=d.WorkinCloud.get_instance().get_localize().getLocalizeData("score");this._textNum=this.addElement(new k.TextBase(0,0,t.string(this._score),a.get_fontName(),{originX:0,originY:0.5,scale:a.get_scale()}));a.dispose();this._text=this.addElement(new k.TextLocalized(-25*
this._textNum.get_renderable().scaleX,0,"score","",{originX:1,originY:0.5}));this._refresh()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.display.DisplayScore"]=g.display.DisplayScore;g.display.DisplayScore.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,display,DisplayScore".split(",");g.display.DisplayScore.__super__=k.Display;g.display.DisplayScore.prototype=v(k.Display.prototype,{_updateValue:function(){return e.ConstantsApp.INT_SCORE},_refresh:function(){this._score=d.WorkinCloud.get_instance().getInt(this._updateValue());
this._textNum.set_text(t.string(this._score))},dispose:function(){this._tween=this._text=this._textNum=null;k.Display.prototype.dispose.call(this)},__class__:g.display.DisplayScore});g.screens={};g.screens.ScreenBase=function(a,b){this._STATE_SUSPENDED="state_suspended";this._STATE_OPENED="state_opened";this._STATE_OUT="state_out";this._STATE_IN="state_in";this.id=a;k.Element.call(this,{asset:b});this._dispatcher=o.WMEventDispatcher.request();if(this._useClickWall()){this._clickWall=new P;var c=new p.FillSprite(16711680,
e.ConstantsApp.STAGE_WIDTH,e.ConstantsApp.STAGE_HEIGHT);c.alpha.set__(0);this._clickWall.add(c);this._rootEntity.addChild(this._clickWall)}this._rootEntity.addChild(this._imageEntity);this._tween=f.tween.WorkinTweener.request();this._buildScreen();this._flagStateAnimationComplete=this._flagStateCompleteTemp=this.flagDispose=!1;this._states=[];this._generateStates();this._stateIndex=this._states.length+2;this._setFirstState()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenBase"]=
g.screens.ScreenBase;g.screens.ScreenBase.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenBase".split(",");g.screens.ScreenBase.__super__=k.Element;g.screens.ScreenBase.prototype=v(k.Element.prototype,{_onStateComplete:function(){this._flagStateCompleteTemp=!1;null!=this._states[this._stateIndex].outFunc&&this._states[this._stateIndex].outFunc();this._states[this._stateIndex].actionOnComplete!=g.screens.data.ScreenStateData.ACTION_STOP&&(this._states[this._stateIndex].actionOnComplete==
g.screens.data.ScreenStateData.ACTION_OPENED?(this._setOpenedState(),this._dispatcher.dispatchEvent(o.WMEventScreenOut.request(e.ConstantsScreen.OUTPUT_OPENED,this.id))):this._states[this._stateIndex].actionOnComplete==g.screens.data.ScreenStateData.ACTION_CLOSED?(this.setFlagDispose(),this._dispatcher.dispatchEvent(o.WMEventScreenOut.request(e.ConstantsScreen.OUTPUT_CLOSED,this.id))):this._states[this._stateIndex].actionOnComplete==g.screens.data.ScreenStateData.ACTION_NEW_STATE?this._setState(this._states[this._stateIndex].actionData):
this._states[this._stateIndex].actionOnComplete==g.screens.data.ScreenStateData.ACTION_EVENT?this._dispatcher.dispatchEvent(o.WMEvent.request(this._states[this._stateIndex].actionData)):this._states[this._stateIndex].actionOnComplete==g.screens.data.ScreenStateData.ACTION_FLOW&&this._doFlowEvent(this._states[this._stateIndex].actionData))},_removeEventListeners:function(){k.Element.prototype._removeEventListeners.call(this);d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(e.ConstantsApp.EVENT_RESIZE_CANVAS,
u(this,this._onEventResizeCanvas))},_addEventListeners:function(){k.Element.prototype._addEventListeners.call(this);d.WorkinCloud.get_instance().get_dispatcher().addEventListener(e.ConstantsApp.EVENT_RESIZE_CANVAS,u(this,this._onEventResizeCanvas))},_onEventResizeCanvas:function(){},_findStateIndex:function(a){for(var b=this._states.length-1;0<=b;){if(this._states[b].id==a)return b;b--}return-1},get_state:function(){return this._states[this._stateIndex].id},_setState:function(a,b){null==b&&(b=!1);
var c=this._findStateIndex(a);if(0>c)d.WorkinCloud.get_instance().log("[ScreenBase](_setState) ERROR : State >"+a+"< not found."),d.WorkinCloud.get_instance().log("[ScreenBase](_setState) cancelling setState().");else if(b||c!=this._stateIndex)this._flagStateAnimationComplete=this._flagStateCompleteTemp=!1,this._stateIndex=c,null!=this._states[this._stateIndex].inFunc&&this._states[this._stateIndex].inFunc()},_addState:function(a,b,c,i,d,e){null==i&&(i="");null==c&&(c=0);this._states.push(new g.screens.data.ScreenStateData(a,
b,c,i,d,e))},isClosing:function(){return this.get_state()==this._STATE_OUT},isOpening:function(){return this.get_state()==this._STATE_IN},disable:function(){},enable:function(){},close:function(a){null==a&&(a=!0);a?this._setCloseState():(this.setFlagDispose(),this._dispatcher.dispatchEvent(o.WMEventScreenOut.request(e.ConstantsScreen.OUTPUT_CLOSED,this.id)))},suspend:function(){this._setState(this._STATE_SUSPENDED)},_finishOpenState:function(){this._setOpenedState();this._dispatcher.dispatchEvent(o.WMEventScreenOut.request(e.ConstantsScreen.OUTPUT_OPENED,
this.id))},open:function(a){null==a&&(a=!0);a?(this.get_state()!=this._STATE_IN&&this._setState(this._STATE_IN),this._setInState()):this._finishOpenState()},reset:function(){this._setFirstState()},handleInput:function(){},update:function(a){k.Element.prototype.update.call(this,a);this._tween.update(a);this._flagStateCompleteTemp&&this._onStateComplete()},_doFlowEvent:function(a){d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(a))},_buildScreen:function(){},_generateStates:function(){this._addState(this._STATE_IN,
"in",g.screens.data.ScreenStateData.ACTION_OPENED);this._addState(this._STATE_OUT,"out",g.screens.data.ScreenStateData.ACTION_CLOSED);this._addState(this._STATE_OPENED,"open");this._addState(this._STATE_SUSPENDED,"suspend")},_setOpenedState:function(){this._setState(this._STATE_OPENED)},_setCloseState:function(){this.setFlagDispose()},_setInState:function(){this._finishOpenState()},_setFirstState:function(){this._setState(this._STATE_IN)},_useClickWall:function(){return!0},setFlagDispose:function(){this.flagDispose=
!0},get_dispatcher:function(){return this._dispatcher},dispose:function(){this._states=null;this._tween.dispose();this._tween=null;this._dispatcher.dispose();this._dispatcher=null;k.Element.prototype.dispose.call(this)},__class__:g.screens.ScreenBase,__properties__:v(k.Element.prototype.__properties__,{get_dispatcher:"get_dispatcher",get_state:"get_state"})});g.screens.ScreenAchievementPopup=function(a,b,c){null==b&&(b="");this._LIFETIME=3;g.screens.ScreenBase.call(this,a,b,c);this._tray=this.addElement(new k.Element({asset:"achievement_popopup_bg",
originX:0.5,originY:0.5,x:e.ConstantsApp.STAGE_WIDTH-220,y:e.ConstantsApp.STAGE_HEIGHT-80}));a=d.WorkinCloud.get_instance().get_achievements().lastAchievedId;this._tray.addElement(new k.Element({x:-150,asset:"achievement_icon_"+a,originX:0.5,originY:0.5}));this._tray.addElement(new k.TextLocalized(-100,-15,"achievement_unlocked","",{originY:0.5}));this._tray.addElement(new k.TextLocalized(-100,15,"achievement_name_"+a,"",{originY:0.5}));this._tray.get_renderable().alpha=0;this._timer=this._LIFETIME};
m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenAchievementPopup"]=g.screens.ScreenAchievementPopup;g.screens.ScreenAchievementPopup.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenAchievementPopup".split(",");g.screens.ScreenAchievementPopup.__super__=g.screens.ScreenBase;g.screens.ScreenAchievementPopup.prototype=v(g.screens.ScreenBase.prototype,{_setCloseState:function(){var a=this;f.tween.WorkinTweenUtils.easeSlideOutToDir(this._tray,this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(function(){a.setFlagDispose()})},
_setInState:function(){var a=this;f.tween.WorkinTweenUtils.easeSlideInFromDir(this._tray,this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(function(){a._finishOpenState()})},update:function(a){g.screens.ScreenBase.prototype.update.call(this,a);this.get_state()==this._STATE_OPENED&&0<this._timer&&(this._timer-=a,0>=this._timer&&this._doFlowEvent(e.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP_CLOSE))},dispose:function(){this._tray=null;g.screens.ScreenBase.prototype.dispose.call(this)},_useClickWall:function(){return!1},
__class__:g.screens.ScreenAchievementPopup});g.screens.ScreenAchievements=function(a,b,c){null==b&&(b="");g.screens.ScreenBase.call(this,a,b,c);this._tray=this.addElement(new k.Element({asset:"template_bg"}));this._points=this.addElement(new g.display.DisplayAchievementScore(175,35,this._tween));this._points.get_renderable().alpha=0;this._rectVisible=new J.Rectangle(100,140,700,350);this._scrollDy=80;this._list=[];c=d.WorkinCloud.get_instance().get_achievements().getAchievements();a=0;for(b=c.length;a<
b;){var i=a++;this._list.push(this._tray.addElement(new k.Element({asset:"achievement_list_bg",x:e.ConstantsApp.STAGE_CENTER_X,y:this._rectVisible.y+i*this._scrollDy,originX:0.5,originY:0.5})));this._list[this._list.length-1].addElement(new k.TextLocalized(0,-15,d.WorkinCloud.get_instance().get_achievements().getLocalizationNameID(c[i]),"",{originY:0.5,originX:0.5}));this._list[this._list.length-1].addElement(new k.TextLocalized(0,15,d.WorkinCloud.get_instance().get_achievements().getLocalizationDescID(c[i]),
"",{originY:0.5,originX:0.5}));d.WorkinCloud.get_instance().get_achievements().getAchieved(c[i])?this._list[this._list.length-1].addElement(new k.Element({asset:d.WorkinCloud.get_instance().get_achievements().getIcon(c[i]),x:-220,originX:0.5,originY:0.5})):this._list[this._list.length-1].addElement(new k.Element({asset:"achievement_icon_default_locked",x:-220,originX:0.5,originY:0.5}));this._list[this._list.length-1].addElement(new k.Element({asset:"achievement_icon_default",x:220,originX:0.5,originY:0.5}));
var f=new k.TextBase(220,0,"","",{originY:0.5,originX:0.5,scale:0.5});f.set_text(t.string(d.WorkinCloud.get_instance().get_achievements().getPoints(c[i])));this._list[this._list.length-1].addElement(f)}b=0;for(a=this._list;b<a.length;)c=a[b],++b,c.get_pos().y+c.get_renderable().height<this._rectVisible.y?c.get_renderable().alpha=0:c.get_pos().y>this._rectVisible.y+this._rectVisible.height?c.get_renderable().alpha=0:c.get_renderable().alpha=1;this._tray.addElement(new k.Element({asset:"scorebox"}));
this._tray.get_renderable().alpha=0;M.__cast(this._tray.addElement(this._buttonUp=(new g.buttons.ButtonBase(840,140,this._tween,0.5,0.5,"button_play")).setParentOffset(this._tray)),g.buttons.ButtonBase).get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,u(this,this._onEventUpClick));M.__cast(this._tray.addElement(this._buttonDown=(new g.buttons.ButtonBase(840,460,this._tween,0.5,0.5,"button_play")).setParentOffset(this._tray)),g.buttons.ButtonBase).get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,
u(this,this._onEventDownClick));M.__cast(this._tray.addElement(a=(new g.buttons.ButtonBase(920,40,this._tween,0.5,0.5,"button_x")).setParentOffset(this._tray)),g.buttons.ButtonBase).get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,u(this,this._onEventExitClick));this._buttonUp.setScale(0.5,0.5);this._buttonDown.setScale(0.5,0.5);a.setScale(0.5,0.5);this._buttonUp.get_renderable().rotation=-90;this._buttonDown.get_renderable().rotation=90;this._checkButtons()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenAchievements"]=
g.screens.ScreenAchievements;g.screens.ScreenAchievements.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenAchievements".split(",");g.screens.ScreenAchievements.__super__=g.screens.ScreenBase;g.screens.ScreenAchievements.prototype=v(g.screens.ScreenBase.prototype,{_onEventExitClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_ACHIEVEMENT_CLOSE)},_onEventDownClick:function(){var a=this;if(!(this.get_state()!=this._STATE_OPENED||
this._list[this._list.length-1].get_pos().y<this._rectVisible.y+this._rectVisible.height)){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<c;){var i=b++;if(i==this._list.length-1)this._tween.tween(this._list[i].get_pos(),0.5,{y:this._list[i].get_pos().y-this._scrollDy},!1,f.tween.Ease.EASE_OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[i].get_pos(),0.5,{y:this._list[i].get_pos().y-this._scrollDy},!1,f.tween.Ease.EASE_OUT);this._list[i].get_pos().y<=
this._rectVisible.y?this._tween.tween(this._list[i].get_renderable(),0.25,{alpha:0},!1,f.tween.Ease.EASE_OUT):this._list[i].get_pos().y-this._scrollDy<=this._rectVisible.y+this._rectVisible.height&&this._tween.tween(this._list[i].get_renderable(),0.25,{alpha:1},!1,f.tween.Ease.EASE_OUT)}}},_onEventUpClick:function(){var a=this;if(!(this.get_state()!=this._STATE_OPENED||this._list[0].get_pos().y==this._rectVisible.y)){this._buttonUp.disable();this._buttonDown.disable();for(var b=0,c=this._list.length;b<
c;){var i=b++;if(i==this._list.length-1)this._tween.tween(this._list[i].get_pos(),0.5,{y:this._list[i].get_pos().y+this._scrollDy},!1,f.tween.Ease.EASE_OUT).onComplete(function(){a._checkButtons()});else this._tween.tween(this._list[i].get_pos(),0.5,{y:this._list[i].get_pos().y+this._scrollDy},!1,f.tween.Ease.EASE_OUT);this._list[i].get_pos().y+this._list[i].get_renderable().height>=this._rectVisible.y+this._rectVisible.height?this._tween.tween(this._list[i].get_renderable(),0.25,{alpha:0},!1,f.tween.Ease.EASE_OUT):
this._list[i].get_pos().y+this._scrollDy>=this._rectVisible.y&&this._tween.tween(this._list[i].get_renderable(),0.25,{alpha:1},!1,f.tween.Ease.EASE_OUT)}}},_checkButtons:function(){2>Math.abs(this._list[0].get_pos().y-this._rectVisible.y)?this._buttonUp.disable():this._buttonUp.enable();this._list[this._list.length-1].get_pos().y<this._rectVisible.y+this._rectVisible.height?this._buttonDown.disable():this._buttonDown.enable()},_setInState:function(){var a=this;f.tween.WorkinTweenUtils.easeSlideInFromDir(this._tray,
this._tween,f.tween.TWEEN_DIR.TOP).onComplete(function(){a._finishOpenState()});f.tween.WorkinTweenUtils.easeBounceIn(this._points,this._tween,!0,0.55)},dispose:function(){this._list=this._points=this._buttonDown=this._buttonUp=this._tray=null;g.screens.ScreenBase.prototype.dispose.call(this)},__class__:g.screens.ScreenAchievements});g.screens.ScreenEndGame=function(a,b,c){null==b&&(b="");var i=this;g.screens.ScreenBase.call(this,a,b,c);this._closing=!1;this._tray=this.addElement(new k.Element({originX:0,
originY:0,x:0,y:0}));this._tray.addElement(new k.Element({asset:"ui_endgame_screen",originX:0,originY:0,x:0,y:0}));this._tray.addElement(new k.TextLocalized(330,100,"game_over",null,{originX:0.5,originY:0.5}));this._tray.addElement(new g.display.DisplayScore(330,200,this._tween));a=this._tray.addElement(new g.buttons.ButtonBase(330,400,this._tween,0.5,0.5,"ui_btn_hitbox"));a.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,function(){i._doFlowEvent(e.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN)});
a.addElement(new k.TextLocalized(0,0,"try_again_btn",null,{originX:0.5,originY:0.5}));this._tray.addElement(new g.buttons.ButtonSoundToggle(50,50,this._tween,0.5,0.5,["button_vol_on"],["button_vol_off"]))};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenEndGame"]=g.screens.ScreenEndGame;g.screens.ScreenEndGame.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenEndGame".split(",");g.screens.ScreenEndGame.__super__=g.screens.ScreenBase;g.screens.ScreenEndGame.prototype=
v(g.screens.ScreenBase.prototype,{_onPlayAgainClick:function(){this._doFlowEvent(e.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN)},_setInState:function(){this._finishOpenState()},update:function(a){g.screens.ScreenBase.prototype.update.call(this,a)},dispose:function(){this._tray=null;g.screens.ScreenBase.prototype.dispose.call(this)},__class__:g.screens.ScreenEndGame});g.screens.ScreenEnterCode=function(a,b,c){null==b&&(b="");this._KEY_LENGTH=0;this._OPEN_GEAR_RATE=250;this._BOTTOM_RESET=6.5;this._TOP_RESET=
5;this._LOCK_STATE_OPEN=1;this._LOCK_STATE_OPENING=2;this._lockState=this._LOCK_STATE_LOCKED=0;this._keypadListeners=[];g.screens.ScreenBase.call(this,a,b,c);this._closing=!1;this._squeezeTop=this._squeezeBottom=10;this._inputBuffer="";this._KEY_LENGTH=d.WorkinCloud.get_instance().getString(e.ConstantsApp.STRING_UNLOCK_CODE).length;4>this._KEY_LENGTH&&(this._KEY_LENGTH=4)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenEnterCode"]=g.screens.ScreenEnterCode;g.screens.ScreenEnterCode.__name__=
"com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenEnterCode".split(",");g.screens.ScreenEnterCode.__super__=g.screens.ScreenBase;g.screens.ScreenEnterCode.prototype=v(g.screens.ScreenBase.prototype,{_onEventBackClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_ENTER_CODE_CLOSE)},update:function(a){g.screens.ScreenBase.prototype.update.call(this,a);this.get_state()==this._STATE_OPENED&&(this._lockState==this._LOCK_STATE_LOCKED?(this._squeezeBottom-=
a,0>this._squeezeBottom&&(this._squeezeBottom=this._BOTTOM_RESET,this._squeezeTent(g.screens.ScreenEnterCode._tentBot,0)),this._squeezeTop-=a,0>this._squeezeTop&&(this._squeezeTop=this._TOP_RESET,this._squeezeTent(g.screens.ScreenEnterCode._tentTop,0))):this._lockState==this._LOCK_STATE_OPENING&&(g.screens.ScreenEnterCode._gearL.get_renderable().rotation+=this._OPEN_GEAR_RATE*a,g.screens.ScreenEnterCode._gearR.get_renderable().rotation-=this._OPEN_GEAR_RATE*a))},_setCloseState:function(){var a=this;
this._closing||(this._closing=!0,this._tween.tween(g.screens.ScreenEnterCode._tray.get_pos(),0.8,{x:-e.ConstantsApp.STAGE_CENTER_X},!0,f.tween.Ease.EASE_IN).onComplete(function(){a.setFlagDispose();d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_CODE_SCREEN_OPEN,!1)}))},_squeezeTent:function(a,b){var c=this;if(!(null==g.screens.ScreenEnterCode._tentBot||null==g.screens.ScreenEnterCode._tentTop))this._tween.tween(a.get_renderable(),0.15,{scaleX:0.95,scaleY:1.05},!0,f.tween.Ease.EASE_OUT).delay(b).onComplete(function(){c._tween.tween(a.get_renderable(),
0.1,{scaleX:1,scaleY:1},!0,f.tween.Ease.EASE_IN)})},_setOpenedState:function(){var a=this;g.screens.ScreenBase.prototype._setOpenedState.call(this);this._closing=!1;g.screens.ScreenEnterCode._tray.get_renderable().alpha=1;g.screens.ScreenEnterCode._tray.get_pos().x=-e.ConstantsApp.STAGE_CENTER_X;this._tween.tween(g.screens.ScreenEnterCode._tray.get_pos(),0.3,{x:e.ConstantsApp.STAGE_CENTER_X},!0,f.tween.Ease.EASE_IN).delay(this._initPause).onComplete(function(){a._squeezeTent(g.screens.ScreenEnterCode._tentTop,
0);a._squeezeTent(g.screens.ScreenEnterCode._tentBot,0.15);a._tween.tween(g.screens.ScreenEnterCode._tray.get_pos(),0.2,{x:e.ConstantsApp.STAGE_CENTER_X-100},!0,f.tween.Ease.EASE_OUT).onComplete(function(){a._tween.tween(g.screens.ScreenEnterCode._tray.get_pos(),0.2,{x:e.ConstantsApp.STAGE_CENTER_X},!0,f.tween.Ease.EASE_IN);a._squeezeBottom=a._BOTTOM_RESET;a._squeezeTop=a._TOP_RESET})})},_keyLockedMovement:function(){this._tween.tween(g.screens.ScreenEnterCode._gearL.get_renderable(),0.5,{rotation:g.screens.ScreenEnterCode._gearL.get_renderable().rotation+
30},!0,f.tween.Ease.EASE_BOUNCE_OUT);this._tween.tween(g.screens.ScreenEnterCode._gearR.get_renderable(),0.5,{rotation:g.screens.ScreenEnterCode._gearR.get_renderable().rotation-30},!0,f.tween.Ease.EASE_BOUNCE_OUT)},_keyGearMovement:function(){this._tween.tween(g.screens.ScreenEnterCode._gearL.get_renderable(),0.15,{rotation:g.screens.ScreenEnterCode._gearL.get_renderable().rotation+10},!0,f.tween.Ease.EASE);this._tween.tween(g.screens.ScreenEnterCode._gearR.get_renderable(),0.15,{rotation:g.screens.ScreenEnterCode._gearR.get_renderable().rotation-
10},!0,f.tween.Ease.EASE)},_setLockState:function(a){var b=this;a!=this._lockState&&(this._lockState=a,this._lockState==this._LOCK_STATE_OPENING&&(this._squeezeTent(g.screens.ScreenEnterCode._tentBot,0.2),this._squeezeTent(g.screens.ScreenEnterCode._tentTop,0.5),this._tween.tween(g.screens.ScreenEnterCode._tentBot.get_pos(),0.6,{x:2*e.ConstantsApp.STAGE_WIDTH,y:e.ConstantsApp.STAGE_HEIGHT+e.ConstantsApp.STAGE_CENTER_Y}).ease(f.tween.Ease.EASE_IN).delay(0.6),this._tween.tween(g.screens.ScreenEnterCode._tentTop.get_pos(),
1,{x:2*-e.ConstantsApp.STAGE_WIDTH,y:-e.ConstantsApp.STAGE_HEIGHT}).ease(f.tween.Ease.EASE_OUT).delay(0.75),this._tween.tween(g.screens.ScreenEnterCode._keyPlate.get_renderable(),0.6,{rotation:45},!0,f.tween.Ease.EASE_BOUNCE_OUT,0.9),this._tween.tween(g.screens.ScreenEnterCode._keyPlate.get_renderable(),0.5,{rotation:90},!1,f.tween.Ease.EASE_BOUNCE_OUT,0.7).onComplete(function(){b._tween.tween(g.screens.ScreenEnterCode._keyPlate.get_pos(),1,{x:100,y:e.ConstantsApp.STAGE_HEIGHT+e.ConstantsApp.STAGE_CENTER_Y},
!0,f.tween.Ease.EASE_IN,0.3)}),this._tween.tween(g.screens.ScreenEnterCode._keyPlate.get_renderable(),2,{rotation:180},!1,f.tween.Ease.EASE_IN,0.3)))},_addInputBuffer:function(a){for(this._inputBuffer+=a;this._inputBuffer.length>this._KEY_LENGTH;)this._inputBuffer=A.substr(this._inputBuffer,1,this._inputBuffer.length);g.screens.ScreenEnterCode._keypadLoc.get_renderable().visible=!1;g.screens.ScreenEnterCode._keypadNum.get_renderable().visible=!0;g.screens.ScreenEnterCode._keypadNum.set_text(this._inputBuffer)},
_resetInputBuffer:function(){this._inputBuffer=""},_eventClickEnter:function(){this._lockState==this._LOCK_STATE_LOCKED&&(this._inputBuffer!=d.WorkinCloud.get_instance().getString(e.ConstantsApp.STRING_UNLOCK_CODE)?(this._resetInputBuffer(),g.screens.ScreenEnterCode._keypadNum.get_renderable().visible=!1,g.screens.ScreenEnterCode._keypadLoc.set_text("invalid_code"),g.screens.ScreenEnterCode._keypadLoc.get_renderable().visible=!0,this._keyLockedMovement()):(d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_CODE_UNLOCK,
!0),this._setLockState(this._LOCK_STATE_OPENING)))},_eventClick9:function(){this.doKey(9)},_eventClick8:function(){this.doKey(8)},_eventClick7:function(){this.doKey(7)},_eventClick6:function(){this.doKey(6)},_eventClick5:function(){this.doKey(5)},_eventClick4:function(){this.doKey(4)},_eventClick3:function(){this.doKey(3)},_eventClick2:function(){this.doKey(2)},_eventClick1:function(){this.doKey(1)},_eventClick0:function(){this.doKey(0)},doKey:function(a){this._lockState==this._LOCK_STATE_LOCKED&&
(this._addInputBuffer(t.string(a)),this._keyGearMovement())},dispose:function(){g.screens.ScreenEnterCode._tray.removeElement(this._button,!0);for(this._button=null;0<this._keypadListeners.length;)g.screens.ScreenEnterCode._keypadButtons[this._keypadListeners.length-1].get_dispatcher().removeEventListener(g.buttons.ButtonBase.CLICK,this._keypadListeners.pop());this._keypadListeners=null;this.removeElement(g.screens.ScreenEnterCode._tray,!1);g.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){if(null==
g.screens.ScreenEnterCode._tray){g.screens.ScreenEnterCode._tray=this.addElement(new k.Element({asset:"ui/code/code_back",x:e.ConstantsApp.STAGE_WIDTH/2,y:e.ConstantsApp.STAGE_HEIGHT/2,originX:0.5,originY:0.5}));g.screens.ScreenEnterCode._tray.addElement(new k.TextLocalized(0,-15,"code_copy","",{just:k.TEXT_JUSTIFICATION.JUST_CENTER,originX:0.5,originY:0.5,spacing:55}));g.screens.ScreenEnterCode._tentBot=g.screens.ScreenEnterCode._tray.addElement(new k.Element({asset:"ui/code/code_tent_bottom",x:e.ConstantsApp.STAGE_CENTER_X,
y:e.ConstantsApp.STAGE_CENTER_Y,originX:1,originY:1}));g.screens.ScreenEnterCode._tentTop=g.screens.ScreenEnterCode._tray.addElement(new k.Element({asset:"ui/code/code_tent_top",x:-e.ConstantsApp.STAGE_CENTER_X,y:-e.ConstantsApp.STAGE_CENTER_Y}));g.screens.ScreenEnterCode._tray.addElement(new k.Element({asset:"ui/code/code_frame",originX:0.5,originY:0.5}));g.screens.ScreenEnterCode._keyPlate=g.screens.ScreenEnterCode._tray.addElement(new k.Element({asset:"ui/code/code_gradient",originX:0.5,originY:0.5}));
g.screens.ScreenEnterCode._gearL=g.screens.ScreenEnterCode._keyPlate.addElement(new k.Element({asset:"ui/code/code_gear",originX:0.5,originY:0.5,x:-105}));g.screens.ScreenEnterCode._gearR=g.screens.ScreenEnterCode._keyPlate.addElement(new k.Element({asset:"ui/code/code_gear",originX:0.5,originY:0.5,x:100}));g.screens.ScreenEnterCode._keyPlate.addElement(new k.Element({asset:"ui/code/code_plate",originX:0.5,originY:0.5}));g.screens.ScreenEnterCode._keyTray=g.screens.ScreenEnterCode._keyPlate.addElement(new k.Element({asset:"ui/code/code_pad",
originX:0.5,originY:0.5,x:-3}));g.screens.ScreenEnterCode._keypadLoc=g.screens.ScreenEnterCode._keyTray.addElement(new k.TextLocalized(0,-120,"enter_code_header","",{center:!0,originX:0.5,originY:0.5}));g.screens.ScreenEnterCode._keypadNum=g.screens.ScreenEnterCode._keyTray.addElement(new k.TextBase(0,-120,"","Basic",{center:!0,originX:0.5,originY:0.5,scale:0.5}));null==g.screens.ScreenEnterCode._keypadButtons&&(g.screens.ScreenEnterCode._keypadButtons=[]);for(var a=0,b=0,c=0,i="",d="",f=null;10>=
c;){d="ui/code/code_numkey";i="code_key_"+t.string(c+1);switch(c){case 0:a=-55;b=-60;f=u(this,this._eventClick1);break;case 1:a=0;f=u(this,this._eventClick2);break;case 2:a=55;f=u(this,this._eventClick3);break;case 3:a=-55;b=-5;f=u(this,this._eventClick4);break;case 4:a=0;f=u(this,this._eventClick5);break;case 5:a=55;f=u(this,this._eventClick6);break;case 6:a=-55;b=50;f=u(this,this._eventClick7);break;case 7:a=0;f=u(this,this._eventClick8);break;case 8:a=55;f=u(this,this._eventClick9);break;case 9:b=
105;f=u(this,this._eventClick0);i="code_key_0";break;case 10:a=-27.5,d="ui/code/code_enter",i="code_key_enter",f=u(this,this._eventClickEnter)}d=g.screens.ScreenEnterCode._keyTray.addElement((new g.buttons.ButtonBase(a,b,this._tween,0.5,0.5,d)).setParentOffset(g.screens.ScreenEnterCode._tray));d.addElement(new k.TextLocalized(-2,-3,i,"",{center:!0,originX:0.5,originY:0.5}));d.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,f);g.screens.ScreenEnterCode._keypadButtons.push(d);this._keypadListeners.push(f);
f=null;c++}this._initPause=0.5}else{this.addElement(g.screens.ScreenEnterCode._tray);g.screens.ScreenEnterCode._keypadLoc.set_text("enter_code_header");g.screens.ScreenEnterCode._keypadLoc.get_renderable().visible=!0;g.screens.ScreenEnterCode._keypadNum.get_renderable().visible=!1;f=null;for(c=0;10>=c;){switch(c){case 0:f=u(this,this._eventClick1);break;case 1:f=u(this,this._eventClick2);break;case 2:f=u(this,this._eventClick3);break;case 3:f=u(this,this._eventClick4);break;case 4:f=u(this,this._eventClick5);
break;case 5:f=u(this,this._eventClick6);break;case 6:f=u(this,this._eventClick7);break;case 7:f=u(this,this._eventClick8);break;case 8:f=u(this,this._eventClick9);break;case 9:f=u(this,this._eventClick0);break;case 10:f=u(this,this._eventClickEnter)}g.screens.ScreenEnterCode._keypadButtons[c].get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,f);this._keypadListeners.push(f);c++}this._initPause=0.2}g.screens.ScreenEnterCode._tray.get_pos().to(e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_CENTER_Y);
this._button=g.screens.ScreenEnterCode._tray.addElement((new g.buttons.ButtonBase(0,250,this._tween,0.5,0.5,"ui/general/back_button")).setParentOffset(g.screens.ScreenEnterCode._tray));this._button.addElement(new k.TextLocalized(0,-3,"back","",{center:!0,originX:0.5,originY:0.5}));this._button.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,u(this,this._onEventBackClick));g.screens.ScreenEnterCode._keyPlate.get_root().parent.addChild(g.screens.ScreenEnterCode._keyPlate.get_root());g.screens.ScreenEnterCode._tray.get_renderable().alpha=
0;this._inputBuffer=""},__class__:g.screens.ScreenEnterCode});g.screens.ScreenGameplayHUD=function(a,b,c){null==b&&(b="");g.screens.ScreenBase.call(this,a,b,c)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenGameplayHUD"]=g.screens.ScreenGameplayHUD;g.screens.ScreenGameplayHUD.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenGameplayHUD".split(",");g.screens.ScreenGameplayHUD.__super__=g.screens.ScreenBase;g.screens.ScreenGameplayHUD.prototype=v(g.screens.ScreenBase.prototype,
{_onEventMenuClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU)},_onEventResizeCanvas:function(){this._tray.get_pos().x=e.ConstantsApp.get_CANVAS_LEFT();this._tray.get_pos().y=e.ConstantsApp.get_CANVAS_TOP();this._score.get_pos().x=e.ConstantsApp.get_CANVAS_LEFT()+175;this._score.get_pos().y=e.ConstantsApp.get_CANVAS_TOP()+35;this._menuButton.get_pos().x=e.ConstantsApp.get_CANVAS_LEFT()+75;this._menuButton.get_pos().y=e.ConstantsApp.get_CANVAS_BOTTOM()-
25},_setInState:function(){this._tween.tween(this._topGraphic.get_pos(),0.5,{y:0},!0,f.tween.Ease.EASE_OUT);this._tween.tween(this._botGraphic.get_pos(),0.5,{y:e.ConstantsApp.STAGE_HEIGHT},!0,f.tween.Ease.EASE_OUT).onComplete(u(this,this._finishOpenState))},dispose:function(){this._botGraphic=this._topGraphic=this._tray=this._level=this._score=this._menuButton=null;g.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){this._tray=this.addElement(new k.Element({x:e.ConstantsApp.get_CANVAS_LEFT(),
y:e.ConstantsApp.get_CANVAS_TOP()}));this._topGraphic=this._tray.addElement(new k.Element({asset:"ui_hud_top",originX:0,originY:0,x:0,y:-64}));this._botGraphic=this._tray.addElement(new k.Element({asset:"ui_hud_bottom",originX:0,originY:1,x:0,y:e.ConstantsApp.STAGE_HEIGHT+64}));this._score=this._topGraphic.addElement(new g.display.DisplayScore(e.ConstantsApp.get_CANVAS_LEFT()+205,32,this._tween));this._score.get_renderable().scaleX=0.5;this._score.get_renderable().scaleY=0.5;this._level=this._topGraphic.addElement(new g.display.DisplayLevel(e.ConstantsApp.get_CANVAS_RIGHT()-
100,32,this._tween));this._level.get_renderable().scaleX=0.5;this._level.get_renderable().scaleY=0.5;this._bestScore=this._botGraphic.addElement(new g.display.DisplayBestScore((e.ConstantsApp.get_CANVAS_RIGHT()-e.ConstantsApp.get_CANVAS_LEFT())/2,-32,this._tween));this._bestScore.get_renderable().scaleX=0.4;this._bestScore.get_renderable().scaleY=0.4;this._menuButton=this._tray.addElement(new g.buttons.ButtonBase(e.ConstantsApp.get_CANVAS_LEFT()+75,e.ConstantsApp.get_CANVAS_BOTTOM()-25,this._tween,
0.5,0.5,"ui_hud_qmark"));this._menuButton.setParentOffset(this._tray);this._menuButton.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,u(this,this._onEventMenuClick));this._tray.addElement(new g.buttons.ButtonSoundToggle(50,50,this._tween,0.5,0.5,["button_vol_on"],["button_vol_off"]))},__class__:g.screens.ScreenGameplayHUD});g.screens.ScreenMenuBase=function(a,b,c){null==b&&(b="");g.screens.ScreenBase.call(this,a,b,c)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenMenuBase"]=
g.screens.ScreenMenuBase;g.screens.ScreenMenuBase.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenMenuBase".split(",");g.screens.ScreenMenuBase.__super__=g.screens.ScreenBase;g.screens.ScreenMenuBase.prototype=v(g.screens.ScreenBase.prototype,{_addButton:function(a,b,c,i){null==i&&(i=216);null==c&&(c=352);null==a&&(a="");var d=null,d=this._contentTray.addElement(new g.buttons.ButtonBase(c,i,this._tween,0.5,0.5,"ui_btn_hitbox"));d.setParentOffset(this._contentTray);d.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,
b);d.addElement(new k.TextLocalized(0,0,a,"",{originX:0.5,originY:0.5}));return d},_addTitle:function(a){this._contentTray.addElement(new k.TextLocalized(0,-128,a,"",{originX:0.5,originY:0.5,just:k.TEXT_JUSTIFICATION.JUST_CENTER}))},_addHowToPlayText:function(){var a;a=d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_TOUCH_DEVICE)?"how_to_play_msg_t":"how_to_play_msg";this._contentTray.addElement(new k.TextLocalized(0,0,a,"",{originX:0.5,originY:0.5,just:k.TEXT_JUSTIFICATION.JUST_CENTER}))},
_onTweenOutComplete:function(){this.setFlagDispose()},_setCloseState:function(){this._closing=!0;this._tween.tween(this._background.get_renderable(),0.75,{alpha:0},!0,f.tween.Ease.EASE_OUT);this._tween.tween(this._contentTray.get_renderable(),0.75,{alpha:0},!0,f.tween.Ease.EASE_OUT);this._tween.tween(this._topGraphic.get_pos(),0.75,{y:-280},!0,f.tween.Ease.EASE_OUT);this._tween.tween(this._botGraphic.get_pos(),0.75,{y:840},!0,f.tween.Ease.EASE_OUT).onComplete(u(this,this._onTweenOutComplete))},_onTweenInComplete:function(){this._finishOpenState()},
_setInState:function(){this._closing=!1;this._background.get_renderable().visible=!0;this._tween.tween(this._background.get_renderable(),0.75,{alpha:1},!0,f.tween.Ease.EASE_OUT);this._tween.tween(this._contentTray.get_renderable(),0.75,{alpha:1},!0,f.tween.Ease.EASE_OUT);this._tween.tween(this._topGraphic.get_pos(),0.75,{y:0},!0,f.tween.Ease.EASE_BOUNCE_OUT);this._tween.tween(this._botGraphic.get_pos(),0.75,{y:e.ConstantsApp.STAGE_HEIGHT},!0,f.tween.Ease.EASE_BOUNCE_OUT).onComplete(u(this,this._onTweenInComplete))},
dispose:function(){this._contentTray=this._botGraphic=this._topGraphic=this._background=this._tray=null;g.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){this._tray=this.addElement(new k.Element({x:0,y:0,originX:0,originY:0}));this._background=this._tray.addElement(new k.Element({asset:"ui_bg",x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y,originX:0.5,originY:0.5}));this._background.get_renderable().visible=!1;this._topGraphic=this._tray.addElement(new k.Element({asset:"ui_rocks_top",
x:e.ConstantsApp.STAGE_CENTER_X,y:-280,originX:0.5,originY:0.1}));this._botGraphic=this._tray.addElement(new k.Element({asset:"ui_rocks_top",x:e.ConstantsApp.STAGE_CENTER_X,y:840,scaleX:-1,scaleY:-1,originX:0.5,originY:0.1}));this._tray.addElement(new g.buttons.ButtonSoundToggle(50,50,this._tween,0.5,0.5,["button_vol_on"],["button_vol_off"]));this._contentTray=this._tray.addElement(new k.Element({originX:0.5,originY:0.5,x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y}))},__class__:g.screens.ScreenMenuBase});
g.screens.ScreenGameplayMenu=function(a,b,c){null==b&&(b="");g.screens.ScreenMenuBase.call(this,a,b,c)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenGameplayMenu"]=g.screens.ScreenGameplayMenu;g.screens.ScreenGameplayMenu.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenGameplayMenu".split(",");g.screens.ScreenGameplayMenu.__super__=g.screens.ScreenMenuBase;g.screens.ScreenGameplayMenu.prototype=v(g.screens.ScreenMenuBase.prototype,{_onEventQuitClick:function(){this.get_state()==
this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT)},_onEventResumeClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE)},_onEventHelpClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP)},dispose:function(){g.screens.ScreenMenuBase.prototype.dispose.call(this)},_buildScreen:function(){g.screens.ScreenMenuBase.prototype._buildScreen.call(this);this._addTitle("paused");
this._addButton("back_to_game_btn",u(this,this._onEventResumeClick),0,0);this._addButton("how_to_play_btn",u(this,this._onEventHelpClick),0,64);this._addButton("quit_btn",u(this,this._onEventQuitClick),0,128)},__class__:g.screens.ScreenGameplayMenu});g.screens.ScreenGeneric=function(){};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenGeneric"]=g.screens.ScreenGeneric;g.screens.ScreenGeneric.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenGeneric".split(",");
g.screens.ScreenGeneric.__super__=g.screens.ScreenBase;g.screens.ScreenGeneric.prototype=v(g.screens.ScreenBase.prototype,{__class__:g.screens.ScreenGeneric});g.screens.ScreenHelp=function(a,b,c){null==b&&(b="");g.screens.ScreenMenuBase.call(this,a,b,c)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenHelp"]=g.screens.ScreenHelp;g.screens.ScreenHelp.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenHelp".split(",");g.screens.ScreenHelp.__super__=g.screens.ScreenMenuBase;
g.screens.ScreenHelp.prototype=v(g.screens.ScreenMenuBase.prototype,{dispose:function(){g.screens.ScreenMenuBase.prototype.dispose.call(this)},_buildScreen:function(){var a=this;g.screens.ScreenMenuBase.prototype._buildScreen.call(this);this._addTitle("how_to_play");this._addHowToPlayText();this._addButton("close_btn",function(){a.get_state()==a._STATE_OPENED&&a._doFlowEvent(e.ConstantsScreen.FLOW_HELP_CLOSE)});C._platform.getTouch().get_supported()},__class__:g.screens.ScreenHelp});g.screens.ScreenLoading=
function(a,b,c){null==b&&(b="");this._INIT_WAIT=1.5;g.screens.ScreenMenuBase.call(this,a,b,c)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenLoading"]=g.screens.ScreenLoading;g.screens.ScreenLoading.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenLoading".split(",");g.screens.ScreenLoading.__super__=g.screens.ScreenMenuBase;g.screens.ScreenLoading.prototype=v(g.screens.ScreenMenuBase.prototype,{_endScreen:function(){this._closing||(this._closing=!0,this._doFlowEvent(e.ConstantsScreen.FLOW_LOAD_CLOSE))},
update:function(a){g.screens.ScreenMenuBase.prototype.update.call(this,a);this.get_state()==this._STATE_OPENED&&(this._timer-=a,this._initTimer-=a,0>this._initTimer?this._tryFinishLoading():this._loadWidget.update(a))},_tryFinishLoading:function(){!this._finishedLoading&&!d.WorkinCloud.get_instance().get_assets().isLoading()&&(this._buttonPlay.get_renderable().visible=!0,this._loadWidget.tweenOut(),f.tween.WorkinTweenUtils.easeBounceIn(this._buttonPlay,this._tween),0<this._gameType&&d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(e.ConstantsScreen.FLOW_LOADING_DONE)),
this._finishedLoading=!0)},_setCloseState:function(){g.screens.ScreenMenuBase.prototype._setCloseState.call(this)},_setInState:function(){g.screens.ScreenMenuBase.prototype._setInState.call(this);this._loadWidget.tweenIn()},dispose:function(){this._buttonPlay=this._loadWidget=null;g.screens.ScreenMenuBase.prototype.dispose.call(this)},_buildScreen:function(){var a=this;g.screens.ScreenMenuBase.prototype._buildScreen.call(this);this._addTitle("how_to_play");this._addHowToPlayText();this._buttonPlay=
this._addButton("play_btn",function(){a._endScreen()});this._buttonPlay.get_renderable().visible=!1;this._buttonPlay.get_renderable().alpha=0;this._initTimer=2;this._timer=this._INIT_WAIT;this._gameType=d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_GAME_CLASS);this._loadWidget=this._tray.addElement(new g.display.DisplayLoadingProgress(e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_HEIGHT-75,this._tween))},__class__:g.screens.ScreenLoading});g.screens.ScreenMinigame=function(a,b,c){null==
b&&(b="");this._MAX_Y=450;this._MIN_Y=60;this._MAX_X=900;this._MIN_X=60;g.screens.ScreenBase.call(this,a,b,c)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenMinigame"]=g.screens.ScreenMinigame;g.screens.ScreenMinigame.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenMinigame".split(",");g.screens.ScreenMinigame.__super__=g.screens.ScreenBase;g.screens.ScreenMinigame.prototype=v(g.screens.ScreenBase.prototype,{_onPlayClick:function(){this._finishedLoading&&
this._doFlowEvent(e.ConstantsScreen.FLOW_MINIGAME_CLOSE)},_onLoadingComplete:function(){this._buttonPlay.get_renderable().visible=!0;this._buttonPlay.enable();f.tween.WorkinTweenUtils.easeBounceIn(this._buttonPlay,this._tween);this._finishedLoading=!0},handleInput:function(a){switch(a.input){case e.ConstantsApp.INPUT_CLICK:case e.ConstantsApp.INPUT_SPACE:switch(a.phase){case o.WMEventInput.PHASE_DOWN:if(1==this._gameType){if(this._gameOver)break;this._spatula.setRenderOffset(-100,30);this._spatula.get_renderable().rotation=
-65;this._plankton.hitBox.intersects(this._spatula.hitBox)&&this._plankton.getIsActive()&&(this._plankton.setState(g.screens.minigames.STATE._STATE_FALL),this._burger.set_goalPoint(this._burger.motherPoint),this._difficulty++,d.WorkinCloud.get_instance().modifyInt(e.ConstantsApp.INT_LOADING_SCORE,1),null)}if(2==this._gameType)for(var b=this._slots.length;0<b;)if(b--,!this._slots[b].get_flagStopSpin()&&(this._slotButtons[b].contains(a.x,a.y)||this._slots[b].contains(a.x,a.y))){this._slots[b].stopRoulette();
a=0;for(b=this._slots;a<b.length;){var c=b[a];++a;c.difficulty++}break}}}},_resetGame:function(){d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LOADING_SCORE,0);switch(this._gameType){case 1:this._burger.set_goalPoint(this._burger.motherPoint);this._burger.get_pos().toPoint(this._burger.get_goalPoint());break;case 2:for(var a=0,b=0,c=this._slots;b<c.length;){var i=c[b];++b;i.difficulty=this._difficulty+1;i.set_rouletteAssetNumber(d.WorkinCloud.get_instance().get_random().getRandomInt(0,3)|
0);i.startRoulette();a++}break;case 3:this._gameTimer=6,this._gamePaused=!1,this._balls.push(this._gameBoard.addElement(new g.screens.minigames.PongBall({x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y,originX:0.5,originY:0.5,vel:125,asset:"PongBall",originalBall:!0,minX:this._MIN_X,minY:this._MIN_Y,maxX:this._MAX_X,maxY:this._MAX_Y})))}},_disableGame:function(){this._difficulty=0;if(this._finishedLoading){this._gameOver=!0;f.tween.WorkinTweenUtils.easeBounceOut(this._instructions,
this._tween);d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(e.ConstantsScreen.FLOW_MINIGAME_OVER));var a=this._buttonPlay.get_pos().x,b=this._buttonPlay.get_pos().y;this._buttonPlay.get_pos().to(e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_CENTER_Y);f.tween.WorkinTweenUtils.easeSlideIn(this._buttonPlay,this._tween,a,b)}else this._resetGame()},updatePong:function(a){this._gameTimer-=a;this._paddle.get_pos().x=d.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos().x;
if(this._gamePaused){if(this._paddle.setRenderOffset(d.WorkinCloud.get_instance().get_random().getRandomFloat(4*-this._gameTimer,4*this._gameTimer),d.WorkinCloud.get_instance().get_random().getRandomFloat(2*-this._gameTimer,2*this._gameTimer)),0>=this._gameTimer){for(;0<this._balls.length;)this._gameBoard.removeElement(this._balls.pop(),!0);this._paddle.setRenderOffset(0,0);this._disableGame()}}else{if(0<this._balls.length)for(a=this._balls.length;0<a--;)if(this._paddle.runPointCollisionTest(this._balls[a].get_pos().x,
this._balls[a].get_pos().y)&&(this._balls[a].onCollidePlayer(this._paddle),d.WorkinCloud.get_instance().modifyInt(e.ConstantsApp.INT_LOADING_SCORE,1)),this._balls[a].get_doDelete()){this._balls[a].get_renderable().scaleX=this._balls[a].get_renderable().scaleY=6;this._gameTimer=1;for(var a=0,b=this._balls;a<b.length;){var c=b[a];++a;c.get_velocity().to(0,0);f.tween.WorkinTweenUtils.easeBounceOut(c,this._tween)}this._gamePaused=!0;break}0>=this._gameTimer&&this._balls[0].get_pos().y<e.ConstantsApp.STAGE_CENTER_Y&&
(this._gameTimer=6,this._balls.push(this._gameBoard.addElement(new g.screens.minigames.PongBall({x:this._balls[0].get_pos().x,y:this._balls[0].get_pos().y,originX:0.5,originY:0.5,vel:75,asset:"PongBall",originalBall:!1,minX:this._MIN_X,minY:this._MIN_Y,maxX:this._MAX_X,maxY:this._MAX_Y,downwards:0>this._balls[0].get_velocity().y}))),f.tween.WorkinTweenUtils.easeBounceIn(this._balls[this._balls.length-1],this._tween))}},updateMatch:function(a){if(0>=this._gameTimer)for(a=this._slots.length;0<a;){if(a--,
this._slots[a].get_flagStopSpin()){for(var b=a,c=0;0<b;)if(b--,this._slots[b].get_flagStopSpin())if(this._slots[a].get_rouletteAssetNumber()!=this._slots[b].get_rouletteAssetNumber()){this._difficulty=0;this._gameTimer=1;for(var i=0,f=this._slots;i<f.length;){var g=f[i];++i;g.lose()}null}else c++;if(c>=this._slots.length-1){i=0;for(f=this._slots;i<f.length;)g=f[i],++i,g.win();this._gameTimer=1;this._difficulty++;d.WorkinCloud.get_instance().modifyInt(e.ConstantsApp.INT_LOADING_SCORE,1);null}}}else if(this._gameTimer-=
a,0>=this._gameTimer)if(0<this._difficulty){i=b=0;for(f=this._slots;i<f.length;)a=f[i],++i,a.difficulty=this._difficulty+1,a.set_rouletteAssetNumber(d.WorkinCloud.get_instance().get_random().getRandomInt(0,3)),a.startRoulette(),b++}else this._disableGame()},updateSwat:function(a){this._spatula.get_pos().toPoint(d.WorkinCloud.get_instance().get_input().get_pointer().get_currentPos());this._gameTimer-=a;0>=this._gameTimer&&this._plankton.getState()==g.screens.minigames.STATE._STATE_IDLE&&(this._gameTimer=
0,this._plankton.changeScale(1-0.02*this._difficulty),this._plankton.strike(this._difficulty,this._burger));this._plankton.hitBox.intersects(this._burger.hitBox)&&this._plankton.getState()==g.screens.minigames.STATE._STATE_ATTACK&&(this._burger.set_goalPoint(this._plankton.get_pos()),this._plankton.flee());(this._burger.get_pos().x<this._MIN_X||this._burger.get_pos().x>this._MAX_X||this._burger.get_pos().y<this._MIN_Y||this._burger.get_pos().y>this._MAX_Y)&&this._disableGame()},update:function(a){g.screens.ScreenBase.prototype.update.call(this,
a);this._gameOver||(1==this._gameType&&this.updateSwat(a),2==this._gameType&&this.updateMatch(a),3==this._gameType&&this.updatePong(a));this._finishedLoading&&(null==this._underLay._textureSprite.scissor&&(this._underLay._textureSprite.scissor=new J.Rectangle(0,0,960,560)),0<this._underLay._textureSprite.scissor.height&&(this._underLay._textureSprite.scissor.height-=560*a,this._underLay._textureSprite.scissor.y+=280*a,0>this._underLay._textureSprite.scissor.height&&(this._underLay._textureSprite.scissor.height=
0)))},_setCloseState:function(){f.tween.WorkinTweenUtils.easeSlideOutToDir(this._gameBoard,this._tween,f.tween.TWEEN_DIR.BOTTOM);null!=this._spatula&&f.tween.WorkinTweenUtils.easeBounceOut(this._spatula,this._tween);f.tween.WorkinTweenUtils.easeBounceOut(this._buttonPlay,this._tween);null!=this._buttonSound&&f.tween.WorkinTweenUtils.easeBounceOut(this._buttonSound,this._tween);f.tween.WorkinTweenUtils.easeSlideOutToDir(this._gameOverlay,this._tween,f.tween.TWEEN_DIR.BOTTOM).onComplete(u(this,this.setFlagDispose))},
_setInState:function(){var a=this;f.tween.WorkinTweenUtils.easeSlideInFromDir(this._underLay,this._tween,f.tween.TWEEN_DIR.TOP);f.tween.WorkinTweenUtils.easeSlideInFromDir(this._gameBoard,this._tween,f.tween.TWEEN_DIR.TOP);f.tween.WorkinTweenUtils.easeSlideInFromDir(this._gameOverlay,this._tween,f.tween.TWEEN_DIR.TOP).onComplete(function(){null!=a._buttonSound&&f.tween.WorkinTweenUtils.easeBounceIn(a._buttonSound,a._tween)})},dispose:function(){this._slotButtons=this._buttonSound=this._buttonPlay=
this._instructions=this._paddle=this._plankton=this._spatula=this._burger=this._balls=this._slots=this._loadWidget=null;d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(e.ConstantsScreen.FLOW_LOADING_DONE,u(this,this._onLoadingComplete));g.screens.ScreenBase.prototype.dispose.call(this)},_buildScreen:function(){this._gameType=d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_GAME_CLASS);this._difficulty=0;this._gameOver=!1;this._underLay=this.addElement(new k.Element({asset:"minigame_underlay"}));
this._gameBoard=this.addElement(new k.Element({asset:"testgamebg"}));this._gameBoard.get_renderable().alpha=0;this._gameBoard._rootSprite.scissor=new J.Rectangle(this._MIN_X,this._MIN_Y,this._MAX_X-this._MIN_X,this._MAX_Y-this._MIN_Y);d.WorkinCloud.get_instance().resetValue(e.ConstantsApp.INT_LOADING_SCORE);switch(this._gameType){case 1:this._gameBoard.addElement(this._burger=new g.screens.minigames.ProtectBurger({x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y,asset:"hambaga",originX:0.5,
originY:0.5,width:80,height:80,hitOffsetX:-40,hitOffsetY:-40}));this._gameBoard.addElement(this._plankton=new g.screens.minigames.ProtectPlankton({x:-125,y:-125,asset:"target",originX:0.5,originY:0.5,width:67,height:125,hitOffsetX:-33.5,hitOffsetY:-62.5}));this.addElement(this._spatula=new g.screens.minigames.ProtectSpatula({x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y,asset:"spatula",originX:0,originY:0.2,width:60,height:30,hitOffsetX:-30,hitOffsetY:-15}));this._gameTimer=0;break;
case 2:var a=new P;a.add(new p.FillSprite(16777215,960,560));this._gameBoard._rootEntity.addChild(a);this._slots=[];this._slotButtons=[];for(a=0;3>a;){var b=a++;this._slots.push(this._gameBoard.addElement(new g.screens.minigames.Roulette({x:303+177*b,y:217,rouletteNumber:d.WorkinCloud.get_instance().get_random().getRandomInt(0,3),originX:0.5,originY:0.5})));this._slots[b].difficulty=this._difficulty+1;this._slots[b].startRoulette();this._slotButtons.push(new J.Rectangle(260+183*b,337,82,82))}this._gameBoard.addElement(new k.Element({x:e.ConstantsApp.STAGE_CENTER_X,
y:e.ConstantsApp.STAGE_CENTER_Y-27,asset:"slot_overlay",originX:0.5,originY:0.5}));this._gameTimer=0;break;case 3:this._gameBoard.addElement(this._paddle=new g.screens.minigames.PongCollisionItem({x:e.ConstantsApp.STAGE_CENTER_X,y:420,originX:0.5,originY:0.5,asset:"PongPaddle",width:125,height:32})),this._balls=[],this._balls.push(this._gameBoard.addElement(new g.screens.minigames.PongBall({x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y,originX:0.5,originY:0.5,vel:125,asset:"PongBall",
originalBall:!0,minX:this._MIN_X,minY:this._MIN_Y,maxX:this._MAX_X,maxY:this._MAX_Y}))),this._gameTimer=6,this._gamePaused=!1}this._gameOverlay=this.addElement(new k.Element({asset:"",x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y,originX:0.5,originY:0.5}));this._loadWidget=this._gameOverlay.addElement(new g.display.DisplayLoadingProgress(e.ConstantsApp.STAGE_CENTER_X-475,e.ConstantsApp.STAGE_CENTER_Y-60,this._tween,!0));this._gameOverlay.addElement(new g.display.DisplayLoadScore(e.ConstantsApp.STAGE_CENTER_X-
100,e.ConstantsApp.STAGE_CENTER_Y-120,this._tween));this._instructions=this._gameOverlay.addElement(new k.TextLocalized(0,-e.ConstantsApp.STAGE_CENTER_Y+this._MIN_Y+10,"instructions"+this._gameType,null,{center:!0,originX:0.5,originY:0}));this._buttonPlay=this.addElement(new g.buttons.ButtonBase(e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_CENTER_Y+225,this._tween,0.5,0.5,"text_box_1"));this._buttonPlay.addElement(new k.TextLocalized(0,0,"play","",{center:!0,originX:0.5,originY:0.5}));this._buttonPlay.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,
u(this,this._onPlayClick));this._buttonPlay.get_renderable().visible=!1;this._buttonPlay.disable();this._soundButtonAdded=!1;if(d.WorkinCloud.get_instance().get_assets().isChunkLoaded("initial_hd")||d.WorkinCloud.get_instance().get_assets().isChunkLoaded("initial_sd"))this._buttonSound=this.addElement(new g.buttons.ButtonSoundToggle(75,75,this._tween,0.5,0.5,["button_vol_on"],["button_vol_off"])),this._buttonSound.get_renderable().alpha=0,this._soundButtonAdded=!0;d.WorkinCloud.get_instance().get_dispatcher().addEventListener(e.ConstantsScreen.FLOW_LOADING_DONE,
u(this,this._onLoadingComplete))},__class__:g.screens.ScreenMinigame});g.screens.ScreenPauseAlert=function(a,b,c){null==b&&(b="");g.screens.ScreenBase.call(this,a,b,c);this._alertBox=new p.FillSprite(0,e.ConstantsApp.STAGE_WIDTH|0,e.ConstantsApp.STAGE_HEIGHT|0);a=new P;a.add(this._alertBox);this._imageEntity.addChild(a);this._textAlert=this.addElement(new k.TextLocalized(50,50,"orientation_portrait","",{originX:0,originY:0.5}))};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenPauseAlert"]=
g.screens.ScreenPauseAlert;g.screens.ScreenPauseAlert.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenPauseAlert".split(",");g.screens.ScreenPauseAlert.__super__=g.screens.ScreenBase;g.screens.ScreenPauseAlert.prototype=v(g.screens.ScreenBase.prototype,{update:function(a){g.screens.ScreenBase.prototype.update.call(this,a)},__class__:g.screens.ScreenPauseAlert});g.screens.ScreenQuitConfirm=function(a,b,c){this._TRAY_IN_TIME_2=0.2;this._TRAY_IN_TIME=0.35;g.screens.ScreenMenuBase.call(this,
a,b,c)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenQuitConfirm"]=g.screens.ScreenQuitConfirm;g.screens.ScreenQuitConfirm.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenQuitConfirm".split(",");g.screens.ScreenQuitConfirm.__super__=g.screens.ScreenMenuBase;g.screens.ScreenQuitConfirm.prototype=v(g.screens.ScreenMenuBase.prototype,{_onNoClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO)},
_onYesClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES)},dispose:function(){this._wall=null;g.screens.ScreenMenuBase.prototype.dispose.call(this)},_buildScreen:function(){g.screens.ScreenMenuBase.prototype._buildScreen.call(this);this._addTitle("quit_confirm");this._addButton("yes_btn",u(this,this._onYesClick),0,0);this._addButton("no_btn",u(this,this._onNoClick),0,64)},__class__:g.screens.ScreenQuitConfirm});g.screens.ScreenScreenshot=
function(){};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenScreenshot"]=g.screens.ScreenScreenshot;g.screens.ScreenScreenshot.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenScreenshot".split(",");g.screens.ScreenScreenshot.__super__=g.screens.ScreenBase;g.screens.ScreenScreenshot.prototype=v(g.screens.ScreenBase.prototype,{dispose:function(){g.screens.ScreenBase.prototype.dispose.call(this)},__class__:g.screens.ScreenScreenshot});g.screens.ScreenShop=
function(a,b,c){null==b&&(b="");g.screens.ScreenBase.call(this,a,b,c);this._closing=!1};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenShop"]=g.screens.ScreenShop;g.screens.ScreenShop.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenShop".split(",");g.screens.ScreenShop.__super__=g.screens.ScreenBase;g.screens.ScreenShop.prototype=v(g.screens.ScreenBase.prototype,{dispose:function(){this._buttons=this._trayDetails=this._trayInventory=this._trayCurrency=
null;g.screens.ScreenBase.prototype.dispose.call(this)},_onEventPlayClick:function(){this.get_state()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_SHOP_CLOSE)},_setCloseState:function(){this._closing||(this._closing=!0,f.tween.WorkinTweenUtils.easeSlideOut(this._trayCurrency,this._tween,0,-75,0.25).onComplete(u(this,this.setFlagDispose)),f.tween.WorkinTweenUtils.easeSlideOut(this._trayInventory,this._tween,e.ConstantsApp.STAGE_CENTER_X-1E3,e.ConstantsApp.STAGE_CENTER_Y),f.tween.WorkinTweenUtils.easeSlideOut(this._trayDetails,
this._tween,e.ConstantsApp.STAGE_CENTER_X+1E3,e.ConstantsApp.STAGE_CENTER_Y),f.tween.WorkinTweenUtils.easeBounceOut(this._currency,this._tween))},_setInState:function(){this._closing=!1;f.tween.WorkinTweenUtils.easeSlideIn(this._trayCurrency,this._tween,0,-75);f.tween.WorkinTweenUtils.easeSlideIn(this._trayInventory,this._tween,e.ConstantsApp.STAGE_CENTER_X-1E3,e.ConstantsApp.STAGE_CENTER_Y).onComplete(u(this,this._finishOpenState));f.tween.WorkinTweenUtils.easeSlideIn(this._trayDetails,this._tween,
e.ConstantsApp.STAGE_CENTER_X+1E3,e.ConstantsApp.STAGE_CENTER_Y);f.tween.WorkinTweenUtils.easeBounceIn(this._currency,this._tween,!0,0.55)},_doItemSelect:function(a){this._selectedItem=a;this._textItemName.swapTextToDisplay(e.Inventory.getLocalizationNameID(this._selectedItem));this._textItemDesc.swapTextToDisplay(e.Inventory.getLocalizationDescID(this._selectedItem));this._textItemNext.swapTextToDisplay(e.Inventory.getLocalizationDescID(this._selectedItem,1));this._itemIcon.setTextureAsset(e.Inventory.getIcon(this._selectedItem));
a=e.Inventory.hasRankCapped(this._selectedItem);!a&&e.Inventory.canAffordNextRank(this._selectedItem)?this._buttonBuy.enable():this._buttonBuy.disable();this._textCost.get_renderable().alpha=a?0:1;this._textCostCurrency.get_renderable().alpha=a?0:1;this._textItemNext.get_renderable().alpha=a?0:1;this._textNextRank.get_renderable().alpha=a?0:1;this._textCost.set_text(""+e.Inventory.getCostNextRank(this._selectedItem));this._textProgress.set_text(e.Inventory.getRank(this._selectedItem)+" / "+e.Inventory.getRankCap(this._selectedItem))},
_onBuy:function(){d.WorkinCloud.get_instance().modifyInt(e.ConstantsApp.INT_CURRENCY,-e.Inventory.getCostNextRank(this._selectedItem));e.Inventory.addRank(this._selectedItem);this._doItemSelect(this._selectedItem);for(var a,b=0,c=this._buttons;b<c.length;)a=c[b],++b,a.doRefreshDisplay()},_onItemSelect:function(a){this._doItemSelect(a.get_data().id)},_removeEventListeners:function(){d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(e.ConstantsApp.EVENT_ITEM_SELECT,u(this,this._onItemSelect))},
_addEventListeners:function(){d.WorkinCloud.get_instance().get_dispatcher().addEventListener(e.ConstantsApp.EVENT_ITEM_SELECT,u(this,this._onItemSelect))},_buildScreen:function(){this._trayCurrency=this.addElement(new k.Element({asset:"scorebox"}));this._trayCurrency.get_renderable().alpha=0;this._currency=this.addElement(new g.display.DisplayCurrency(175,35,this._tween));this._currency.get_renderable().alpha=0;this._trayInventory=this.addElement(new k.Element({asset:"help_menu",originX:0.5,originY:0.5,
x:0.3*e.ConstantsApp.STAGE_WIDTH,y:e.ConstantsApp.STAGE_CENTER_Y}));this._trayInventory.get_renderable().visible=!1;this._trayInventory.addElement(new k.TextLocalized(-200,-170,"shop","",{originX:0.5,originY:0.5,center:!0}));this._buttons=[];for(var a=0.35*-this._trayInventory.get_renderable().width,b=a,c=-75,i=0,f=0,h=e.Inventory.getItemList();f<h.length;){var j=h[f];++f;this._button=this._trayInventory.addElement((new g.buttons.ButtonShopItem(j,b,c,this._tween,0.5,0.5,"button_shop_backing")).setParentOffset(this._trayInventory));
this._buttons.push(this._button);i++;4<=i?(i=0,b=a,c+=105):b+=105}this._trayDetails=this.addElement(new k.Element({asset:"help_menu",originX:0.5,originY:0.5,x:0.8*e.ConstantsApp.STAGE_WIDTH,y:e.ConstantsApp.STAGE_CENTER_Y}));this._trayDetails.get_renderable().visible=!1;this._textItemName=this._trayDetails.addElement(new k.TextLocalized(-175,-170,"item_name_default","",{originX:0,originY:0.5,center:!0}));this._textItemDesc=this._trayDetails.addElement(new k.TextLocalized(-50,-90,"item_unowned","",
{originX:0.5,originY:0,center:!0}));this._textNextRank=this._trayDetails.addElement(new k.TextLocalized(-250,-20,"next_rank","",{originX:0,originY:0,center:!0}));this._textItemNext=this._trayDetails.addElement(new k.TextLocalized(-50,5,"item_desc_default","",{originX:0.5,originY:0,center:!0}));a=d.WorkinCloud.get_instance().get_localize().getLocalizeData("currency");this._textCostCurrency=this._trayDetails.addElement(new k.TextLocalized(-115-20*a.get_scale(),130,"currency","",{originX:1,originY:0.5}));
this._textCost=this._trayDetails.addElement(new k.TextBase(-115,130,"99999",a.get_fontName(),{originX:0,originY:0.5,center:!0}));this._textCost.get_renderable().scaleX=this._textCost.get_renderable().scaleY=a.get_scale();this._textCost.set_text("99999");this._textProgress=this._trayDetails.addElement(new k.TextBase(-50,-120,"1 / 1",a.get_fontName(),{originX:0.5,originY:0.5,center:!0}));this._textProgress.get_renderable().scaleX=this._textProgress.get_renderable().scaleY=0.5;this._textProgress.set_text("1 / 1");
this._trayDetails.addElement(new k.Element({asset:"button_blank",originX:0.5,originY:0.5,x:-250,y:-170}));this._itemIcon=this._trayDetails.addElement(new k.Element({asset:"button_pause",originX:0.5,originY:0.5,x:-250,y:-176}));this._buttonBuy=this._trayDetails.addElement((new g.buttons.ButtonShopBuy(-250,175,this._tween,0.5,0.5,"button_blank")).setParentOffset(this._trayDetails));this._buttonBuy.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,u(this,this._onBuy));this._buttonLeave=this._trayDetails.addElement((new g.buttons.ButtonDynamic(150,
200,this._tween,0.5,0.5,"button_x")).setParentOffset(this._trayDetails));this._buttonLeave.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,u(this,this._onEventPlayClick));d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(e.ConstantsApp.EVENT_ITEM_SELECT,{id:e.Item.ITEM_SWORD}))},__class__:g.screens.ScreenShop});g.screens.ScreenSplash=function(a,b,c){null==b&&(b="");g.screens.ScreenBase.call(this,a,b,c);this._closing=this._clickTrayAdded=this._loadComplete=
this._initialAdded=this._preloadAdded=!1;this._tryLoadComplete();this._tryPreload();this._tryInitialLoad()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.ScreenSplash"]=g.screens.ScreenSplash;g.screens.ScreenSplash.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,ScreenSplash".split(",");g.screens.ScreenSplash.__super__=g.screens.ScreenBase;g.screens.ScreenSplash.prototype=v(g.screens.ScreenBase.prototype,{update:function(a){g.screens.ScreenBase.prototype.update.call(this,
a);this._tryPreload();this._tryInitialLoad();this._tryLoadComplete()},_tryLoadComplete:function(){var a=this;if(!this._loadComplete&&!(!1==d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_PRELOAD_LOADED)||!1==d.WorkinCloud.get_instance().get_assets().isPackLoaded("fonts_"+d.WorkinCloud.get_instance().getString(F.ConstantsCloud.STRING_REGION_ID))||!1==d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_INITIAL_LOADED))){this.addElement(new g.buttons.ButtonSoundToggle(50,e.ConstantsApp.STAGE_HEIGHT-
50,this._tween,0.5,0.5,["button_vol_on"],["button_vol_off"]));this._loadWidget.tweenOut();var b=this.addElement(new g.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH-128,e.ConstantsApp.STAGE_HEIGHT-64,this._tween,0.5,0.5,"ui_btn_hitbox"));b.addElement(new k.TextLocalized(0,0,"play_btn",null,{originX:0.5,originY:0.5}));b.get_dispatcher().addEventListener(g.buttons.ButtonBase.CLICK,function(){a._closing=!0;a._doFlowEvent(e.ConstantsScreen.FLOW_SPLASH_PLAY)});f.tween.WorkinTweenUtils.easeBounceIn(b,this._tween);
this._tryRemoveLoader();this._loadComplete=!0}},_tryRemoveLoader:function(){null==this._loadWidget||this._loadWidget.get_active()},_tryAddLoader:function(){null!=this._loadWidget||0<d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_GAME_CLASS)||(this._loadWidget=this.addElement(new g.display.DisplayLoadingProgress(e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_HEIGHT-75,this._tween)),this._loadWidget.tweenIn())},_tryInitialLoad:function(){if(!this._loadComplete&&!(this._initialAdded||!1==
d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_INITIAL_LOADED)))this._tryAddLoader(),this._initialAdded=!0},_tryPreload:function(){if(!this._preloadAdded&&!(!1==d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_PRELOAD_LOADED)||!1==d.WorkinCloud.get_instance().get_assets().isPackLoaded("fonts_"+d.WorkinCloud.get_instance().getString(F.ConstantsCloud.STRING_REGION_ID))))this._preloadAdded=!0,this._loadComplete||this._tryAddLoader()},dispose:function(){this._clickTray=this._loadWidget=
this._buttonSound=null;g.screens.ScreenBase.prototype.dispose.call(this)},__class__:g.screens.ScreenSplash});g.screens.data={};g.screens.data.ChangeActionData=function(a,b,c){this._screenId=a;this._changeEvent=b;this._action=c};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.data.ChangeActionData"]=g.screens.data.ChangeActionData;g.screens.data.ChangeActionData.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,data,ChangeActionData".split(",");g.screens.data.ChangeActionData.prototype=
{get_action:function(){return this._action},get_changeEvent:function(){return this._changeEvent},get_screenId:function(){return this._screenId},__class__:g.screens.data.ChangeActionData};g.screens.data.ScreenData=function(a,b,c,i,d){null==i&&(i=0);null==c&&(c="");this.id=a;this.screenClass=b;this.assetClassName=c;this.layer=i;this.data=null==d?new w.StringMap:d};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.data.ScreenData"]=g.screens.data.ScreenData;g.screens.data.ScreenData.__name__=
"com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,data,ScreenData".split(",");g.screens.data.ScreenData.prototype={__class__:g.screens.data.ScreenData};g.screens.data.ScreenQueueData=function(a,b,c){null==c&&(c="");this.screenData=a;this.openCondition=b;this.openTestString=c};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.data.ScreenQueueData"]=g.screens.data.ScreenQueueData;g.screens.data.ScreenQueueData.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,data,ScreenQueueData".split(",");
g.screens.data.ScreenQueueData.prototype={validateCondition:function(a,b){null==b&&(b="");return this.openCondition==a?""==this.openTestString||this.openTestString==b:!1},__class__:g.screens.data.ScreenQueueData};g.screens.data.ScreenStateData=function(a,b,c,i,d,e){this.id=a;this.animation=b;this.actionOnComplete=c;this.actionData=i;this.inFunc=d;this.outFunc=e};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.data.ScreenStateData"]=g.screens.data.ScreenStateData;g.screens.data.ScreenStateData.__name__=
"com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,data,ScreenStateData".split(",");g.screens.data.ScreenStateData.prototype={__class__:g.screens.data.ScreenStateData};g.screens.minigames={};g.screens.minigames.PongCollisionItem=function(a){k.Element.call(this,a);this._flagBall=!1;null!=a.vel&&(this._flagBall=!0);this._height=a.height;this._width=a.width;this._prevPos=this._pos.copy();this._nextPos=this._pos.copy();this._bounceCount=0;this._motionLine=f.WorkinLine.request(this._pos.x,this._pos.y,
this._nextPos.x,this._nextPos.y);this._hasNewVelocity=!1;this._radius=this._DEFAULT_RADIUS()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.minigames.PongCollisionItem"]=g.screens.minigames.PongCollisionItem;g.screens.minigames.PongCollisionItem.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,minigames,PongCollisionItem".split(",");g.screens.minigames.PongCollisionItem.__super__=k.Element;g.screens.minigames.PongCollisionItem.prototype=v(k.Element.prototype,{_calculateMotion:function(){this._motionLine.to(this._pos,
this._nextPos)},updatePositionFromVelocity:function(a){this._nextPos.x+=this._velocity.x*a;this._nextPos.y+=this._velocity.y*a;this._calculateMotion();this._prevPos.x=this._pos.x;this._prevPos.y=this._pos.y;this._pos.x=this._nextPos.x;this._pos.y=this._nextPos.y},runPointCollisionTest:function(a,b){return b>this._pos.y-this.get_height()/2&&b<=this._pos.y?a>this._pos.x-this.get_width()/2&&a<this._pos.x+this.get_width()/2:!1},onCollidePlayer:function(a){this._bounceCount++;this._velocity.rotateTo(75*
((this.get_pos().x-a.get_pos().x)/(a.get_renderable().width/2))-90)},update:function(a){this._hasNewVelocity&&(this._velocity.x=this._nextVelocity.x,this._velocity.y=this._nextVelocity.y,this._hasNewVelocity=!1);this._flagBall?this.updatePositionFromVelocity(a):(0>this._pos.x-this.get_width()/2&&(this._pos.x=this.get_width()/2),960<this._pos.x+this.get_width()/2&&(this._pos.x=960-this.get_width()/2));k.Element.prototype.update.call(this,a)},_DEFAULT_RADIUS:function(){return 16},get_width:function(){return this._width},
get_height:function(){return this._height},dispose:function(){k.Element.prototype.dispose.call(this);this._motionLine=this._nextVelocity=this._nextPos=this._prevPos=null},__class__:g.screens.minigames.PongCollisionItem});g.screens.minigames.PongBall=function(a){g.screens.minigames.PongCollisionItem.call(this,a);this._minX=null!=a.minX?a.minX:0;this._minY=null!=a.minY?a.minY:0;this._maxX=null!=a.maxX?a.maxX:960;this._maxY=null!=a.maxY?a.maxY:560;null!=a.player&&(this._playerReference=a.player);this._originalBall=
null!=a.originalBall?a.originalBall:!1;this._originalBall||(this._glitchTimer=0.3);null!=a.vel&&(this._velocity.to(a.vel,0),this._velocity.rotateTo(90*-Math.random()-45),!0==a.downwards&&this._velocity.reverse());this._gravity=0};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.minigames.PongBall"]=g.screens.minigames.PongBall;g.screens.minigames.PongBall.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,minigames,PongBall".split(",");g.screens.minigames.PongBall.__super__=
g.screens.minigames.PongCollisionItem;g.screens.minigames.PongBall.prototype=v(g.screens.minigames.PongCollisionItem.prototype,{_randomVelocity:function(){var a=d.WorkinCloud.get_instance().get_random().getRandomInt(-350,350),b=d.WorkinCloud.get_instance().get_random().getRandomInt(-350,-250);this._velocity.x=a;this._velocity.y=b},update:function(a){g.screens.minigames.PongCollisionItem.prototype.update.call(this,a);0<this._glitchTimer&&(this._glitchTimer-=a,this.setRenderOffset(d.WorkinCloud.get_instance().get_random().getRandomFloat(10*
-this._glitchTimer,10*this._glitchTimer),d.WorkinCloud.get_instance().get_random().getRandomFloat(10*-this._glitchTimer,10*this._glitchTimer)),0>=this._glitchTimer&&this.setRenderOffset(0,0));0<this._timerFreeze&&(this._timerFreeze-=a,0>=this._timerFreeze&&(this._randomVelocity(),this._timerFreeze=0));this._nextPos.x>this._maxX?(this._nextPos.x=this._maxX,0<this._velocity.x&&(this._velocity.x*=-1)):this._nextPos.x<this._minX&&(this._nextPos.x=this._minX,0>this._velocity.x&&(this._velocity.x*=-1));
this._nextPos.y<this._minY?(this._nextPos.y=this._minY,0>this._velocity.y&&(this._velocity.y*=-1)):this._nextPos.y>this._maxY&&this.set_doDelete(!0);this._render.rotation+=this._velocity.x/5*a},dispose:function(){g.screens.minigames.PongCollisionItem.prototype.dispose.call(this);this._playerReference=null},__class__:g.screens.minigames.PongBall});g.screens.minigames.ProtectBurger=function(a){k.Element.call(this,a);this._hitBoxOffset=f.WorkinPoint.request(a.hitOffsetX,a.hitOffsetY);this.hitBox=f.WMRectangle.request(this.get_pos().x+
this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y,a.width,a.height);this._goalPoint=this.motherPoint=this.get_pos().copy();this._orbital=0};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.minigames.ProtectBurger"]=g.screens.minigames.ProtectBurger;g.screens.minigames.ProtectBurger.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,minigames,ProtectBurger".split(",");g.screens.minigames.ProtectBurger.__super__=k.Element;g.screens.minigames.ProtectBurger.prototype=
v(k.Element.prototype,{dispose:function(){k.Element.prototype.dispose.call(this);this._goalPoint.dispose();this._hitBoxOffset.dispose();this.hitBox.dispose()},_updateHitbox:function(){this.hitBox.toXY(this.get_pos().x+this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y)},update:function(a){k.Element.prototype.update.call(this,a);this._orbital+=a;this.motherPoint.to(e.ConstantsApp.STAGE_CENTER_X+Math.sin(this._orbital)*g.screens.minigames.ProtectBurger._ORBIT_RADIUS,e.ConstantsApp.STAGE_CENTER_Y+
Math.cos(this._orbital)*g.screens.minigames.ProtectBurger._ORBIT_RADIUS);this._pos.toPoint(this._goalPoint.addPointCopy(this._pos));this._pos.divide(2);this._updateHitbox(a)},set_goalPoint:function(a){return this._goalPoint=a},get_goalPoint:function(){return this._goalPoint},__class__:g.screens.minigames.ProtectBurger});g.screens.minigames.STATE=m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.minigames.STATE"]={__ename__:"com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,minigames,STATE".split(","),
__constructs__:["_STATE_IDLE","_STATE_ATTACK","_STATE_FALL","_STATE_FLEE"]};g.screens.minigames.STATE._STATE_IDLE=["_STATE_IDLE",0];g.screens.minigames.STATE._STATE_IDLE.toString=n;g.screens.minigames.STATE._STATE_IDLE.__enum__=g.screens.minigames.STATE;g.screens.minigames.STATE._STATE_ATTACK=["_STATE_ATTACK",1];g.screens.minigames.STATE._STATE_ATTACK.toString=n;g.screens.minigames.STATE._STATE_ATTACK.__enum__=g.screens.minigames.STATE;g.screens.minigames.STATE._STATE_FALL=["_STATE_FALL",2];g.screens.minigames.STATE._STATE_FALL.toString=
n;g.screens.minigames.STATE._STATE_FALL.__enum__=g.screens.minigames.STATE;g.screens.minigames.STATE._STATE_FLEE=["_STATE_FLEE",3];g.screens.minigames.STATE._STATE_FLEE.toString=n;g.screens.minigames.STATE._STATE_FLEE.__enum__=g.screens.minigames.STATE;g.screens.minigames.ProtectPlankton=function(a){k.Element.call(this,a);this._goalPoint=f.WorkinPoint.request();this._hitBoxOffset=f.WorkinPoint.request(a.hitOffsetX,a.hitOffsetY);this.hitBox=f.WMRectangle.request(this.get_pos().x+this._hitBoxOffset.x,
this.get_pos().y+this._hitBoxOffset.y,a.width,a.height);this._baseWidth=a.width;this._baseHeight=a.height;this._scale=1;this._dodgeTimer=this._wobbleSin=0;this._dodgeConsumed=this._dodging=!1;this.setState(g.screens.minigames.STATE._STATE_IDLE)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.minigames.ProtectPlankton"]=g.screens.minigames.ProtectPlankton;g.screens.minigames.ProtectPlankton.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,minigames,ProtectPlankton".split(",");
g.screens.minigames.ProtectPlankton.__super__=k.Element;g.screens.minigames.ProtectPlankton.prototype=v(k.Element.prototype,{dispose:function(){k.Element.prototype.dispose.call(this);this._goalPoint.dispose();this._hitBoxOffset.dispose();this.hitBox.dispose()},changeScale:function(a){this._scale=a;this._render.scaleX=this._render.scaleY=this._scale;this.hitBox.toWH(this._baseWidth*this._scale,this._baseHeight*this._scale)},_updateHitbox:function(){this.hitBox.toXY(this.get_pos().x+this._hitBoxOffset.x*
this._scale,this.get_pos().y+this._hitBoxOffset.y*this._scale)},_wobbl:function(a){this._wobbleSin+=a*this._speed/10;this._render.rotation=10*Math.sin(this._wobbleSin)},update:function(a){k.Element.prototype.update.call(this,a);0<this._velocity.x?this._render.scaleX=this._scale:0>this._velocity.x&&(this._render.scaleX=-this._scale);switch(this._state[1]){case 1:0>this._pos.x&&(this._pos.x=0);960<this._pos.x&&(this._pos.x=960);0>this._pos.y&&(this._pos.y=0);560<this._pos.y&&(this._pos.y=560);null!=
this._target&&!this._dodging&&this._goalPoint.toPoint(this._target.get_pos());this.get_velocity().toPoint(this._goalPoint.subtractPointCopy(this._pos));this.get_velocity().normalizeTo(this._speed);200>Math.abs(this.get_pos().subtractPointCopy(this._goalPoint).get_length())&&!this._dodgeConsumed&&0.8<Math.random()&&(this._dodgeConsumed=this._dodging=!0,this._dodgeTimer=0.33,this._goalPoint.to(d.WorkinCloud.get_instance().get_random().getRandomFloat(0,960),d.WorkinCloud.get_instance().get_random().getRandomFloat(0,
560)));this._dodging&&(this._dodgeTimer-=a,0>=this._dodgeTimer&&(this._dodging=!1));this._wobbl(a);break;case 2:this._velocity.y+=500*a;this._render.rotation+=180*a;560<this.get_pos().y&&this.reset();break;case 3:if(this.get_velocity().toPoint(this._pos.subtractPointCopy(this._goalPoint)),this.get_velocity().normalizeTo(this._speed),this._wobbl(a),0>this.get_pos().x||960<this.get_pos().x)(0>this.get_pos().y||560<this.get_pos().y)&&this.reset()}this._updateHitbox(a)},reset:function(){this.setState(g.screens.minigames.STATE._STATE_IDLE);
this._pos.to(-125,-125);this._velocity.to(0,0);this._render.rotation=0},flee:function(){this.setState(g.screens.minigames.STATE._STATE_FLEE);var a=f.WorkinPoint.request(480);a.rotate(360*Math.random());this._goalPoint.toPoint(a);null},strike:function(a,b){this.setState(g.screens.minigames.STATE._STATE_ATTACK);var c=f.WorkinPoint.request(480);c.rotate(360*Math.random());c.add(480,280);this.get_pos().toPoint(c);this._target=b;this._speed=33*(a+1)+5*Math.random()-2;this._dodgeConsumed=this._dodging=
!1;this._dodgeTimer=0;null},getIsActive:function(){return this._state==g.screens.minigames.STATE._STATE_ATTACK||this._state==g.screens.minigames.STATE._STATE_FLEE},getState:function(){return this._state},setState:function(a){this._state=a;this._state==g.screens.minigames.STATE._STATE_IDLE&&(this._velocity.to(0,0),this._goalPoint.to(0,0))},__class__:g.screens.minigames.ProtectPlankton});g.screens.minigames.ProtectSpatula=function(a){k.Element.call(this,a);this._hitBoxOffset=f.WorkinPoint.request(a.hitOffsetX,
a.hitOffsetY);this.hitBox=f.WMRectangle.request(this.get_pos().x+this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y,a.width,a.height);this._goalPoint=this.get_pos().copy()};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.minigames.ProtectSpatula"]=g.screens.minigames.ProtectSpatula;g.screens.minigames.ProtectSpatula.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,minigames,ProtectSpatula".split(",");g.screens.minigames.ProtectSpatula.__super__=k.Element;g.screens.minigames.ProtectSpatula.prototype=
v(k.Element.prototype,{dispose:function(){k.Element.prototype.dispose.call(this);this._goalPoint.dispose();this._hitBoxOffset.dispose();this.hitBox.dispose()},_updateHitbox:function(){this.hitBox.toXY(this.get_pos().x+this._hitBoxOffset.x,this.get_pos().y+this._hitBoxOffset.y)},update:function(a){k.Element.prototype.update.call(this,a);1>this._render.scaleY&&(this._render.scaleY+=2*a,1<this._render.scaleY&&(this._render.scaleY=1));0!=this._offsetY&&(this._offsetY/=1.3);0!=this._offsetX&&(this._offsetX/=
1.3);0!=this._render.rotation&&(this._render.rotation/=1.3);this._updateHitbox(a)},__class__:g.screens.minigames.ProtectSpatula});g.screens.minigames.Roulette=function(a){this._currentAsset=a.rouletteNumber;a.asset=this.getAsset();k.Element.call(this,a);this.difficulty=1;this._lose=this._win=this._spinConsumed=this._flagStopSpin=!1;this._rouletteNumber=t["int"](a.rouletteNumber);this._timerRoulette=this._rouletteSpeed();this._basePos=this._pos.copy();this._nextGlyph=this.addElement(new k.Element({y:-200,
asset:this.getAsset(1),originX:0.5,originY:0.5}));this._rootSprite.scissor=new J.Rectangle(-400,-90,800,180)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.screens.minigames.Roulette"]=g.screens.minigames.Roulette;g.screens.minigames.Roulette.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,screens,minigames,Roulette".split(",");g.screens.minigames.Roulette.__super__=k.Element;g.screens.minigames.Roulette.prototype=v(k.Element.prototype,{update:function(a){k.Element.prototype.update.call(this,
a);this._flagStopSpin&&(this._timerRoulette=0,1>this._render.scaleX&&(this._render.scaleX=this._render.scaleY+=0.01),this._win?this._render.scaleX=this._render.scaleY+=0.01:this._lose&&(this._render.rotation+=1.5*this._velocity.x*a,this._velocity.y+=400*a));0<this._timerRoulette&&(this._timerRoulette-=a,this._flagStopSpin||(this._progressRatio=(this._rouletteSpeed()-this._timerRoulette)/this._rouletteSpeed(),this._textureSprite.y.set__(this._nextGlyph._textureSprite.y.set__(200*this._progressRatio)),
0.5<this._progressRatio&&!this._spinConsumed&&(this._currentAsset++,this._currentAsset=d.WorkinUtils.clamp(this._currentAsset,0,3,!0)|0,this._spinConsumed=!0),0>=this._timerRoulette&&(this._rouletteSpin(),this._timerRoulette=this._rouletteSpeed())))},win:function(){this._velocity.to(0,-3);this._win=!0},lose:function(){this._flagStopSpin=!0;this._velocity.to(d.WorkinCloud.get_instance().get_random().getRandomFloat(-150,150),-100);this._lose=!0},startRoulette:function(){this._lose=this._win=this._flagStopSpin=
!1;this._pos.toPoint(this._basePos);this._velocity.to(0,0);this._render.scaleX=this._render.scaleY=1;this._render.rotation=0;this._timerRoulette=this._rouletteSpeed()},stopRoulette:function(){this._textureSprite.y.set__(this._nextGlyph._textureSprite.y.set__(-50));this.setTextureAsset(this.getAsset());this._render.scaleX=this._render.scaleY=0.9;this._flagStopSpin=!0},_rouletteSpeed:function(){return 0.33-0.02*this.difficulty},_rouletteSpin:function(){this._spinConsumed=!1;this.setTextureAsset(this.getAsset());
this._nextGlyph.setTextureAsset(this.getAsset(1));this._textureSprite.y.set__(this._nextGlyph._textureSprite.y.set__(0))},set_rouletteAssetNumber:function(a){return this._currentAsset=a},get_rouletteAssetNumber:function(){return this._currentAsset},getAsset:function(a){null==a&&(a=0);var b="",a=this._currentAsset+a,a=d.WorkinUtils.clamp(a,0,3,!0)|0;switch(a){case 0:b="club";break;case 1:b="diamond";break;case 2:b="heart";break;case 3:b="spade"}return b},get_flagStopSpin:function(){return this._flagStopSpin},
__class__:g.screens.minigames.Roulette});g.transitions={};g.transitions._TransitionBase={};g.transitions._TransitionBase.TransitionState=m["com.nick.spongeBob.bubble_blast_flambe_october.ui.transitions._TransitionBase.TransitionState"]={__ename__:"com,nick,spongeBob,bubble_blast_flambe_october,ui,transitions,_TransitionBase,TransitionState".split(","),__constructs__:["_STATE_HIDDEN","_STATE_IN","_STATE_IDLE","_STATE_OUT"]};g.transitions._TransitionBase.TransitionState._STATE_HIDDEN=["_STATE_HIDDEN",
0];g.transitions._TransitionBase.TransitionState._STATE_HIDDEN.toString=n;g.transitions._TransitionBase.TransitionState._STATE_HIDDEN.__enum__=g.transitions._TransitionBase.TransitionState;g.transitions._TransitionBase.TransitionState._STATE_IN=["_STATE_IN",1];g.transitions._TransitionBase.TransitionState._STATE_IN.toString=n;g.transitions._TransitionBase.TransitionState._STATE_IN.__enum__=g.transitions._TransitionBase.TransitionState;g.transitions._TransitionBase.TransitionState._STATE_IDLE=["_STATE_IDLE",
2];g.transitions._TransitionBase.TransitionState._STATE_IDLE.toString=n;g.transitions._TransitionBase.TransitionState._STATE_IDLE.__enum__=g.transitions._TransitionBase.TransitionState;g.transitions._TransitionBase.TransitionState._STATE_OUT=["_STATE_OUT",3];g.transitions._TransitionBase.TransitionState._STATE_OUT.toString=n;g.transitions._TransitionBase.TransitionState._STATE_OUT.__enum__=g.transitions._TransitionBase.TransitionState;g.transitions.TransitionBase=function(a,b,c,i){null==i&&(i="");
null==c&&(c=!1);null==b&&(b=!0);this._transitionId=i;this._flagOutOnly=c;this.flagDispose=!1;this._dispatcher=o.WMEventDispatcher.request();k.Element.call(this,{asset:a});b?this._setState(g.transitions._TransitionBase.TransitionState._STATE_HIDDEN):this._flagOutOnly?this._setState(g.transitions._TransitionBase.TransitionState._STATE_OUT):this._setState(g.transitions._TransitionBase.TransitionState._STATE_IN)};m["com.nick.spongeBob.bubble_blast_flambe_october.ui.transitions.TransitionBase"]=g.transitions.TransitionBase;
g.transitions.TransitionBase.__name__="com,nick,spongeBob,bubble_blast_flambe_october,ui,transitions,TransitionBase".split(",");g.transitions.TransitionBase.__super__=k.Element;g.transitions.TransitionBase.prototype=v(k.Element.prototype,{_setState:function(a){this._state=a;switch(this._state[1]){case 0:this.hide()}},show:function(){this._mc.set_visible(!0)},hide:function(){this._mc.set_visible(!1)},start:function(){this.show();this._setState(g.transitions._TransitionBase.TransitionState._STATE_IN)},
update:function(a){k.Element.prototype.update.call(this,a)},get_isOutro:function(){return this._state==g.transitions._TransitionBase.TransitionState._STATE_OUT},get_dispatcher:function(){return this._dispatcher},dispose:function(){this._state=null;k.Element.prototype.dispose.call(this);this._dispatcher.dispose();this._mc=this._dispatcher=null},__class__:g.transitions.TransitionBase});E={_World:{}};E._World.WORLD_STATE=m["com.nick.spongeBob.bubble_blast_flambe_october.world._World.WORLD_STATE"]={__ename__:"com,nick,spongeBob,bubble_blast_flambe_october,world,_World,WORLD_STATE".split(","),
__constructs__:["_STATE_INITIALIZING","_STATE_GAMEPLAY","_STATE_WAITING","_STATE_GAMEOVER"]};E._World.WORLD_STATE._STATE_INITIALIZING=["_STATE_INITIALIZING",0];E._World.WORLD_STATE._STATE_INITIALIZING.toString=n;E._World.WORLD_STATE._STATE_INITIALIZING.__enum__=E._World.WORLD_STATE;E._World.WORLD_STATE._STATE_GAMEPLAY=["_STATE_GAMEPLAY",1];E._World.WORLD_STATE._STATE_GAMEPLAY.toString=n;E._World.WORLD_STATE._STATE_GAMEPLAY.__enum__=E._World.WORLD_STATE;E._World.WORLD_STATE._STATE_WAITING=["_STATE_WAITING",
2];E._World.WORLD_STATE._STATE_WAITING.toString=n;E._World.WORLD_STATE._STATE_WAITING.__enum__=E._World.WORLD_STATE;E._World.WORLD_STATE._STATE_GAMEOVER=["_STATE_GAMEOVER",3];E._World.WORLD_STATE._STATE_GAMEOVER.toString=n;E._World.WORLD_STATE._STATE_GAMEOVER.__enum__=E._World.WORLD_STATE;E.World=function(a){this._rockVertOffset=this._rocksFloatIndex=this._dwellerIndex=0;this._rockVertSpacing=300;this._dwellerSpawnInterval=7.5;this._playerCharacterDead=!1;this._timeUntilNextDweller=1;this._timeUntilNextFloatRock=
2;this._scrollSpeed=400;this._gameOverTimer=this._scoreTimer=this._levelTimer=0;this._thrustersOn=!1;this._playerCharacterRight=this._playerCharacterLeft=this._playerCharacterTop=this._playerCharacterBot=0;this._bubblePopup=this._levelUpMsg=this._backGround=this._middleGround=this._rockTopImages=this._rockBotImages=this._rocksTopTray=this._rocksBotTray=this._rocksTop=this._rocksBot=this._rocksFloat=this._caveDwellers=this._lastRockTop=this._lastRockBot=this._rockTopScreen=this._rockBotScreen=this._playerCharacter=
this._playerParticles=null;this._dispatcher=o.WMEventDispatcher.request();this._timeline=a;d.WorkinCloud.get_instance().get_pool().tracePoolReport();this._elementManager=new k.ElementManager(this._timeline,e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_CENTER_Y);this._elementManager.addLayer(e.ConstantsApp.LAYER_WORLD,!0);this._elementManager.addLayer(e.ConstantsApp.LAYER_BG,!0);this._elementManager.addLayer(e.ConstantsApp.LAYER_MG,!0);this._elementManager.addLayer(e.ConstantsApp.LAYER_PLAYER,
!0);this._elementManager.addLayer(e.ConstantsApp.LAYER_OVER,!0);this._elementManager.addLayer(e.ConstantsApp.LAYER_FG,!0);this._elementManager.addLayer(e.ConstantsApp.LAYER_UI,!0);this._addEventListeners();d.WorkinCloud.get_instance().stack([u(this,this._initPools),u(this,this._initWorld),u(this,this._onGenerationComplete)]);this._setState(E._World.WORLD_STATE._STATE_INITIALIZING)};m["com.nick.spongeBob.bubble_blast_flambe_october.world.World"]=E.World;E.World.__name__="com,nick,spongeBob,bubble_blast_flambe_october,world,World".split(",");
E.World.get_tweener=function(){null==E.World.__tween&&(E.World.__tween=f.tween.WorkinTweener.request());return E.World.__tween};E.World.prototype={_onGenerationComplete:function(){d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(e.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE));d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LEVEL,1);d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_SCORE,0)},_initWorld:function(){this._backGround=this._elementManager.addElement(new k.Element({layer:e.ConstantsApp.LAYER_BG,
originX:0.5}));this._backGround.addElement(new k.Element({asset:"ui_bg",originX:1}));this._backGround.addElement(new k.Element({asset:"ui_bg",originX:0}));this._middleGround=this._elementManager.addElement(new k.Element({layer:e.ConstantsApp.LAYER_MG,originX:0.5}));this._middleGround.addElement(new k.Element({asset:"gameplay_mg_top",originX:1}));this._middleGround.addElement(new k.Element({asset:"gameplay_mg_top",originX:0}));this._middleGround.addElement(new k.Element({asset:"gameplay_mg_bottom",
y:e.ConstantsApp.STAGE_HEIGHT,originY:1,originX:1}));this._middleGround.addElement(new k.Element({asset:"gameplay_mg_bottom",y:e.ConstantsApp.STAGE_HEIGHT,originY:1,originX:0}));this._levelUpMsg=this._elementManager.addElement(new k.Element({originX:0.5,originY:0.5,layer:e.ConstantsApp.LAYER_PLAYER}));this._levelUpMsg.addElement(new g.display.DisplayLevel(0,0,E.World.__tween));this._levelUpMsg.get_renderable().scaleX=0.5;this._levelUpMsg.get_renderable().scaleY=0.5;this._levelUpMsg.get_renderable().visible=
!1;this._playerCharacter=this._elementManager.addElement(new k.AnimatedElement({asset:"p_fall_03",originX:0.5,originY:0.5,x:200,y:e.ConstantsApp.STAGE_CENTER_Y+40,layer:e.ConstantsApp.LAYER_PLAYER}));this._playerCharacter.addAnimationFrames("anim_patrick_fall",e.ConstantsAssets.getAnimationFrames("anim_patrick_fall"));this._playerCharacter.addAnimationFrames("anim_patrick_hit",e.ConstantsAssets.getAnimationFrames("anim_patrick_hit"));this._playerCharacter.addAnimationFrames("anim_patrick_die",e.ConstantsAssets.getAnimationFrames("anim_patrick_die"));
this._playerParticles=this._elementManager.addElement(new E.elements.ParticleEmitter({asset:"gameplay_particle",originX:0.5,originY:0.5,x:this._playerCharacter.get_pos().x-this._playerCharacter.get_renderable().width*this._playerCharacter.get_originX(),y:this._playerCharacter.get_pos().y,scale:1.25,layer:e.ConstantsApp.LAYER_PLAYER},E.World.__tween));this._rockTopImages=[];this._rockTopImages.push("gameplay_rock_top_1");this._rockTopImages.push("gameplay_rock_top_2");this._rockTopImages.push("gameplay_rock_top_3");
this._rockTopImages.push("gameplay_rock_top_4");this._rockBotImages=[];this._rockBotImages.push("gameplay_rock_bottom_1");this._rockBotImages.push("gameplay_rock_bottom_2");this._rocksTop=[];this._rocksBot=[];this._rocksFloat=[];this._rocksTopTray=this._elementManager.addElement(new k.Element({layer:e.ConstantsApp.LAYER_PLAYER}));this._rocksBotTray=this._elementManager.addElement(new k.Element({layer:e.ConstantsApp.LAYER_PLAYER}));for(var a=0;8>a;){var b=a++;this._rocksTop.push(this._rocksTopTray.addElement(new k.Element({x:0,
y:0,originX:0.5})));null==this._lastRockTop&&(this._lastRockTop=this._rocksTop[b]);this._recycleRock(this._rocksTop[b],!0,!0);this._rocksBot.push(this._rocksBotTray.addElement(new k.Element({x:0,y:0,originX:0.5})));null==this._lastRockBot&&(this._lastRockBot=this._rocksBot[b]);this._recycleRock(this._rocksBot[b],!1,!0);this._rocksFloat.push(this._elementManager.addElement(new k.Element({asset:"gameplay_rock_floating",x:-100,y:-100,originX:0.5,originY:0.5,layer:e.ConstantsApp.LAYER_PLAYER})))}this._caveDwellers=
[];for(a=0;5>a;)b=a++,this._caveDwellers.push(this._elementManager.addElement(new k.AnimatedElement({originX:0.5,originY:1,scaleX:-0.75,scaleY:0.75,layer:e.ConstantsApp.LAYER_PLAYER}))),this._caveDwellers[b].addAnimationFrames("anim_dweller_top",e.ConstantsAssets.getAnimationFrames("anim_dweller_top")),this._caveDwellers[b].addAnimationFrames("anim_dweller_bot",e.ConstantsAssets.getAnimationFrames("anim_dweller_bot")),this._caveDwellers[b].addAnimationFrames("anim_dweller_top_idle",e.ConstantsAssets.getAnimationFrames("anim_dweller_top_idle")),
this._caveDwellers[b].addAnimationFrames("anim_dweller_bot_idle",e.ConstantsAssets.getAnimationFrames("anim_dweller_bot_idle")),this._caveDwellers[b].set_fps(10);this._bubblePopup=this._elementManager.addElement(new k.Element({asset:"gameplay_bubble_popup",originX:0.5,originY:0.5,x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y,layer:e.ConstantsApp.LAYER_PLAYER}));this._bubblePopup.get_renderable().visible=!1;a=d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_TOUCH_DEVICE)?
"popup_message_t":"popup_message";this._bubblePopup.addElement(new k.TextLocalized(0,0,a,null,{originX:0.5,originY:0.5,just:k.TEXT_JUSTIFICATION.JUST_CENTER}))},_onEventInitPoolComplete:function(){d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(k.PoolManager.ALL_POOLS_FULL,u(this,this._onEventInitPoolComplete));d.WorkinCloud.get_instance().unpauseStack()},_initPools:function(){d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_LOADING_PROGRESS,100);d.WorkinCloud.get_instance().pauseStack();
d.WorkinCloud.get_instance().get_dispatcher().addEventListener(k.PoolManager.ALL_POOLS_FULL,u(this,this._onEventInitPoolComplete));this._poolManager=new k.PoolManager},_onMouseUp:function(){this._setThrusters(!1)},_onMouseDown:function(){this._setThrusters(!0);this._state==E._World.WORLD_STATE._STATE_WAITING&&(this._setBubblePopupOpen(!1),this._setState(E._World.WORLD_STATE._STATE_GAMEPLAY))},handleInput:function(a){if(!d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_PAUSED)&&!(this._state==
E._World.WORLD_STATE._STATE_INITIALIZING||this._state==E._World.WORLD_STATE._STATE_GAMEOVER)&&a.input==e.ConstantsApp.INPUT_CLICK)switch(a.phase){case o.WMEventInput.PHASE_DOWN:this._onMouseDown(a);break;case o.WMEventInput.PHASE_UP:this._onMouseUp(a)}},_unpause:function(){d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_PAUSED,!1)},_pause:function(){d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_PAUSED,!0);this._setState(E._World.WORLD_STATE._STATE_WAITING)},_onUnpause:function(){this._unpause()},
_onPause:function(){this._pause()},_removeEventListeners:function(){d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(e.ConstantsApp.EVENT_PAUSE,u(this,this._onPause));d.WorkinCloud.get_instance().get_dispatcher().removeEventListener(e.ConstantsApp.EVENT_UNPAUSE,u(this,this._onUnpause))},_addEventListeners:function(){d.WorkinCloud.get_instance().get_dispatcher().addEventListener(e.ConstantsApp.EVENT_PAUSE,u(this,this._onPause));d.WorkinCloud.get_instance().get_dispatcher().addEventListener(e.ConstantsApp.EVENT_UNPAUSE,
u(this,this._onUnpause))},render:function(){this._elementManager.renderElements()},_playSound:function(a){d.WorkinCloud.get_instance().get_sound().playSound(a)},_setBubblePopupOpen:function(a){var b=this;if(a)this._bubblePopup.get_renderable().visible=!0,f.tween.WorkinTweenUtils.easeBounceIn(this._bubblePopup,E.World.__tween);else f.tween.WorkinTweenUtils.easeBounceOut(this._bubblePopup,E.World.__tween).onComplete(function(){b._bubblePopup.get_renderable().visible=!1})},_updateFarthestRightRocksOnScreen:function(){this._rockTopScreen=
this._lastRockTop;for(var a=0,b=this._rocksTop;a<b.length;){var c=b[a];++a;!(c.get_pos().x<e.ConstantsApp.STAGE_WIDTH)&&c.get_pos().x-e.ConstantsApp.STAGE_WIDTH<this._rockTopScreen.get_pos().x-e.ConstantsApp.STAGE_WIDTH&&(this._rockTopScreen=c)}this._rockBotScreen=this._lastRockBot;a=0;for(b=this._rocksBot;a<b.length;)c=b[a],++a,!(c.get_pos().x<e.ConstantsApp.STAGE_WIDTH)&&c.get_pos().x-e.ConstantsApp.STAGE_WIDTH<this._rockBotScreen.get_pos().x-e.ConstantsApp.STAGE_WIDTH&&(this._rockBotScreen=c)},
_getCenterY:function(a){null==a&&(a=!1);return a?(this._rockTopScreen.get_pos().y+this._rockBotScreen.get_pos().y)/2:this._lastRockTop.get_pos().y+(this._lastRockBot.get_pos().y-this._lastRockTop.get_pos().y)/2},_getCenterX:function(a){null==a&&(a=!1);return a?(this._rockTopScreen.get_pos().x+this._rockBotScreen.get_pos().x)/2:(this._lastRockTop.get_pos().x+this._lastRockBot.get_pos().x)/2},_nextLevel:function(){d.WorkinCloud.get_instance().modifyInt(e.ConstantsApp.INT_LEVEL,1);this._rockVertSpacing-=
5;100>this._rockVertSpacing&&(this._rockVertSpacing=100);this._scrollSpeed+=10;this._dwellerSpawnInterval-=0.25;2>this._dwellerSpawnInterval&&(this._dwellerSpawnInterval=2);this._levelUpMsg.get_renderable().visible=!0;this._updateFarthestRightRocksOnScreen();this._levelUpMsg.get_pos().x=this._getCenterX(!0);this._levelUpMsg.get_pos().y=this._getCenterY(!0);for(var a=0,b=this._rocksFloat;a<b.length;){var c=b[a];++a;if(!(80<Math.abs(this._levelUpMsg.get_pos().x-c.get_pos().x))){c.get_pos().x=-e.ConstantsApp.STAGE_WIDTH;
break}}this._playSound("level_up")},_gameOver:function(){d.WorkinCloud.get_instance().setBool(e.ConstantsApp.BOOL_GAME_WIN,!0)},_killPlayerCharacter:function(){var a=this;this._setThrusters(!1);this._playerCharacter.animate("anim_patrick_hit");R.delay(function(){a._playerCharacterDead=!0;a._playerCharacter.get_velocity().x=300;a._playerCharacter.get_velocity().y=800;a._playerCharacter.animate("anim_patrick_die");E.World.__tween.tween(a._playerCharacter.get_renderable(),0.25,{scaleX:1.25,scaleY:1.25},
!0)},400);this._playSound("impact_1")},_setThrusters:function(a){this._playerCharacter.get_velocity().y=0;(this._thrustersOn=a)?(E.World.__tween.tween(this._playerCharacter.get_renderable(),0.2,{rotation:-10},!0,f.tween.Ease.EASE_BOUNCE_OUT),this._playerParticles.enable(),this._playSound("bubble_1")):(E.World.__tween.tween(this._playerCharacter.get_renderable(),0.2,{rotation:10},!0,f.tween.Ease.EASE_IN),this._playerParticles.disable())},_isCollidingElement:function(a,b){null==b&&(b=1);return this._playerCharacterRight<
a.get_pos().x-a.get_renderable().width*a.get_originX()+50*b||this._playerCharacterLeft>a.get_pos().x+a.get_renderable().width*(1-a.get_originX())-50*b||this._playerCharacterBot<a.get_pos().y-a.get_renderable().height*a.get_originY()+40*b?!1:this._playerCharacterTop>a.get_pos().y+a.get_renderable().height*(1-a.get_originY())-40*b?!1:!0},_isCollidingBigRock:function(a,b){if(a.get_pos().x-a.get_renderable().width*a.get_originX()+50>this._playerCharacterRight||a.get_pos().x+a.get_renderable().width*(1-
a.get_originX())-50<this._playerCharacterLeft)return!1;if(b){if(a.get_pos().y+a.get_renderable().height*(1-a.get_originY())-40>this._playerCharacterTop)return!0}else if(a.get_pos().y-a.get_renderable().height*a.get_originY()+40<this._playerCharacterBot)return!0;return!1},_checkCollisions:function(){this._playerCharacterRight=this._playerCharacter.get_pos().x+this._playerCharacter.get_renderable().width*(1-this._playerCharacter.get_originX());this._playerCharacterLeft=this._playerCharacter.get_pos().x-
this._playerCharacter.get_renderable().width*this._playerCharacter.get_originX();this._playerCharacterTop=this._playerCharacter.get_pos().y-this._playerCharacter.get_renderable().height*this._playerCharacter.get_originY();this._playerCharacterBot=this._playerCharacter.get_pos().y+this._playerCharacter.get_renderable().height*(1-this._playerCharacter.get_originY());for(var a=0,b=this._rocksTop;a<b.length;){var c=b[a];++a;if(this._isCollidingBigRock(c,!0))return!0}a=0;for(b=this._rocksBot;a<b.length;)if(c=
b[a],++a,this._isCollidingBigRock(c,!1))return!0;a=0;for(b=this._rocksFloat;a<b.length;)if(c=b[a],++a,this._isCollidingElement(c))return!0;a=0;for(b=this._caveDwellers;a<b.length;)if(c=b[a],++a,this._isCollidingElement(c,2))return!0;return!1},_spawnCaveDweller:function(){this._timeUntilNextDweller=this._dwellerSpawnInterval+(2*Math.random()-1);var a=this._caveDwellers[this._dwellerIndex];this._dwellerIndex=(this._dwellerIndex+1)%this._caveDwellers.length;a.get_renderable().visible=!0;0.5>Math.random()?
(a.get_pos().x=this._lastRockBot.get_pos().x,a.get_pos().y=this._lastRockBot.get_pos().y+48,a.setOrigin(0.5,1),a.animate("anim_dweller_bot_idle"),a.set_fps(5)):(a.get_pos().x=this._lastRockTop.get_pos().x,a.get_pos().y=this._lastRockTop.get_pos().y-48,a.setOrigin(0.5,0),a.animate("anim_dweller_top_idle"),a.set_fps(10))},_spawnFloatingRock:function(){this._timeUntilNextFloatRock=5*Math.random()+5;var a=this._rocksFloat[this._rocksFloatIndex];this._rocksFloatIndex=(this._rocksFloatIndex+1)%this._rocksFloat.length;
a.get_renderable().visible=!0;this._updateFarthestRightRocksOnScreen();a.get_pos().x=this._getCenterX(!0);if(80>Math.abs(a.get_pos().x-this._levelUpMsg.get_pos().x))a.get_pos().x=-e.ConstantsApp.STAGE_WIDTH;else{var b=0.2*this._rockVertSpacing;a.get_pos().y=this._getCenterY(!0)+(Math.random()*b-b/2)}},_recycleRock:function(a,b,c){null==c&&(c=!1);if(!c){c=40*Math.random();0==t.random(2)&&(c*=-1);var i=0.5*(e.ConstantsApp.STAGE_HEIGHT-this._rockVertSpacing)-40;this._rockVertOffset+=c;Math.abs(this._rockVertOffset)>
i&&(this._rockVertOffset=0>this._rockVertOffset?-i:i)}c="";i=0;b?(c=this._rockTopImages[t.random(this._rockTopImages.length)],"gameplay_rock_top_1"==c?i=0.4:"gameplay_rock_top_2"==c?i=0.3:"gameplay_rock_top_3"==c?i=0.25:"gameplay_rock_top_4"==c&&(i=0.5),a.renew({asset:this._rockTopImages[t.random(this._rockTopImages.length)],originX:i,originY:1}),a.get_pos().x=this._lastRockTop.get_pos().x+this._lastRockTop.get_renderable().width*(1-this._lastRockTop.get_originX())+a.get_renderable().width*a.get_originX(),
a.get_pos().y=e.ConstantsApp.STAGE_CENTER_Y-0.5*this._rockVertSpacing+this._rockVertOffset+40,this._lastRockTop=a):(c=this._rockBotImages[t.random(this._rockBotImages.length)],"gameplay_rock_bottom_1"==c?i=0.5:"gameplay_rock_bottom_2"==c&&(i=0.25),a.renew({asset:this._rockBotImages[t.random(this._rockBotImages.length)],originX:i,originY:0}),a.get_pos().x=this._lastRockBot.get_pos().x+this._lastRockBot.get_renderable().width*(1-this._lastRockBot.get_originX())+a.get_renderable().width*a.get_originX(),
a.get_pos().y=e.ConstantsApp.STAGE_CENTER_Y+0.5*this._rockVertSpacing+this._rockVertOffset+40,this._lastRockBot=a)},_shouldDwellerAttack:function(a){if(!("anim_dweller_bot"==a.get_currentAnimation()||"anim_dweller_top"==a.get_currentAnimation())&&!(a.get_pos().x<this._playerCharacter.get_pos().x)){var b="";if(a.get_pos().y>this._playerCharacter.get_pos().y){if(a.get_pos().x>0.75*e.ConstantsApp.STAGE_WIDTH)return;b="anim_dweller_bot"}else{if(a.get_pos().x>0.5*e.ConstantsApp.STAGE_WIDTH)return;b="anim_dweller_top"}a.animate(b)}},
_updatePositions:function(a){this._backGround.get_pos().x-=0.5*a*this._scrollSpeed;0>=this._backGround.get_pos().x&&(this._backGround.get_pos().x=e.ConstantsApp.STAGE_WIDTH);this._middleGround.get_pos().x-=0.75*a*this._scrollSpeed;0>=this._middleGround.get_pos().x&&(this._middleGround.get_pos().x=e.ConstantsApp.STAGE_WIDTH);for(var a=a*this._scrollSpeed,b=0,c=this._rocksTop;b<c.length;){var i=c[b];++b;i.get_pos().x-=a;0>=i.get_pos().x+i.get_renderable().width&&this._recycleRock(i,!0)}b=0;for(c=this._rocksBot;b<
c.length;)i=c[b],++b,i.get_pos().x-=a,0>=i.get_pos().x+i.get_renderable().width&&this._recycleRock(i,!1);b=0;for(c=this._rocksFloat;b<c.length;)i=c[b],++b,i.get_pos().x-=a;b=0;for(c=this._caveDwellers;b<c.length;)i=c[b],++b,i.get_pos().x-=a,this._shouldDwellerAttack(i);this._levelUpMsg.get_pos().x-=a},update:function(a){if(!0!=d.WorkinCloud.get_instance().getBool(e.ConstantsApp.BOOL_PAUSED))switch(E.World.get_tweener().update(a),this._state[1]){case 0:null!=this._poolManager&&this._poolManager.update(a);
break;case 1:this._elementManager.updateElements(a);this._updatePositions(a);this._thrustersOn?(this._playerCharacter.get_velocity().y+=-600*a,this._playerParticles.get_pos().y=this._playerCharacter.get_pos().y+20):this._playerCharacter.get_velocity().y+=600*a;for(this._scoreTimer+=a;0.1<=this._scoreTimer;){this._scoreTimer-=0.1;var b=d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_LEVEL);d.WorkinCloud.get_instance().modifyInt(e.ConstantsApp.INT_SCORE,b);d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_SCORE)>
d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_BEST_SCORE)&&d.WorkinCloud.get_instance().setInt(e.ConstantsApp.INT_BEST_SCORE,d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_SCORE))}this._timeUntilNextFloatRock-=a;0>=this._timeUntilNextFloatRock&&this._spawnFloatingRock();this._timeUntilNextDweller-=a;0>=this._timeUntilNextDweller&&this._spawnCaveDweller();this._levelTimer+=a;10<=this._levelTimer&&(this._levelTimer=0,this._nextLevel());this._checkCollisions()&&(this._killPlayerCharacter(),
this._setState(E._World.WORLD_STATE._STATE_GAMEOVER));break;case 3:this._elementManager.updateElements(a),this._updatePositions(a),this._playerCharacterDead&&(this._playerCharacter.get_renderable().rotation+=400*a),this._gameOverTimer+=a,1.5<=this._gameOverTimer&&this._gameOver()}},_setState:function(a){this._state=a;switch(a[1]){case 1:this._playerCharacter.animate("anim_patrick_fall");break;case 2:this._setBubblePopupOpen(!0)}},dispose:function(){E.World.get_tweener().stopAllTweens();this._elementManager.dispose();
this._timeline=this._elementManager=null;this._removeEventListeners();this._poolManager.dispose();this._state=this._poolManager=null;this._dispatcher.dispose();this._dispatcher=null},start:function(){this._setState(E._World.WORLD_STATE._STATE_WAITING)},__class__:E.World};E.elements={};E.elements.ParticleEmitter=function(a,b){this._tween=b;null!=a.asset&&(this._particleAsset=a.asset,a.asset=null);this._particleCount=null!=a.count?a.count:10;k.Element.call(this,a);for(var c=0,i=this._particleCount;c<
i;)c++,this.addElement(new k.Element({asset:this._particleAsset,originX:0.5,originY:0.5})).get_renderable().alpha=0;this.set_frequency(20);this.set_lifetime(0.5);this._nextEmitIndex=0;this._particleVelocity=250;this._particleRandomness=0.5};m["com.nick.spongeBob.bubble_blast_flambe_october.world.elements.ParticleEmitter"]=E.elements.ParticleEmitter;E.elements.ParticleEmitter.__name__="com,nick,spongeBob,bubble_blast_flambe_october,world,elements,ParticleEmitter".split(",");E.elements.ParticleEmitter.__super__=
k.Element;E.elements.ParticleEmitter.prototype=v(k.Element.prototype,{set_lifetime:function(a){return this._lifetime=a},set_frequency:function(a){this._frequency=a;this._timePerParticle=1/this._frequency;return this._frequency},disable:function(){this._emitting=!1},enable:function(){this._emitTimer=this._timePerParticle;this._emitting=!0},_emitNextParticle:function(){var a=this._elements[this._nextEmitIndex];a.get_pos().x=0;a.get_pos().y=0;a.get_renderable().scaleX=1;a.get_renderable().scaleY=1;a.get_renderable().alpha=
1;var b=this._particleVelocity*this._particleRandomness,c=-(this._particleVelocity+Math.random()*2*b-b),b=Math.random()*2*b-b;a.get_velocity().x=c;a.get_velocity().y=b;this._tween.tween(a.get_renderable(),this._lifetime,{alpha:0,scaleX:2,scaleY:2},!0).onComplete(function(){a.get_velocity().x=0;a.get_velocity().y=0});this._nextEmitIndex=(this._nextEmitIndex+1)%this._particleCount},update:function(a){k.Element.prototype.update.call(this,a);if(this._emitting)for(this._emitTimer+=a;this._emitTimer>=this._timePerParticle;)this._emitTimer-=
this._timePerParticle,this._emitNextParticle()},__class__:E.elements.ParticleEmitter});C=void 0;P=void 0;p=void 0;j=void 0;h=void 0;L=void 0;J=void 0;r=void 0;S=void 0;z=void 0;q=void 0;K=void 0;O=void 0;D=void 0;D=void 0;D=void 0;r={Disposable:function(){}};m["flambe.util.Disposable"]=r.Disposable;r.Disposable.__name__=["flambe","util","Disposable"];r.Disposable.prototype={__class__:r.Disposable};S=function(){};m["flambe.Component"]=S;S.__name__=["flambe","Component"];S.__interfaces__=[r.Disposable];
S.prototype={init:function(a,b){this.owner=a;this.next=b},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},onAdded:function(){},__class__:S};ba={ComponentUpdater:function(){this._paused=!1}};m["com.workinman.components.ComponentUpdater"]=ba.ComponentUpdater;ba.ComponentUpdater.__name__=["com","workinman","components","ComponentUpdater"];ba.ComponentUpdater.__super__=S;ba.ComponentUpdater.prototype=v(S.prototype,
{onUpdate:function(a){this._paused||d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventUpdate.request(a))},get_name:function(){return"ComponentUpdater_0"},__class__:ba.ComponentUpdater});F={ConstantsCloud:function(){}};m["com.workinman.data.ConstantsCloud"]=F.ConstantsCloud;F.ConstantsCloud.__name__=["com","workinman","data","ConstantsCloud"];F.ConstantsCloud.getUniqueId=function(){return t.string(F.ConstantsCloud._uniqueId++)};F.ConstantsCloud.getSupportsAllAudio=function(){return j.html.WebAudioSound.get_supported()&&
!(0<=B.window.navigator.userAgent.indexOf("Android"))};F.ConstantsCloud.getSupportsSingleMusicTrackOnly=function(){return 0<=B.window.navigator.userAgent.indexOf("Linux")};F.ConstantsCloud.getSupportsNoAudio=function(){return!F.ConstantsCloud.getSupportsAllAudio()&&!F.ConstantsCloud.getSupportsSingleMusicTrackOnly()};k.AnimatedElement=function(a){if(null!=a.movie&&""!=a.movie&&(null==a.library||""==a.library)&&(null==a.asset||""==a.asset))a.asset=a.movie;this._animations=new w.StringMap;this._queuedAnimations=
[];this._currentAnimDef=null;this._lastFrame=-1;this._currentFrame=0;this._currentAnimation="";this._fps=24;this._animationStopped=!0;this._library="";this._loopComplete=!1;this._symbol="";this._workFrame=0;k.Element.call(this,a)};m["com.workinman.display.AnimatedElement"]=k.AnimatedElement;k.AnimatedElement.__name__=["com","workinman","display","AnimatedElement"];k.AnimatedElement.__super__=k.Element;k.AnimatedElement.prototype=v(k.Element.prototype,{_onAnimationComplete:function(){},_setFrame:function(a){switch(this._format[1]){case 2:this._movieSprite.set_position(Math.floor(a)/
this._frames*this._duration);break;default:this.setTextureAsset(this._currentAnimDef.get_frameIds()[Math.floor(a-1)])}},_runAnimation:function(a){if(""!=this._currentAnimation&&!0==this._doLoop()&&!1==this._animationStopped&&(this._currentFrame=!1==this._currentAnimDef.get_reverse()?this._currentFrame+this._fps*a:this._currentFrame-this._fps*a,!1==this._currentAnimDef.get_reverse()?Math.floor(this._currentFrame)>this._currentAnimDef.get_end()&&(this._currentFrame=this._currentAnimDef.get_start()+
(this._currentFrame-Math.floor(this._currentFrame)),this._loopComplete=!0):Math.ceil(this._currentFrame)<this._currentAnimDef.get_start()&&(this._currentFrame=this._currentAnimDef.get_end()+(this._currentFrame-Math.ceil(this._currentFrame)),this._loopComplete=!0),!0==this._loopComplete&&(this._loopComplete=!1,this._currentLoop--,!1==this._doLoop()&&(this._animationStopped=!0,this._currentFrame=!1==this._currentAnimDef.get_reverse()?this._currentAnimDef.get_end():this._currentAnimDef.get_start(),0<
this._queuedAnimations.length?(this._doAnimate(this._queuedAnimations[0].get_name(),this._queuedAnimations[0].get_loops(),this._queuedAnimations[0].get_force()),this._queuedAnimations[0].dispose(),this._queuedAnimations.splice(0,1)):this._onAnimationComplete())),this._workFrame=!1==this._currentAnimDef.get_reverse()?Math.floor(this._currentFrame):Math.ceil(this._currentFrame),(this._format!=k.ELEMENT_FORMAT.MOVIE||null!=this._movieSprite)&&this._workFrame!=this._lastFrame))this._setFrame(this._workFrame),
this._lastFrame=this._workFrame},_doLoop:function(){return 0<this._currentLoop||this._flagLoop},update:function(a){k.Element.prototype.update.call(this,a);this._runAnimation(a)},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.pop().dispose()},queueAnimation:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._queuedAnimations.push(k.QueuedAnimation.request(a,b,c));return this},hasAnimation:function(a){return this._animations.exists(a)},startAnimation:function(){this._animationStopped=
!1},stopAnimation:function(){this._animationStopped=!0},setLoop:function(a){this._currentLoop=a;this._flagLoop=0==a;return this},_doAnimate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._currentAnimation==a&&!1==c||(null!=this._animations&&this._animations.exists(a)?(this._currentAnimDef=null,this._currentAnimDef=this._animations.get(a),this._currentFrame=!1==this._currentAnimDef.get_reverse()?this._currentAnimDef.get_start():this._currentAnimDef.get_end(),this._currentAnimation=a,this.setLoop(b),
this._animationStopped=!1,this._setFrame(this._currentFrame)):d.WorkinCloud.get_instance().log("[AnimatedElement](_doAnimate) Animation not found: "+a))},animate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this.clearQueue();this._doAnimate(a,b,c);return this},addAnimationFrames:function(a,b){this._animations.set(a,k.AnimationDef.request(a,-1,-1,b));return this},addAnimationFlump:function(a,b,c){this._animations.set(a,k.AnimationDef.request(a,b-1,c-1));return this},_buildAnimationsFromLayers:function(a,
b){for(var c=function(a){return function(){return a.iterator()}}(this._animations)();c.hasNext();)c.next().dispose();d.WorkinUtils.emptyMap(this._animations);for(var c=null,i=0,e=a.layers;i<e.length;){var f=e[i];++i;if(null!=c)break;for(var g=0,h=f.keyframes;g<h.length;){var j=h[g];++g;if(null!=j.label){c=f;break}}}b&&null;if(null!=c){i=0;for(e=c.keyframes;i<e.length;)j=e[i],++i,this.addAnimationFlump(j.label,j.index+1,j.index+j.duration),b&&null}else null},setLibraryAndSymbol:function(a,b,c){if(""==
b)for(var i=d.WorkinCloud.get_instance().get_assets().getLibrary(a)._symbols.iterator();i.hasNext();){var e=i.next();M.__instanceof(e,z.MovieSymbol)&&0<M.__cast(e,z.MovieSymbol).frames&&(b=e.get_name(),c&&null)}if(a==this._library&&b==this._symbol)return this;this._library=a;this._symbol=b;a=d.WorkinCloud.get_instance().get_assets().getLibrary(this._library)._symbols.get(this._symbol);this._buildAnimationsFromLayers(a,c);this._duration=a.duration;this._frames=a.frames;this.setImageSprite(a.createSprite());
this._movieSprite=this._imageSprite;this._movieSprite.set_paused(!0);return this},setSymbol:function(a){return this.setLibraryAndSymbol(this._library,a,!1)},set_animationFrameRelative:function(a){this._currentFrame=this._currentAnimDef.get_start()+a;return this.get_animationFrameRelative()},get_animationFrameRelative:function(){return this._currentFrame-this._currentAnimDef.get_start()|0},set_animationFrame:function(a){this._currentFrame=a;this._setFrame(this._currentFrame);this.stopAnimation();return this._currentFrame|
0},get_animationFrame:function(){return this._currentFrame|0},set_animationRatio:function(a){this._newFrame=Math.floor(a*(this._currentAnimDef.get_end()-this._currentAnimDef.get_start())+this._currentAnimDef.get_start());this._newFrame!=this._currentFrame&&this.set_animationFrame(this._newFrame);return this.get_animationRatio()},get_animationRatio:function(){return(this._currentFrame-this._currentAnimDef.get_start())/(this._currentAnimDef.get_end()-this._currentAnimDef.get_end())},set_fps:function(a){return this._fps=
a},get_fps:function(){return this._fps},get_currentId:function(){return this._currentAnimation},get_currentAnimation:function(){return this._currentAnimation},_cleanOldFormat:function(a){switch(a[1]){case 2:this._movieSprite=null;break;default:k.Element.prototype._cleanOldFormat.call(this,a)}},_determineFormat:function(a){M.__instanceof(a,z.MovieSprite)?this._setFormat(k.ELEMENT_FORMAT.MOVIE):k.Element.prototype._determineFormat.call(this,a)},renew:function(a){k.Element.prototype.renew.call(this,
a);a.library&&this.setLibraryAndSymbol(a.library,null!=a.movie?a.movie:"",null!=a.trace?a.trace:!1);a.fps&&(this._fps=a.fps)},dispose:function(){if(!this.get_isPooled()){this._movieSprite=null;for(var a=function(a){return function(){return a.iterator()}}(this._animations)();a.hasNext();)a.next().dispose();this._currentAnimDef=this._animations=null;this.clearQueue();this._queuedAnimations=null}k.Element.prototype.dispose.call(this)},__class__:k.AnimatedElement,__properties__:v(k.Element.prototype.__properties__,
{get_currentAnimation:"get_currentAnimation",get_currentId:"get_currentId",set_fps:"set_fps",get_fps:"get_fps",set_animationRatio:"set_animationRatio",get_animationRatio:"get_animationRatio",set_animationFrame:"set_animationFrame",get_animationFrame:"get_animationFrame",set_animationFrameRelative:"set_animationFrameRelative",get_animationFrameRelative:"get_animationFrameRelative"})});d={pooling:{}};d.pooling.IStrictPoolable=function(){};m["com.workinman.utils.pooling.IStrictPoolable"]=d.pooling.IStrictPoolable;
d.pooling.IStrictPoolable.__name__=["com","workinman","utils","pooling","IStrictPoolable"];d.pooling.IStrictPoolable.prototype={__class__:d.pooling.IStrictPoolable};d.pooling.PoolStrictBase=function(){};m["com.workinman.utils.pooling.PoolStrictBase"]=d.pooling.PoolStrictBase;d.pooling.PoolStrictBase.__name__=["com","workinman","utils","pooling","PoolStrictBase"];d.pooling.PoolStrictBase.__interfaces__=[d.pooling.IStrictPoolable];d.pooling.PoolStrictBase.prototype={destroy:function(){this._returnFunction=
null},dispose:function(){this._disposed||(this._disposed=!0,this._returnFunction(this.poolId(),this))},poolId:function(){throw"The poolId() must be redefined in each subclass";},poolActivate:function(){this._disposed=!1},build:function(a){this._returnFunction=a;this.poolActivate();return this},__class__:d.pooling.PoolStrictBase};k.QueuedAnimation=function(){};m["com.workinman.display.QueuedAnimation"]=k.QueuedAnimation;k.QueuedAnimation.__name__=["com","workinman","display","QueuedAnimation"];k.QueuedAnimation.__interfaces__=
[d.pooling.IStrictPoolable];k.QueuedAnimation.request=function(a,b,c){d.WorkinCloud.get_instance().get_pool().initPool("QueuedAnimation",k.QueuedAnimation);return d.WorkinCloud.get_instance().get_pool().requestObject("QueuedAnimation").init(a,b,c)};k.QueuedAnimation.__super__=d.pooling.PoolStrictBase;k.QueuedAnimation.prototype=v(d.pooling.PoolStrictBase.prototype,{get_force:function(){return this._force},get_loops:function(){return this._loops},get_name:function(){return this._name},init:function(a,
b,c){this._name=a;this._loops=b;this._force=c;return this},poolId:function(){return"QueuedAnimation"},__class__:k.QueuedAnimation,__properties__:{get_name:"get_name",get_loops:"get_loops",get_force:"get_force"}});k.AnimationDef=function(){};m["com.workinman.display.AnimationDef"]=k.AnimationDef;k.AnimationDef.__name__=["com","workinman","display","AnimationDef"];k.AnimationDef.__interfaces__=[d.pooling.IStrictPoolable];k.AnimationDef.request=function(a,b,c,i){null==c&&(c=-1);null==b&&(b=-1);d.WorkinCloud.get_instance().get_pool().initPool("AnimationDef",
k.AnimationDef);return d.WorkinCloud.get_instance().get_pool().requestObject("AnimationDef").init(a,b,c,i)};k.AnimationDef.__super__=d.pooling.PoolStrictBase;k.AnimationDef.prototype=v(d.pooling.PoolStrictBase.prototype,{get_frameIds:function(){return this._frameIds},get_id:function(){return this._id},get_reverse:function(){return this._playReverse},get_end:function(){return this._endFrame},get_start:function(){return this._startFrame},destroy:function(){this._frameIds=null;d.pooling.PoolStrictBase.prototype.destroy.call(this)},
dispose:function(){for(;0<this._frameIds.length;)this._frameIds.pop();d.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,c,i){null==c&&(c=-1);null==b&&(b=-1);this._id=a;this._playReverse=!1;if(null!=i){for(a=0;a<i.length;)b=i[a],++a,this._frameIds.push(b);this._startFrame=1;this._endFrame=this._frameIds.length}else this._startFrame=b,this._endFrame=c,b>c&&(this._playReverse=!0,this._startFrame=c,this._endFrame=b);return this},build:function(a){this._frameIds=[];return d.pooling.PoolStrictBase.prototype.build.call(this,
a)},poolId:function(){return"AnimationDef"},__class__:k.AnimationDef,__properties__:{get_start:"get_start",get_end:"get_end",get_reverse:"get_reverse",get_id:"get_id",get_frameIds:"get_frameIds"}});k.ELEMENT_FORMAT=m["com.workinman.display.ELEMENT_FORMAT"]={__ename__:["com","workinman","display","ELEMENT_FORMAT"],__constructs__:["EMPTY","TEXTURE","MOVIE","TEXT"]};k.ELEMENT_FORMAT.EMPTY=["EMPTY",0];k.ELEMENT_FORMAT.EMPTY.toString=n;k.ELEMENT_FORMAT.EMPTY.__enum__=k.ELEMENT_FORMAT;k.ELEMENT_FORMAT.TEXTURE=
["TEXTURE",1];k.ELEMENT_FORMAT.TEXTURE.toString=n;k.ELEMENT_FORMAT.TEXTURE.__enum__=k.ELEMENT_FORMAT;k.ELEMENT_FORMAT.MOVIE=["MOVIE",2];k.ELEMENT_FORMAT.MOVIE.toString=n;k.ELEMENT_FORMAT.MOVIE.__enum__=k.ELEMENT_FORMAT;k.ELEMENT_FORMAT.TEXT=["TEXT",3];k.ELEMENT_FORMAT.TEXT.toString=n;k.ELEMENT_FORMAT.TEXT.__enum__=k.ELEMENT_FORMAT;k.ElementManager=function(a,b,c){this._timeline=a;this._layers=new w.StringMap;this._elements=[];this._camera=new f.WorkinCamera(b,c);this._zSortLayers=new w.StringMap};
m["com.workinman.display.ElementManager"]=k.ElementManager;k.ElementManager.__name__=["com","workinman","display","ElementManager"];k.ElementManager.prototype={renderElements:function(){for(var a=this._elements.length;0<a--;)this._elements[a].renderPosition(this._camera)},updateElements:function(a){for(var b=this._elements.length;0<b;)b--,this._elements[b].update(a),this._elements[b].get_doDelete()&&this.removeElementAtIndex(b)},removeElementAtIndex:function(a,b){null==b&&(b=!0);this._elements[a].get_root().parent.removeChild(this._elements[a].get_root());
var c=0;if(this._zSortLayers.exists(this._elements[a].get_layer()))for(c=this._zSortLayers.get(this._elements[a].get_layer()).length;0<c--;)this._zSortLayers.get(this._elements[a].get_layer())[c]==this._elements[a]&&this._zSortLayers.get(this._elements[a].get_layer()).splice(c,1);b&&(this._elements[a].set_doDelete(!0),this._elements[a].dispose());this._elements.splice(a,1)},addElement:function(a){if(!1==this._layers.exists(a.get_layer()))return d.WorkinCloud.get_instance().log("[ElementManager](addElement) Trying to add element to non-existant layer '"+
a.get_layer()+"'!"),a;for(var b=0;b<this._elements.length;){if(this._elements[b].get_uniqueId()==a.get_uniqueId())return this._layers.get(a.get_layer()).addChild(a.get_root()),a;b++}this._elements.push(a);this._layers.get(a.get_layer()).addChild(a.get_root());this._zSortLayers.exists(a.get_layer())&&this._zSortLayers.get(a.get_layer()).push(a);return a},addLayer:function(a,b){null==b&&(b=!1);if(this._layers.exists(a))this._timeline.removeChild(this._layers.get(a)),this._timeline.addChild(this._layers.get(a));
else{var c=new P;this._timeline.addChild(c);this._layers.set(a,c);b&&this._zSortLayers.set(a,[])}},dispose:function(){for(;0<this._elements.length;)this.removeElementAtIndex(this._elements.length-1);this._elements=null;this._camera.dispose();this._camera=null;for(var a=function(a){return function(){return a.iterator()}}(this._layers)();a.hasNext();)a.next().dispose();this._timeline=this._layers=null},__class__:k.ElementManager};k.PoolManager=function(){this._pools=new w.StringMap;this._flagAllPoolsFull=
!1;this._numPools=0};m["com.workinman.display.PoolManager"]=k.PoolManager;k.PoolManager.__name__=["com","workinman","display","PoolManager"];k.PoolManager.prototype={update:function(a){if(!this._flagAllPoolsFull){this._flagAllPoolsFull=!0;for(var b=function(a){return function(){return a.iterator()}}(this._pools)();b.hasNext();){var c=b.next();c.get_isPoolFull()||(this._flagAllPoolsFull=!1,c.update(a))}this._flagAllPoolsFull&&d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(k.PoolManager.ALL_POOLS_FULL))}},
dispose:function(){for(var a=function(a){return function(){return a.iterator()}}(this._pools)();a.hasNext();)a.next().dispose();this._pools=null},__class__:k.PoolManager};k.PoolData=function(){this._AVERAGE_DELAY_BETWEEN_CREATE_ELEMENTS=0.8;this._MAX_ELEMENTS_TO_CREATE_AT_ONCE=8};m["com.workinman.display.PoolData"]=k.PoolData;k.PoolData.__name__=["com","workinman","display","PoolData"];k.PoolData.prototype={dispose:function(){for(var a=0;a<this._elements.length;)this._elements[a].set_isPooled(!1),
this._elements[a].dispose(),a++;this._class=this._elements=null},_addPoolElements:function(a){null==a&&(a=!0);for(var b=0;this._poolProgress<this._poolElementsToAdd&&(!a||b<this._MAX_ELEMENTS_TO_CREATE_AT_ONCE);)b++,this._poolProgress++,this._elements.push(N.createInstance(this._class,[{pooled:!0}]));this._poolProgress<this._poolElementsToAdd?this._timerUpdateCreateElements=this._AVERAGE_DELAY_BETWEEN_CREATE_ELEMENTS+0.2*this._timerOffset:(this._timerUpdateCreateElements=0,this._flagPoolFull=!0)},
update:function(a){this._flagPoolFull||(this._timerUpdateCreateElements-=a,0>=this._timerUpdateCreateElements&&this._addPoolElements())},get_isPoolFull:function(){return this._flagPoolFull},__class__:k.PoolData};k.Renderable=function(){};m["com.workinman.display.Renderable"]=k.Renderable;k.Renderable.__name__=["com","workinman","display","Renderable"];k.Renderable.__interfaces__=[d.pooling.IStrictPoolable];k.Renderable.request=function(a,b){null==b&&(b=1);null==a&&(a=1);d.WorkinCloud.get_instance().get_pool().initPool("Renderable",
k.Renderable);return d.WorkinCloud.get_instance().get_pool().requestObject("Renderable").init(a,b)};k.Renderable.__super__=d.pooling.PoolStrictBase;k.Renderable.prototype=v(d.pooling.PoolStrictBase.prototype,{init:function(a,b){this.rotation=this.z=this.y=this.x=0;this.scaleY=this.scaleX=1;this.width=a;this.height=b;this.alpha=1;this.visible=!0;return this},poolId:function(){return"Renderable"},__class__:k.Renderable});k.TEXT_JUSTIFICATION=m["com.workinman.display.TEXT_JUSTIFICATION"]={__ename__:["com",
"workinman","display","TEXT_JUSTIFICATION"],__constructs__:["JUST_LEFT","JUST_RIGHT","JUST_CENTER"]};k.TEXT_JUSTIFICATION.JUST_LEFT=["JUST_LEFT",0];k.TEXT_JUSTIFICATION.JUST_LEFT.toString=n;k.TEXT_JUSTIFICATION.JUST_LEFT.__enum__=k.TEXT_JUSTIFICATION;k.TEXT_JUSTIFICATION.JUST_RIGHT=["JUST_RIGHT",1];k.TEXT_JUSTIFICATION.JUST_RIGHT.toString=n;k.TEXT_JUSTIFICATION.JUST_RIGHT.__enum__=k.TEXT_JUSTIFICATION;k.TEXT_JUSTIFICATION.JUST_CENTER=["JUST_CENTER",2];k.TEXT_JUSTIFICATION.JUST_CENTER.toString=n;k.TEXT_JUSTIFICATION.JUST_CENTER.__enum__=
k.TEXT_JUSTIFICATION;k.TextBase=function(a,b,c,i,e){null==i&&(i="");null==e&&(e={});e.x=a;e.y=b;k.Element.call(this,e);""==i&&(i=F.ConstantsCloud.FONT_DEFAULT);this._textString=c;this._fontName=i;this._spacing=null!=e.spacing?e.spacing:0;this._width=null!=e.width?e.width:Math.POSITIVE_INFINITY;this._just=null!=e.just?e.just:k.TEXT_JUSTIFICATION.JUST_LEFT;this._just=null!=e.center?k.TEXT_JUSTIFICATION.JUST_CENTER:this._just;this._textDisplay=[];this._textDisplay.push(new p.TextSprite(d.WorkinCloud.get_instance().get_assets().getFont(this._fontName),
""));this.setImageSprite(this._textDisplay[0]);this._textDisplay[0].set_pointerEnabled(!1);this.renderPosition();this._renderTextToDisplay()};m["com.workinman.display.TextBase"]=k.TextBase;k.TextBase.__name__=["com","workinman","display","TextBase"];k.TextBase.__super__=k.Element;k.TextBase.prototype=v(k.Element.prototype,{_cleanUp:function(){if(null!=this._textDisplay)for(;1<this._textDisplay.length;)this._textDisplay.pop().dispose()},_renderTextToDisplay:function(){this._textDisplay[0].set_text(this._textString);
1==this._textDisplay.length&&(this._render.width=this._textDisplay[0].getNaturalWidth(),this._render.height=this._textDisplay[0].getNaturalHeight());this.setOrigin(this._originX,this._originY)},_renderFontToDisplay:function(){for(var a=0,b=this._textDisplay;a<b.length;){var c=b[a];++a;c.set_font(d.WorkinCloud.get_instance().get_assets().getFont(this._fontName))}},set_text:function(a){this._textString=a;this._renderTextToDisplay();return this._textString},set_font:function(a){if(""==a)return"";this._fontName=
a;this._renderFontToDisplay();return this._fontName},_updateTextDisplay:function(a,b){null==b&&(b=1);this._cleanUp();if(""==a)this._textDisplay[0].set_text(a);else{for(var a=V.replace(a,"<br>","\\r\\n"),c=[],i=this._textDisplay[0]._font.getGlyphs(a),e=0,f=0,g=0;f<i.length;){var h=i[f];f++;if(f==i.length)e+=h.width*b;else if(e+=h.xAdvance*b+h.getKerning(i[f].charCode)*b,f<i.length-1&&(92==i[f-1].charCode||47==i[f-1].charCode)&&114==i[f].charCode&&(92==i[f+1].charCode||47==i[f+1].charCode)&&110==i[f+
2].charCode)e=f-1,c.push(a.substring(g,e)),g=e+4,e=0;e>=this._width/this._render.scaleX&&(h=!0,e=a.lastIndexOf(" ",f),-1==e?(h=!1,e=f-1):e++,c.push(a.substring(g,e)+(h?"":"-")),g=e,e=0);f==i.length&&c.push(a.substring(g,f))}this._textDisplay[0].set_text(c.shift());for(i=this._render.height=0;i<c.length;)f=c[i],++i,this._textDisplay.push(new p.TextSprite(d.WorkinCloud.get_instance().get_assets().getFont(this._fontName),f)),this.addTextDisplay(this._textDisplay[this._textDisplay.length-1]);this._render.height+=
0==this._spacing?this._textDisplay[0].getNaturalHeight():this._spacing;this._imageSprite.x.set__(-(this._originX*this._textDisplay[0].getNaturalWidth()));this._imageSprite.y.set__(-(this._originY*this._render.height))}},addTextDisplay:function(a){switch(this._just[1]){case 2:a.x.set__((this._textDisplay[0].getNaturalWidth()-a.getNaturalWidth())/2);break;case 1:a.x.set__(this._textDisplay[0].getNaturalWidth()-a.getNaturalWidth())}a.y.set__(this._render.height+(0==this._spacing?a.getNaturalHeight():
this._spacing));this._render.height+=0==this._spacing?a.getNaturalHeight():this._spacing;this._render.width=Math.max(this._render.width,a.getNaturalWidth());this._imageEntity.addChild((new P).add(a))},_cleanOldFormat:function(a){switch(a[1]){case 3:break;default:k.Element.prototype._cleanOldFormat.call(this,a)}},_determineFormat:function(a){M.__instanceof(a,p.TextSprite)?this._setFormat(k.ELEMENT_FORMAT.TEXT):k.Element.prototype._determineFormat.call(this,a)},dispose:function(){this._cleanUp();this._just=
this._textDisplay=null;k.Element.prototype.dispose.call(this)},__class__:k.TextBase});k.TextLocalized=function(a,b,c,i,d){null==i&&(i="");this._flagLocalize=null!=d&&!1==d.doLocalize?!1:!0;k.TextBase.call(this,a,b,c,i,d)};m["com.workinman.display.TextLocalized"]=k.TextLocalized;k.TextLocalized.__name__=["com","workinman","display","TextLocalized"];k.TextLocalized.__super__=k.TextBase;k.TextLocalized.prototype=v(k.TextBase.prototype,{_renderTextToDisplay:function(){if(this._flagLocalize){var a=d.WorkinCloud.get_instance().get_localize().getLocalizeData(this._textString);
this._offsetX=a.get_offsetX();this._offsetY=a.get_offsetY();this._render.scaleX=a.get_scale();this._render.scaleY=a.get_scale();a.get_fontName()!=this._fontName&&this.set_font(a.get_fontName());this._updateTextDisplay(a.get_string());a.dispose();this.renderPosition()}else k.TextBase.prototype._renderTextToDisplay.call(this)},swapTextToDisplay:function(a){this._textString=a;this._renderTextToDisplay()},__class__:k.TextLocalized});o={WMEvent:function(){}};m["com.workinman.events.WMEvent"]=o.WMEvent;
o.WMEvent.__name__=["com","workinman","events","WMEvent"];o.WMEvent.__interfaces__=[d.pooling.IStrictPoolable];o.WMEvent.request=function(a){d.WorkinCloud.get_instance().get_pool().initPool("WMEvent",o.WMEvent);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEvent").init(a)};o.WMEvent.__super__=d.pooling.PoolStrictBase;o.WMEvent.prototype=v(d.pooling.PoolStrictBase.prototype,{get_eventId:function(){return this._eventId},init:function(a){this._eventId=a;return this},poolId:function(){return"WMEvent"},
__class__:o.WMEvent,__properties__:{get_eventId:"get_eventId"}});o.WMEventData=function(){};m["com.workinman.events.WMEventData"]=o.WMEventData;o.WMEventData.__name__=["com","workinman","events","WMEventData"];o.WMEventData.__interfaces__=[d.pooling.IStrictPoolable];o.WMEventData.request=function(a,b){d.WorkinCloud.get_instance().get_pool().initPool("WMEventData",o.WMEventData);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventData").initWithData(a,b)};o.WMEventData.__super__=o.WMEvent;
o.WMEventData.prototype=v(o.WMEvent.prototype,{get_data:function(){return this._data},initWithData:function(a,b){o.WMEvent.prototype.init.call(this,a);this._data=b;return this},dispose:function(){this._data=null;o.WMEvent.prototype.dispose.call(this)},poolId:function(){return"WMEventData"},__class__:o.WMEventData,__properties__:v(o.WMEvent.prototype.__properties__,{get_data:"get_data"})});o.WMEventDispatcher=function(){};m["com.workinman.events.WMEventDispatcher"]=o.WMEventDispatcher;o.WMEventDispatcher.__name__=
["com","workinman","events","WMEventDispatcher"];o.WMEventDispatcher.__interfaces__=[d.pooling.IStrictPoolable];o.WMEventDispatcher.request=function(){d.WorkinCloud.get_instance().get_pool().initPool("WMEventDispatcher",o.WMEventDispatcher);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventDispatcher")};o.WMEventDispatcher.__super__=d.pooling.PoolStrictBase;o.WMEventDispatcher.prototype=v(d.pooling.PoolStrictBase.prototype,{dispatchEvent:function(a){this._eventTrackers.exists(a.get_eventId())&&
this._eventTrackers.get(a.get_eventId()).dispatchEvent(a);a.dispose()},removeEventListener:function(a,b){this._eventTrackers.exists(a)&&(this._eventTrackers.get(a).removeEventListener(b),this._eventTrackers.get(a).isEmtpy()&&(this._eventTrackers.get(a).dispose(),this._eventTrackers.remove(a)))},addEventListener:function(a,b){this._eventTrackers.exists(a)||this._eventTrackers.set(a,o._WMEventDispatcher.WMEventTracker.request());this._eventTrackers.get(a).addEventListener(b)},destroy:function(){this._eventTrackers=
null;d.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(var a=function(a){return function(){return a.iterator()}}(this._eventTrackers)();a.hasNext();)a.next().dispose();d.WorkinUtils.emptyMap(this._eventTrackers);d.pooling.PoolStrictBase.prototype.dispose.call(this)},poolId:function(){return"WMEventDispatcher"},build:function(a){this._eventTrackers=new w.StringMap;return d.pooling.PoolStrictBase.prototype.build.call(this,a)},__class__:o.WMEventDispatcher});o._WMEventDispatcher=
{};o._WMEventDispatcher.WMEventTracker=function(){};m["com.workinman.events._WMEventDispatcher.WMEventTracker"]=o._WMEventDispatcher.WMEventTracker;o._WMEventDispatcher.WMEventTracker.__name__=["com","workinman","events","_WMEventDispatcher","WMEventTracker"];o._WMEventDispatcher.WMEventTracker.__interfaces__=[d.pooling.IStrictPoolable];o._WMEventDispatcher.WMEventTracker.request=function(){d.WorkinCloud.get_instance().get_pool().initPool("WMEventTracker",o._WMEventDispatcher.WMEventTracker);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventTracker")};
o._WMEventDispatcher.WMEventTracker.__super__=d.pooling.PoolStrictBase;o._WMEventDispatcher.WMEventTracker.prototype=v(d.pooling.PoolStrictBase.prototype,{isEmtpy:function(){return null==this._signal._head},dispatchEvent:function(a){this._signal.emit1(a)},removeEventListener:function(a){for(var b=this._signalTrackers.length;0<b--;)H.compareMethods(this._signalTrackers[b].get_listener(),a)&&(this._signalTrackers[b].dispose(),this._signalTrackers.splice(b,1))},addEventListener:function(a){this._signalTrackers.push(o._WMEventDispatcher.SignalTracker.request(a,
this._signal.connect(a)))},destroy:function(){this._signal=this._signalTrackers=null;d.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(;0<this._signalTrackers.length;)this._signalTrackers.pop().dispose();d.pooling.PoolStrictBase.prototype.dispose.call(this)},build:function(a){this._signalTrackers=[];this._signal=new r.Signal1;return d.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WMEventTracker"},__class__:o._WMEventDispatcher.WMEventTracker});
o._WMEventDispatcher.SignalTracker=function(){};m["com.workinman.events._WMEventDispatcher.SignalTracker"]=o._WMEventDispatcher.SignalTracker;o._WMEventDispatcher.SignalTracker.__name__=["com","workinman","events","_WMEventDispatcher","SignalTracker"];o._WMEventDispatcher.SignalTracker.__interfaces__=[d.pooling.IStrictPoolable];o._WMEventDispatcher.SignalTracker.request=function(a,b){d.WorkinCloud.get_instance().get_pool().initPool("SignalTracker",o._WMEventDispatcher.SignalTracker);return d.WorkinCloud.get_instance().get_pool().requestObject("SignalTracker").init(a,
b)};o._WMEventDispatcher.SignalTracker.__super__=d.pooling.PoolStrictBase;o._WMEventDispatcher.SignalTracker.prototype=v(d.pooling.PoolStrictBase.prototype,{get_listener:function(){return this._function},dispose:function(){this._connection.dispose();this._function=this._connection=null;d.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b){this._function=a;this._connection=b;return this},poolId:function(){return"SignalTracker"},__class__:o._WMEventDispatcher.SignalTracker,__properties__:{get_listener:"get_listener"}});
o.WMEventFlow=function(){};m["com.workinman.events.WMEventFlow"]=o.WMEventFlow;o.WMEventFlow.__name__=["com","workinman","events","WMEventFlow"];o.WMEventFlow.__interfaces__=[d.pooling.IStrictPoolable];o.WMEventFlow.request=function(a,b){null==b&&(b=!1);d.WorkinCloud.get_instance().get_pool().initPool("WMEventFlow",o.WMEventFlow);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventFlow").initWithFlow(a,b)};o.WMEventFlow.__super__=o.WMEvent;o.WMEventFlow.prototype=v(o.WMEvent.prototype,
{initWithFlow:function(a,b){o.WMEvent.prototype.init.call(this,o.WMEventFlow.EVENT_FLOW);this.flowId=a;this.targetScreen=b;return this},poolId:function(){return"WMEventFlow"},__class__:o.WMEventFlow});o.WMEventHash=function(){};m["com.workinman.events.WMEventHash"]=o.WMEventHash;o.WMEventHash.__name__=["com","workinman","events","WMEventHash"];o.WMEventHash.__interfaces__=[d.pooling.IStrictPoolable];o.WMEventHash.request=function(a,b){d.WorkinCloud.get_instance().get_pool().initPool("WMEventHash",
o.WMEventHash);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventHash").initWithHash(a,b)};o.WMEventHash.requestWithKeysAndValues=function(a,b){return o.WMEventHash.request(a,d.WorkinUtils.mapWithKeysAndValues(b))};o.WMEventHash.__super__=o.WMEvent;o.WMEventHash.prototype=v(o.WMEvent.prototype,{initWithHash:function(a,b){o.WMEvent.prototype.init.call(this,a);for(var c=b.keys();c.hasNext();){var i=c.next(),d=b.get(i);this.hash.set(i,d)}return this},destroy:function(){this.hash=null;
o.WMEvent.prototype.destroy.call(this)},dispose:function(){d.WorkinUtils.emptyMap(this.hash);o.WMEvent.prototype.dispose.call(this)},poolId:function(){return"WMEventHash"},build:function(a){this.hash=new w.StringMap;return o.WMEvent.prototype.build.call(this,a)},__class__:o.WMEventHash});o.WMEventInput=function(){};m["com.workinman.events.WMEventInput"]=o.WMEventInput;o.WMEventInput.__name__=["com","workinman","events","WMEventInput"];o.WMEventInput.__interfaces__=[d.pooling.IStrictPoolable];o.WMEventInput.request=
function(a,b,c,i,e){d.WorkinCloud.get_instance().get_pool().initPool("WMEventInput",o.WMEventInput);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventInput").initWithInput(a,b,c,i,e)};o.WMEventInput.__super__=o.WMEvent;o.WMEventInput.prototype=v(o.WMEvent.prototype,{poolId:function(){return"WMEventInput"},initWithInput:function(a,b,c,i,e){o.WMEvent.prototype.init.call(this,o.WMEventInput.EVENT_INPUT);this.phase=a;this.input=b;this.x=c;this.y=i;this.swipe=e;null==this.swipe&&(this.swipe=
d.SWIPE.SWIPE_NONE);return this},__class__:o.WMEventInput});o.WMEventInterfaceChange=function(){};m["com.workinman.events.WMEventInterfaceChange"]=o.WMEventInterfaceChange;o.WMEventInterfaceChange.__name__=["com","workinman","events","WMEventInterfaceChange"];o.WMEventInterfaceChange.__interfaces__=[d.pooling.IStrictPoolable];o.WMEventInterfaceChange.request=function(a,b,c){null==b&&(b="");d.WorkinCloud.get_instance().get_pool().initPool("WMEventInterfaceChange",o.WMEventInterfaceChange);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventInterfaceChange").initWithInterfaceChange(a,
b,c)};o.WMEventInterfaceChange.__super__=o.WMEvent;o.WMEventInterfaceChange.prototype=v(o.WMEvent.prototype,{destroy:function(){this.customData=null;o.WMEvent.prototype.destroy.call(this)},dispose:function(){d.WorkinUtils.emptyMap(this.customData);o.WMEvent.prototype.dispose.call(this)},initWithInterfaceChange:function(a,b,c){o.WMEvent.prototype.init.call(this,o.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT);this.flowId=a;this.screenId=b;if(null!=c)for(a=c.keys();a.hasNext();){var b=a.next(),i=c.get(b);
this.customData.set(b,i)}return this},build:function(a){this.customData=new w.StringMap;return o.WMEvent.prototype.build.call(this,a)},poolId:function(){return"WMEventInterfaceChange"},__class__:o.WMEventInterfaceChange});o.WMEventScreenOut=function(){};m["com.workinman.events.WMEventScreenOut"]=o.WMEventScreenOut;o.WMEventScreenOut.__name__=["com","workinman","events","WMEventScreenOut"];o.WMEventScreenOut.__interfaces__=[d.pooling.IStrictPoolable];o.WMEventScreenOut.request=function(a,b){d.WorkinCloud.get_instance().get_pool().initPool("WMEventScreenOut",
o.WMEventScreenOut);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventScreenOut").initWithScreenOut(a,b)};o.WMEventScreenOut.__super__=o.WMEvent;o.WMEventScreenOut.prototype=v(o.WMEvent.prototype,{initWithScreenOut:function(a,b){this.flowId=a;this.screenId=b;o.WMEvent.prototype.init.call(this,o.WMEventScreenOut.EVENT_SCREEN_OUTPUT);return this},poolId:function(){return"WMEventScreenOut"},__class__:o.WMEventScreenOut});o.WMEventUpdate=function(){};m["com.workinman.events.WMEventUpdate"]=
o.WMEventUpdate;o.WMEventUpdate.__name__=["com","workinman","events","WMEventUpdate"];o.WMEventUpdate.__interfaces__=[d.pooling.IStrictPoolable];o.WMEventUpdate.request=function(a){d.WorkinCloud.get_instance().get_pool().initPool("WMEventUpdate",o.WMEventUpdate);return d.WorkinCloud.get_instance().get_pool().requestObject("WMEventUpdate").initWithUpdate(a)};o.WMEventUpdate.__super__=o.WMEvent;o.WMEventUpdate.prototype=v(o.WMEvent.prototype,{get_dt:function(){return this._dt},poolId:function(){return"WMEventUpdate"},
initWithUpdate:function(a){o.WMEvent.prototype.init.call(this,o.WMEventUpdate.EVENT_UPDATE);this._dt=a;return this},__class__:o.WMEventUpdate,__properties__:v(o.WMEvent.prototype.__properties__,{get_dt:"get_dt"})});f={};f.InterceptResult=function(a,b){this._success=a;this._result=f.WorkinPoint.request();this._line1=f.WorkinLine.request();this._line2=f.WorkinLine.request();null!=b&&this._result.toPoint(b)};m["com.workinman.math.InterceptResult"]=f.InterceptResult;f.InterceptResult.__name__=["com",
"workinman","math","InterceptResult"];f.InterceptResult.prototype={set_result:function(a){null==a?this._result.to(0,0):this._result.toPoint(a);return this._result},set_success:function(a){return this._success=a},__class__:f.InterceptResult};f.Side=m["com.workinman.math.Side"]={__ename__:["com","workinman","math","Side"],__constructs__:["TOP","RIGHT","BOTTOM","LEFT"]};f.Side.TOP=["TOP",0];f.Side.TOP.toString=n;f.Side.TOP.__enum__=f.Side;f.Side.RIGHT=["RIGHT",1];f.Side.RIGHT.toString=n;f.Side.RIGHT.__enum__=
f.Side;f.Side.BOTTOM=["BOTTOM",2];f.Side.BOTTOM.toString=n;f.Side.BOTTOM.__enum__=f.Side;f.Side.LEFT=["LEFT",3];f.Side.LEFT.toString=n;f.Side.LEFT.__enum__=f.Side;f.WMRectangle=function(){};m["com.workinman.math.WMRectangle"]=f.WMRectangle;f.WMRectangle.__name__=["com","workinman","math","WMRectangle"];f.WMRectangle.__interfaces__=[d.pooling.IStrictPoolable];f.WMRectangle.request=function(a,b,c,i){null==i&&(i=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);d.WorkinCloud.get_instance().get_pool().initPool("WMRectangle",
f.WMRectangle);return d.WorkinCloud.get_instance().get_pool().requestObject("WMRectangle").init(a,b,c,i)};f.WMRectangle.fromRectangle=function(a){return f.WMRectangle.request(a.x,a.y,a.width,a.height)};f.WMRectangle.__super__=d.pooling.PoolStrictBase;f.WMRectangle.prototype=v(d.pooling.PoolStrictBase.prototype,{toString:function(){return"{ WMRectangle x: "+this._x+" y: "+this._y+" width: "+this._width+" height: "+this._height+" }"},sideLineIntercept:function(a,b,c){null==this._workLine?(this._setSideLine(b),
null):this._setSideLine(b);return this._workLine.testLineSegmentIntercept(a,!1,c)},_setSideLine:function(a){this._getWorkLine();switch(a[1]){case 0:this._workLine.toFloats(this.get_left(),this.get_top(),this.get_right(),this.get_top());break;case 1:this._workLine.toFloats(this.get_right(),this.get_top(),this.get_right(),this.get_bottom());break;case 2:this._workLine.toFloats(this.get_left(),this.get_bottom(),this.get_right(),this.get_bottom());break;case 3:this._workLine.toFloats(this.get_left(),
this.get_top(),this.get_left(),this.get_bottom())}},intersection:function(a){var b=f.WMRectangle.request();if(this.intersects(a)){b.set_x(this.get_left()>a.get_left()?this.get_left():a.get_left());b.set_y(this.get_top()>a.get_top()?this.get_top():a.get_top());var c=this.get_right()<a.get_right()?this.get_right():a.get_right(),a=this.get_bottom()<a.get_bottom()?this.get_bottom():a.get_bottom();b.set_width(c-b.get_x());b.set_height(a-b.get_y())}return b},intersects:function(a){return this.get_left()<
a.get_right()&&this.get_right()>a.get_left()&&this.get_top()<a.get_bottom()&&this.get_bottom()>a.get_top()},containsPoint:function(a){return this.contains(a.x,a.y)},toXYWH:function(a,b,c,i){this.toXY(a,b);this.toWH(c,i)},toWH:function(a,b){this.set_width(a);this.set_height(b)},toXY:function(a,b){this.set_x(a);this.set_y(b)},contains:function(a,b){return a<this.get_left()||a>this.get_right()||b>this.get_bottom()||b<this.get_top()?!1:!0},copy:function(){return f.WMRectangle.request(this._x,this._y,
this._width,this._height)},set_centerY:function(a){this._y=a-this._height/2;return this.get_centerY()},get_centerY:function(){return this._y+this._height/2},set_centerX:function(a){this._x=a-this._width/2;return this.get_centerX()},get_centerX:function(){return this._x+this._width/2},set_right:function(a){this._x=a-this._width;return this.get_right()},get_right:function(){return this._x+this._width},set_bottom:function(a){this._y=a-this._height;return this.get_bottom()},get_bottom:function(){return this._y+
this._height},set_height:function(a){return this._height=a},get_height:function(){return this._height},set_width:function(a){return this._width=a},get_width:function(){return this._width},set_left:function(a){return this._x=a},get_left:function(){return this._x},set_top:function(a){return this._y=a},get_top:function(){return this._y},set_y:function(a){return this._y=a},get_y:function(){return this._y},set_x:function(a){return this._x=a},get_x:function(){return this._x},_getWorkLine:function(){null==
this._workLine&&(this._workLine=f.WorkinLine.request());return this._workLine},dispose:function(){null!=this._workLine&&this._workLine.dispose();this._workLine=null;d.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,c,i){this._x=a;this._y=b;this._width=c;this._height=i;return this},build:function(a){this._workLine=null;return d.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WMRectangle"},__class__:f.WMRectangle,__properties__:{set_x:"set_x",get_x:"get_x",
set_y:"set_y",get_y:"get_y",set_top:"set_top",get_top:"get_top",set_left:"set_left",get_left:"get_left",set_width:"set_width",get_width:"get_width",set_height:"set_height",get_height:"get_height",set_bottom:"set_bottom",get_bottom:"get_bottom",set_right:"set_right",get_right:"get_right",set_centerX:"set_centerX",get_centerX:"get_centerX",set_centerY:"set_centerY",get_centerY:"get_centerY"}});f.WorkinCamera=function(a,b){this._screenCenterX=this._worldCenterX=a;this._screenCenterY=this._worldCenterY=
b;this._focalLength=300;this._pos=f.WorkinPoint.request(a,b)};m["com.workinman.math.WorkinCamera"]=f.WorkinCamera;f.WorkinCamera.__name__=["com","workinman","math","WorkinCamera"];f.WorkinCamera.prototype={get_screenCenterY:function(){return this._screenCenterY},get_screenCenterX:function(){return this._screenCenterX},get_pos:function(){return this._pos},dispose:function(){this._pos.dispose();this._pos=null},__class__:f.WorkinCamera};f.WorkinLine=function(){};m["com.workinman.math.WorkinLine"]=f.WorkinLine;
f.WorkinLine.__name__=["com","workinman","math","WorkinLine"];f.WorkinLine.__interfaces__=[d.pooling.IStrictPoolable];f.WorkinLine.request=function(a,b,c,i){null==i&&(i=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);d.WorkinCloud.get_instance().get_pool().initPool("WorkinLine",f.WorkinLine);return d.WorkinCloud.get_instance().get_pool().requestObject("WorkinLine").init(a,b,c,i)};f.WorkinLine.__super__=d.pooling.PoolStrictBase;f.WorkinLine.prototype=v(d.pooling.PoolStrictBase.prototype,{toString:function(){return"[WorkinLine] ("+
this._p0.x+", "+this._p0.y+", "+this._p0.z+") ~> ("+this._p1.x+", "+this._p1.y+", "+this._p1.z+") / Len: "+this._length},testPointSegmentIntercept:function(a,b){null==b&&(b=!1);this._xSegmentResult=0==this._parametricDenom.x?0:(a.x-this.get_p0().x)/this._parametricDenom.x;this._ySegmentResult=0==this._parametricDenom.y?0:(a.y-this.get_p0().y)/this._parametricDenom.y;b&&null;return 0<=this._xSegmentResult&&1>=this._xSegmentResult&&0<=this._ySegmentResult&&1>=this._ySegmentResult?!0:!1},testLineSegmentIntercept:function(a,
b,c){var i=-a.get_vector().x*this._vector.y+this._vector.x*a.get_vector().y,d=this.get_p0().x-a.get_p0().x,e=this.get_p0().y-a.get_p0().y,b=(-this._vector.y*d+this._vector.x*e)/i,a=(a.get_vector().x*e-a.get_vector().y*d)/i;null==c&&(c=new f.InterceptResult(!1));c.set_success(!1);0<=b&&1>=b&&0<=a&&1>=a&&(c.set_success(!0),a=f.WorkinPoint.request(this.get_p0().x+a*this._vector.x,this.get_p0().y+a*this._vector.y),c.set_result(a),a.dispose());return c},testLineIntercept:function(a,b){null==b&&(b=new f.InterceptResult(!1));
this._inverseDeterminate=1/(-1*this._slope- -1*a.get_slope());b.set_success(!0);var c=f.WorkinPoint.request((-1*a.get_yIntercept()- -1*this._yIntercept)*this._inverseDeterminate,(a.get_slope()*this._yIntercept-this.get_slope()*a.get_yIntercept())*this._inverseDeterminate,0);b.set_result(c);c.dispose();return b},projectOntoLine:function(a){var b=a.get_vector().dot(this.get_vector().normalizeCopy());return f.WorkinLine.request().to(a.get_p0(),a.get_p1().addPointCopy(this._normal.copyAndResize(Math.sqrt(a.get_length()*
a.get_length()-b*b))))},testLineDot:function(a){return this._vector.dot(a.get_normal())},_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-this._p1.x)*(this._p0.x-this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector.to(this.get_p1().x-this.get_p0().x,this.get_p1().y-this.get_p0().y);this._slope=this._vector.y/this._vector.x;0==this.get_vector().x&&(this._slope=1E5);this._yIntercept=this.get_p0().y-this._slope*this.get_p0().x;this._parametricDenom.to(this.get_p1().x-
this.get_p0().x,this.get_p1().y-this.get_p0().y);this._vector.pseudoCross(this._normal);this._normal.normalize()},shiftEnd:function(a){this.set_length(this.get_length()+a)},shiftOrigin:function(a){var b=this._vector.reverseCopy();b.set_length(a);this._p0.addPoint(b);b.dispose();this._calcProperties()},rotateTo:function(a){this._vector.rotateTo(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));this._calcProperties()},rotate:function(a){this._vector.rotate(a);this._p1.toPoint(this._p0.addPointCopy(this._vector));
this._calcProperties()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},endTo:function(a,b,c){null==c&&(c=0);this._p1.to(a,b,c);this._calcProperties()},originToPoint:function(a){this._p0.toPoint(a);this._calcProperties()},originTo:function(a,b,c){null==c&&(c=0);this._p0.to(a,b,c);this._calcProperties();return this},toFloats:function(a,b,c,i){this._p0.to(a,b);this._p1.to(c,i);this._calcProperties();return this},toLine:function(a){this._p0.toPoint(a.get_p0());this._p1.toPoint(a.get_p1());
this._calcProperties();return this},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties();return this},copy:function(){return f.WorkinLine.request().to(this._p0,this._p1)},clean:function(){this._p0.clean();this._p1.clean();this._calcProperties()},flip:function(){var a=this._p0.copy();this._p0.toPoint(this._p1);this._p1.toPoint(a);a.dispose();this._calcProperties()},equals:function(a){return a.get_p0().equals(this.get_p0())&&a.get_p1().equals(this.get_p1())},getNewPoint:function(a){return f.WorkinPoint.request(this.get_p0().x+
this._vector.x*a,this.get_p0().y+this._vector.y*a)},recalculate:function(){this._calcProperties()},set_length:function(a){if(0==this.get_length())return this._length;this._p1.to(this._p0.x+this._vector.x*(a/this.get_length()),this._p0.y+this._vector.y*(a/this.get_length()));this._calcProperties();return this._length},get_length:function(){return this._length},get_parametricDenom:function(){return this._parametricDenom},get_centerY:function(){return this._p0.y+this._vector.y/2},get_centerX:function(){return this._p0.x+
this._vector.x/2},get_center:function(){return f.WorkinPoint.request(this._p0.x+this._vector.x/2,this._p0.y+this._vector.y/2)},get_vector:function(){return this._vector},get_normal:function(){return this._normal},get_yIntercept:function(){return this._yIntercept},get_slope:function(){return this._slope},get_p1:function(){return this._p1},get_p0:function(){return this._p0},dispose:function(){this._p0.dispose();this._p0=null;this._p1.dispose();this._p1=null;this._normal.dispose();this._normal=null;
this._vector.dispose();this._vector=null;this._parametricDenom.dispose();this._parametricDenom=null;d.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,c,i){this._p0=f.WorkinPoint.request();this._p1=f.WorkinPoint.request();this._normal=f.WorkinPoint.request();this._vector=f.WorkinPoint.request();this._parametricDenom=f.WorkinPoint.request();this.toFloats(a,b,c,i);this._calcProperties();return this},build:function(a){return d.pooling.PoolStrictBase.prototype.build.call(this,a)},
poolId:function(){return"WorkinLine"},__class__:f.WorkinLine,__properties__:{get_p0:"get_p0",get_p1:"get_p1",get_slope:"get_slope",get_yIntercept:"get_yIntercept",get_normal:"get_normal",get_vector:"get_vector",get_center:"get_center",get_centerX:"get_centerX",get_centerY:"get_centerY",get_parametricDenom:"get_parametricDenom",set_length:"set_length",get_length:"get_length"}});f.WorkinPoint=function(){};m["com.workinman.math.WorkinPoint"]=f.WorkinPoint;f.WorkinPoint.__name__=["com","workinman","math",
"WorkinPoint"];f.WorkinPoint.__interfaces__=[d.pooling.IStrictPoolable];f.WorkinPoint.request=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);d.WorkinCloud.get_instance().get_pool().initPool("WorkinPoint",f.WorkinPoint);return d.WorkinCloud.get_instance().get_pool().requestObject("WorkinPoint").init(a,b,c)};f.WorkinPoint.__super__=d.pooling.PoolStrictBase;f.WorkinPoint.prototype=v(d.pooling.PoolStrictBase.prototype,{dot:function(a){return this.x*a.x+this.y*a.y},toString:function(){return"{ WorkinPoint : "+
this.x+" , "+this.y+" , "+this.z+" , len: "+this._length+"  }"},get_normalizedMagnitude:function(){var a=this.normalizeCopy(),b=Math.sqrt(a.x*a.x+a.y*a.y);a.dispose();return b},rotateCopy:function(a){var b=Math.cos(a*Math.PI/180),a=Math.sin(a*Math.PI/180);return f.WorkinPoint.request(this.x*b-this.y*a,this.x*a-this.y*b)},getAngleBetween:function(a){return 0==a.get_length()||0==this.get_length()?0:180/Math.PI*Math.acos((a.x*this.x+a.y*this.y)/(a.get_length()*this.get_length()))},rotateTo:function(a){this.rotate(a-
this.get_angle())},rotate:function(a){a*=Math.PI/180;this._workFloat=this.x*Math.cos(a)-this.y*Math.sin(a);this.y=this.y*Math.cos(a)+this.x*Math.sin(a);this.x=this._workFloat},calculateLength:function(){this._length=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},pseudoCross:function(a){a.to(this.y,-this.x,this.z)},normalizeCopyTo:function(a){if(0==this._length)return f.WorkinPoint.request(0,0,0);this._workFloat=a/this._length;return f.WorkinPoint.request(this.x*this._workFloat,this.y*this._workFloat,
this.z*this._workFloat)},normalizeCopy:function(){return 0==this._length?f.WorkinPoint.request(0,0,0):f.WorkinPoint.request(this.x/this._length,this.y/this._length,this.z/this._length)},normalizeTo:function(a){this.set_length(a)},normalize:function(){0!=this._length&&(this.x/=this._length,this.y/=this._length,this.z/=this._length,this.calculateLength())},reverseCopy:function(){return f.WorkinPoint.request(-1*this.x,-1*this.y,-1*this.z)},set_length:function(a){if(0==this._length||0>=a)return this.to(0,
0),this._length;this.multiply(a/this._length);return this._length},get_length:function(){return this._length},equals:function(a){return this.x==a.x&&this.y==a.y&&this.z==a.z},copyAndResize:function(a){return 0==a?f.WorkinPoint.request(0,0):this.multiplyCopy(a/this._length)},copy:function(){return f.WorkinPoint.request(this.x,this.y,this.z)},reverse:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z},divideCopy:function(a){return f.WorkinPoint.request(this.x/a,this.y/a,this.z/a)},divide:function(a){this.x/=
a;this.y/=a;this.z/=a;this.clean();this.calculateLength()},multiplyCopy:function(a){return f.WorkinPoint.request(this.x*a,this.y*a,this.z*a)},multiply:function(a){this.x*=a;this.y*=a;this.z*=a;this.clean();this.calculateLength()},subtractPointCopy:function(a){return f.WorkinPoint.request(this.x-a.x,this.y-a.y,this.z-a.z)},subtractCopy:function(a,b,c){null==c&&(c=0);return f.WorkinPoint.request(this.x-a,this.y-b,this.z-c)},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength()},
subtract:function(a,b,c){null==c&&(c=0);this.x-=a;this.y-=b;this.z-=c;this.calculateLength()},addPointCopy:function(a){return f.WorkinPoint.request(this.x+a.x,this.y+a.y,this.z+a.z)},addCopy:function(a,b,c){null==c&&(c=0);return f.WorkinPoint.request(this.x+a,this.y+b,this.z+c)},addPoint:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.calculateLength()},add:function(a,b,c){null==c&&(c=0);this.x+=a;this.y+=b;this.z+=c;this.calculateLength()},toPoint:function(a){this.x=a.x;this.y=a.y;this.z=a.z;
this.calculateLength()},to:function(a,b,c){null==c&&(c=0);this.x=a;this.y=b;this.z=c;this.calculateLength();return this},clean:function(){this.x=Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*this.z)/1E3},get_angle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},init:function(a,b,c){return this.to(a,b,c)},poolId:function(){return"WorkinPoint"},__class__:f.WorkinPoint,__properties__:{get_angle:"get_angle",set_length:"set_length",get_length:"get_length",
get_normalizedMagnitude:"get_normalizedMagnitude"}});f.tween={};f.tween.PennerEasing=function(){};m["com.workinman.math.tween.PennerEasing"]=f.tween.PennerEasing;f.tween.PennerEasing.__name__=["com","workinman","math","tween","PennerEasing"];f.tween.PennerEasing.easeInQuad=function(a,b,c,i){return c*(a/=i)*a+b};f.tween.PennerEasing.easeOutQuad=function(a,b,c,i){return-c*(a/=i)*(a-2)+b};f.tween.PennerEasing.easeInOutQuad=function(a,b,c,i){return 1>(a/=i/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};f.tween.PennerEasing.easeInExpo=
function(a,b,c,i){return 0==a?b:c*Math.pow(2,10*(a/i-1))+b};f.tween.PennerEasing.easeOutExpo=function(a,b,c,i){return a==i?b+c:c*(-Math.pow(2,-10*a/i)+1)+b};f.tween.PennerEasing.easeInOutExpo=function(a,b,c,i){return 0==a?b:a==i?b+c:1>(a/=i/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};f.tween.PennerEasing.easeInElastic=function(a,b,c,i){return f.tween.PennerEasing.easeInElasticL(a,b,c,i)};f.tween.PennerEasing.easeInElasticL=function(a,b,c,i,d,e){null==e&&(e=-0.123456);null==d&&(d=
-0.123456);if(0==a)return b;if(1==(a/=i))return b+c;-0.123456==e&&(e=0.3*i);-0.123456==d||d<Math.abs(c)?(d=c,c=e/4):c=e/(2*Math.PI)*Math.asin(c/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin((a*i-c)*2*Math.PI/e))+b};f.tween.PennerEasing.easeOutElastic=function(a,b,c,i){return f.tween.PennerEasing.easeOutElasticL(a,b,c,i)};f.tween.PennerEasing.easeOutElasticL=function(a,b,c,i,d,e){null==e&&(e=-0.123456);null==d&&(d=-0.123456);var f;if(0==a)return b;if(1==(a/=i))return b+c;-0.123456==e&&(e=0.3*i);-0.123456==
d||d<Math.abs(c)?(d=c,f=e/4):f=e/(2*Math.PI)*Math.asin(c/d);return d*Math.pow(2,-10*a)*Math.sin((a*i-f)*2*Math.PI/e)+c+b};f.tween.PennerEasing.easeInOutElastic=function(a,b,c,i){return f.tween.PennerEasing.easeInOutElasticL(a,b,c,i)};f.tween.PennerEasing.easeInOutElasticL=function(a,b,c,i,d,e){null==e&&(e=-0.123456);null==d&&(d=-0.123456);var f;if(0==a)return b;if(2==(a/=i/2))return b+c;-0.123456==e&&(e=i*0.3*1.5);-0.123456==d||d<Math.abs(c)?(d=c,f=e/4):f=e/(2*Math.PI)*Math.asin(c/d);return 1>a?-0.5*
d*Math.pow(2,10*(a-=1))*Math.sin((a*i-f)*2*Math.PI/e)+b:0.5*d*Math.pow(2,-10*(a-=1))*Math.sin((a*i-f)*2*Math.PI/e)+c+b};f.tween.PennerEasing.easeInBack=function(a,b,c,i){return f.tween.PennerEasing.easeInBackL(a,b,c,i)};f.tween.PennerEasing.easeInBackL=function(a,b,c,i,d){null==d&&(d=-0.123456);-0.123456==d&&(d=1.70158);return c*(a/=i)*a*((d+1)*a-d)+b};f.tween.PennerEasing.easeInOutBack=function(a,b,c,i){return f.tween.PennerEasing.easeInOutBackL(a,b,c,i)};f.tween.PennerEasing.easeInOutBackL=function(a,
b,c,i,d){null==d&&(d=-0.123456);-0.123456==d&&(d=1.70158);return 1>(a/=i/2)?c/2*a*a*(((d*=1.525)+1)*a-d)+b:c/2*((a-=2)*a*(((d*=1.525)+1)*a+d)+2)+b};f.tween.PennerEasing.easeOutBounce=function(a,b,c,i){return(a/=i)<1/2.75?c*7.5625*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b};f.tween.PennerEasing.easeInBounce=function(a,b,c,i){return c-f.tween.PennerEasing.easeOutBounce(i-a,0,c,i)+b};f.tween.PennerEasing.easeInOutBounce=
function(a,b,c,i){return a<i/2?0.5*f.tween.PennerEasing.easeInBounce(2*a,0,c,i)+b:0.5*f.tween.PennerEasing.easeOutBounce(2*a-i,0,c,i)+0.5*c+b};f.tween.PennerEasing.easeInCubic=function(a,b,c,i){return c*(a/=i)*a*a+b};f.tween.PennerEasing.easeOutCubic=function(a,b,c,i){return c*((a=a/i-1)*a*a+1)+b};f.tween.PennerEasing.easeInOutCubic=function(a,b,c,i){return 1>(a/=i/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};f.tween.PennerEasing.easeInQuart=function(a,b,c,i){return c*(a/=i)*a*a*a+b};f.tween.PennerEasing.easeOutQuart=
function(a,b,c,i){return-c*((a=a/i-1)*a*a*a-1)+b};f.tween.PennerEasing.easeInOutQuart=function(a,b,c,i){return 1>(a/=i/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};f.tween.PennerEasing.easeInQuint=function(a,b,c,i){return c*(a/=i)*a*a*a*a+b};f.tween.PennerEasing.easeOutQuint=function(a,b,c,i){return c*((a=a/i-1)*a*a*a*a+1)+b};f.tween.PennerEasing.easeInOutQuint=function(a,b,c,i){return 1>(a/=i/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};f.tween.PennerEasing.easeInSine=function(a,b,c,i){return-c*Math.cos(a/
i*(Math.PI/2))+c+b};f.tween.PennerEasing.easeOutSine=function(a,b,c,i){return c*Math.sin(a/i*(Math.PI/2))+b};f.tween.PennerEasing.easeInOutSine=function(a,b,c,i){return-c/2*(Math.cos(Math.PI*a/i)-1)+b};f.tween.PennerEasing.easeInCirc=function(a,b,c,i){return-c*(Math.sqrt(1-(a/=i)*a)-1)+b};f.tween.PennerEasing.easeOutCirc=function(a,b,c,i){return c*Math.sqrt(1-(a=a/i-1)*a)+b};f.tween.PennerEasing.easeInOutCirc=function(a,b,c,i){return 1>(a/=i/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*
a)+1)+b};f.tween.Ease=m["com.workinman.math.tween.Ease"]={__ename__:["com","workinman","math","tween","Ease"],__constructs__:"EASE_IN,EASE_QUAD_IN,EASE_OUT,EASE_QUAD_OUT,EASE,EASE_QUAD,EASE_LINEAR,EASE_EXPO,EASE_EXPO_IN,EASE_EXPO_OUT,EASE_ELASTIC,EASE_ELASTIC_IN,EASE_ELASTIC_OUT,EASE_BUMP,EASE_BUMP_IN,EASE_BUMP_OUT,EASE_BOUNCE,EASE_BOUNCE_IN,EASE_BOUNCE_OUT,EASE_CUBIC,EASE_CUBIC_IN,EASE_CUBIC_OUT,EASE_SPACE,EASE_SPACE_IN,EASE_SPACE_OUT,EASE_BLAST,EASE_BLAST_IN,EASE_BLAST_OUT,EASE_WAVE,EASE_WAVE_IN,EASE_WAVE_OUT,EASE_CIRCLE,EASE_CIRCLE_IN,EASE_CIRCLE_OUT".split(",")};
f.tween.Ease.EASE_IN=["EASE_IN",0];f.tween.Ease.EASE_IN.toString=n;f.tween.Ease.EASE_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_QUAD_IN=["EASE_QUAD_IN",1];f.tween.Ease.EASE_QUAD_IN.toString=n;f.tween.Ease.EASE_QUAD_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_OUT=["EASE_OUT",2];f.tween.Ease.EASE_OUT.toString=n;f.tween.Ease.EASE_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_QUAD_OUT=["EASE_QUAD_OUT",3];f.tween.Ease.EASE_QUAD_OUT.toString=n;f.tween.Ease.EASE_QUAD_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE=
["EASE",4];f.tween.Ease.EASE.toString=n;f.tween.Ease.EASE.__enum__=f.tween.Ease;f.tween.Ease.EASE_QUAD=["EASE_QUAD",5];f.tween.Ease.EASE_QUAD.toString=n;f.tween.Ease.EASE_QUAD.__enum__=f.tween.Ease;f.tween.Ease.EASE_LINEAR=["EASE_LINEAR",6];f.tween.Ease.EASE_LINEAR.toString=n;f.tween.Ease.EASE_LINEAR.__enum__=f.tween.Ease;f.tween.Ease.EASE_EXPO=["EASE_EXPO",7];f.tween.Ease.EASE_EXPO.toString=n;f.tween.Ease.EASE_EXPO.__enum__=f.tween.Ease;f.tween.Ease.EASE_EXPO_IN=["EASE_EXPO_IN",8];f.tween.Ease.EASE_EXPO_IN.toString=
n;f.tween.Ease.EASE_EXPO_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_EXPO_OUT=["EASE_EXPO_OUT",9];f.tween.Ease.EASE_EXPO_OUT.toString=n;f.tween.Ease.EASE_EXPO_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_ELASTIC=["EASE_ELASTIC",10];f.tween.Ease.EASE_ELASTIC.toString=n;f.tween.Ease.EASE_ELASTIC.__enum__=f.tween.Ease;f.tween.Ease.EASE_ELASTIC_IN=["EASE_ELASTIC_IN",11];f.tween.Ease.EASE_ELASTIC_IN.toString=n;f.tween.Ease.EASE_ELASTIC_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_ELASTIC_OUT=["EASE_ELASTIC_OUT",
12];f.tween.Ease.EASE_ELASTIC_OUT.toString=n;f.tween.Ease.EASE_ELASTIC_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_BUMP=["EASE_BUMP",13];f.tween.Ease.EASE_BUMP.toString=n;f.tween.Ease.EASE_BUMP.__enum__=f.tween.Ease;f.tween.Ease.EASE_BUMP_IN=["EASE_BUMP_IN",14];f.tween.Ease.EASE_BUMP_IN.toString=n;f.tween.Ease.EASE_BUMP_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_BUMP_OUT=["EASE_BUMP_OUT",15];f.tween.Ease.EASE_BUMP_OUT.toString=n;f.tween.Ease.EASE_BUMP_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_BOUNCE=
["EASE_BOUNCE",16];f.tween.Ease.EASE_BOUNCE.toString=n;f.tween.Ease.EASE_BOUNCE.__enum__=f.tween.Ease;f.tween.Ease.EASE_BOUNCE_IN=["EASE_BOUNCE_IN",17];f.tween.Ease.EASE_BOUNCE_IN.toString=n;f.tween.Ease.EASE_BOUNCE_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_BOUNCE_OUT=["EASE_BOUNCE_OUT",18];f.tween.Ease.EASE_BOUNCE_OUT.toString=n;f.tween.Ease.EASE_BOUNCE_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_CUBIC=["EASE_CUBIC",19];f.tween.Ease.EASE_CUBIC.toString=n;f.tween.Ease.EASE_CUBIC.__enum__=f.tween.Ease;
f.tween.Ease.EASE_CUBIC_IN=["EASE_CUBIC_IN",20];f.tween.Ease.EASE_CUBIC_IN.toString=n;f.tween.Ease.EASE_CUBIC_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_CUBIC_OUT=["EASE_CUBIC_OUT",21];f.tween.Ease.EASE_CUBIC_OUT.toString=n;f.tween.Ease.EASE_CUBIC_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_SPACE=["EASE_SPACE",22];f.tween.Ease.EASE_SPACE.toString=n;f.tween.Ease.EASE_SPACE.__enum__=f.tween.Ease;f.tween.Ease.EASE_SPACE_IN=["EASE_SPACE_IN",23];f.tween.Ease.EASE_SPACE_IN.toString=n;f.tween.Ease.EASE_SPACE_IN.__enum__=
f.tween.Ease;f.tween.Ease.EASE_SPACE_OUT=["EASE_SPACE_OUT",24];f.tween.Ease.EASE_SPACE_OUT.toString=n;f.tween.Ease.EASE_SPACE_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_BLAST=["EASE_BLAST",25];f.tween.Ease.EASE_BLAST.toString=n;f.tween.Ease.EASE_BLAST.__enum__=f.tween.Ease;f.tween.Ease.EASE_BLAST_IN=["EASE_BLAST_IN",26];f.tween.Ease.EASE_BLAST_IN.toString=n;f.tween.Ease.EASE_BLAST_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_BLAST_OUT=["EASE_BLAST_OUT",27];f.tween.Ease.EASE_BLAST_OUT.toString=n;f.tween.Ease.EASE_BLAST_OUT.__enum__=
f.tween.Ease;f.tween.Ease.EASE_WAVE=["EASE_WAVE",28];f.tween.Ease.EASE_WAVE.toString=n;f.tween.Ease.EASE_WAVE.__enum__=f.tween.Ease;f.tween.Ease.EASE_WAVE_IN=["EASE_WAVE_IN",29];f.tween.Ease.EASE_WAVE_IN.toString=n;f.tween.Ease.EASE_WAVE_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_WAVE_OUT=["EASE_WAVE_OUT",30];f.tween.Ease.EASE_WAVE_OUT.toString=n;f.tween.Ease.EASE_WAVE_OUT.__enum__=f.tween.Ease;f.tween.Ease.EASE_CIRCLE=["EASE_CIRCLE",31];f.tween.Ease.EASE_CIRCLE.toString=n;f.tween.Ease.EASE_CIRCLE.__enum__=
f.tween.Ease;f.tween.Ease.EASE_CIRCLE_IN=["EASE_CIRCLE_IN",32];f.tween.Ease.EASE_CIRCLE_IN.toString=n;f.tween.Ease.EASE_CIRCLE_IN.__enum__=f.tween.Ease;f.tween.Ease.EASE_CIRCLE_OUT=["EASE_CIRCLE_OUT",33];f.tween.Ease.EASE_CIRCLE_OUT.toString=n;f.tween.Ease.EASE_CIRCLE_OUT.__enum__=f.tween.Ease;f.tween.PennerManager=function(){};m["com.workinman.math.tween.PennerManager"]=f.tween.PennerManager;f.tween.PennerManager.__name__=["com","workinman","math","tween","PennerManager"];f.tween.PennerManager.getEaseFunction=
function(a){switch(a[1]){case 0:case 1:return f.tween.PennerManager._tweenEaseIn;case 2:case 3:return f.tween.PennerManager._tweenEaseOut;case 4:case 5:return f.tween.PennerManager._tweenEaseBoth;case 7:return f.tween.PennerManager._tweenExpoBoth;case 8:return f.tween.PennerManager._tweenExpoIn;case 9:return f.tween.PennerManager._tweenExpoOut;case 10:return f.tween.PennerManager._tweenElasticBoth;case 11:return f.tween.PennerManager._tweenElasticIn;case 12:return f.tween.PennerManager._tweenElasticOut;
case 13:return f.tween.PennerManager._tweenBumpBoth;case 14:return f.tween.PennerManager._tweenBumpIn;case 15:return f.tween.PennerManager._tweenBumpBoth;case 16:return f.tween.PennerManager._tweenBounceBoth;case 17:return f.tween.PennerManager._tweenBounceIn;case 18:return f.tween.PennerManager._tweenBounceOut;case 19:return f.tween.PennerManager._tweenCubicBoth;case 20:return f.tween.PennerManager._tweenCubicIn;case 21:return f.tween.PennerManager._tweenCubicOut;case 22:return f.tween.PennerManager._tweenSpaceBoth;
case 23:return f.tween.PennerManager._tweenSpaceIn;case 24:return f.tween.PennerManager._tweenSpaceOut;case 25:return f.tween.PennerManager._tweenBlastBoth;case 26:return f.tween.PennerManager._tweenBlastIn;case 27:return f.tween.PennerManager._tweenBlastOut;case 28:return f.tween.PennerManager._tweenWaveBoth;case 29:return f.tween.PennerManager._tweenWaveIn;case 30:return f.tween.PennerManager._tweenWaveOut;case 31:return f.tween.PennerManager._tweenCircleBoth;case 32:return f.tween.PennerManager._tweenCircleIn;
case 33:return f.tween.PennerManager._tweenCircleOut;case 6:return f.tween.PennerManager._tweenLinear}};f.tween.PennerManager._tweenLinear=function(a,b,c,i){return a+c/i*b};f.tween.PennerManager._tweenEaseBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutQuad(c,a,b,i)};f.tween.PennerManager._tweenEaseIn=function(a,b,c,i){return f.tween.PennerEasing.easeInQuad(c,a,b,i)};f.tween.PennerManager._tweenEaseOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutQuad(c,a,b,i)};f.tween.PennerManager._tweenExpoBoth=
function(a,b,c,i){return f.tween.PennerEasing.easeInOutExpo(c,a,b,i)};f.tween.PennerManager._tweenExpoIn=function(a,b,c,i){return f.tween.PennerEasing.easeInExpo(c,a,b,i)};f.tween.PennerManager._tweenExpoOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutExpo(c,a,b,i)};f.tween.PennerManager._tweenElasticBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutElastic(c,a,b,i)};f.tween.PennerManager._tweenElasticIn=function(a,b,c,i){return f.tween.PennerEasing.easeInElastic(c,a,b,i)};f.tween.PennerManager._tweenElasticOut=
function(a,b,c,i){return f.tween.PennerEasing.easeOutElastic(c,a,b,i)};f.tween.PennerManager._tweenBumpBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutBack(c,a,b,i)};f.tween.PennerManager._tweenBumpIn=function(a,b,c,i){return f.tween.PennerEasing.easeInBack(c,a,b,i)};f.tween.PennerManager._tweenBounceBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutBounce(c,a,b,i)};f.tween.PennerManager._tweenBounceIn=function(a,b,c,i){return f.tween.PennerEasing.easeInBounce(c,a,b,i)};f.tween.PennerManager._tweenBounceOut=
function(a,b,c,i){return f.tween.PennerEasing.easeOutBounce(c,a,b,i)};f.tween.PennerManager._tweenCubicBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutCubic(c,a,b,i)};f.tween.PennerManager._tweenCubicIn=function(a,b,c,i){return f.tween.PennerEasing.easeInCubic(c,a,b,i)};f.tween.PennerManager._tweenCubicOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutCubic(c,a,b,i)};f.tween.PennerManager._tweenSpaceBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutQuart(c,a,b,i)};f.tween.PennerManager._tweenSpaceIn=
function(a,b,c,i){return f.tween.PennerEasing.easeInQuart(c,a,b,i)};f.tween.PennerManager._tweenSpaceOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutQuart(c,a,b,i)};f.tween.PennerManager._tweenBlastBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutQuint(c,a,b,i)};f.tween.PennerManager._tweenBlastIn=function(a,b,c,i){return f.tween.PennerEasing.easeInQuint(c,a,b,i)};f.tween.PennerManager._tweenBlastOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutQuint(c,a,b,i)};f.tween.PennerManager._tweenWaveBoth=
function(a,b,c,i){return f.tween.PennerEasing.easeInOutSine(c,a,b,i)};f.tween.PennerManager._tweenWaveIn=function(a,b,c,i){return f.tween.PennerEasing.easeInSine(c,a,b,i)};f.tween.PennerManager._tweenWaveOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutSine(c,a,b,i)};f.tween.PennerManager._tweenCircleBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutCirc(c,a,b,i)};f.tween.PennerManager._tweenCircleIn=function(a,b,c,i){return f.tween.PennerEasing.easeInCirc(c,a,b,i)};f.tween.PennerManager._tweenCircleOut=
function(a,b,c,i){return f.tween.PennerEasing.easeOutCirc(c,a,b,i)};f.tween.TWEEN_DIR=m["com.workinman.math.tween.TWEEN_DIR"]={__ename__:["com","workinman","math","tween","TWEEN_DIR"],__constructs__:"TOP,TOP_RIGHT,RIGHT,BOTTOM_RIGHT,BOTTOM,BOTTOM_LEFT,LEFT,TOP_LEFT".split(",")};f.tween.TWEEN_DIR.TOP=["TOP",0];f.tween.TWEEN_DIR.TOP.toString=n;f.tween.TWEEN_DIR.TOP.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.TOP_RIGHT=["TOP_RIGHT",1];f.tween.TWEEN_DIR.TOP_RIGHT.toString=n;f.tween.TWEEN_DIR.TOP_RIGHT.__enum__=
f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.RIGHT=["RIGHT",2];f.tween.TWEEN_DIR.RIGHT.toString=n;f.tween.TWEEN_DIR.RIGHT.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.BOTTOM_RIGHT=["BOTTOM_RIGHT",3];f.tween.TWEEN_DIR.BOTTOM_RIGHT.toString=n;f.tween.TWEEN_DIR.BOTTOM_RIGHT.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.BOTTOM=["BOTTOM",4];f.tween.TWEEN_DIR.BOTTOM.toString=n;f.tween.TWEEN_DIR.BOTTOM.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.BOTTOM_LEFT=["BOTTOM_LEFT",5];f.tween.TWEEN_DIR.BOTTOM_LEFT.toString=
n;f.tween.TWEEN_DIR.BOTTOM_LEFT.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.LEFT=["LEFT",6];f.tween.TWEEN_DIR.LEFT.toString=n;f.tween.TWEEN_DIR.LEFT.__enum__=f.tween.TWEEN_DIR;f.tween.TWEEN_DIR.TOP_LEFT=["TOP_LEFT",7];f.tween.TWEEN_DIR.TOP_LEFT.toString=n;f.tween.TWEEN_DIR.TOP_LEFT.__enum__=f.tween.TWEEN_DIR;f.tween.WorkinTweenUtils=function(){};m["com.workinman.math.tween.WorkinTweenUtils"]=f.tween.WorkinTweenUtils;f.tween.WorkinTweenUtils.__name__=["com","workinman","math","tween","WorkinTweenUtils"];
f.tween.WorkinTweenUtils.easeBounceIn=function(a,b,c,i){null==i&&(i=0);null==c&&(c=!0);f.tween.WorkinTweenUtils._storeScaleFlipState(a);c&&(a.get_renderable().visible=!0,a.get_renderable().scaleX=0.1*f.tween.WorkinTweenUtils._flipX,a.get_renderable().scaleY=0.1*f.tween.WorkinTweenUtils._flipY,a.get_renderable().alpha=0);b.tween(a.get_renderable(),0.15,{scaleX:1.1*f.tween.WorkinTweenUtils._flipX,scaleY:1.1*f.tween.WorkinTweenUtils._flipY,alpha:1},!0,f.tween.Ease.EASE_OUT,i);return b.tween(a.get_renderable(),
0.15,{scaleX:f.tween.WorkinTweenUtils._flipX,scaleY:f.tween.WorkinTweenUtils._flipY},!1,f.tween.Ease.EASE_IN)};f.tween.WorkinTweenUtils.easeBounceOut=function(a,b,c,i){null==i&&(i=0);null==c&&(c=!1);f.tween.WorkinTweenUtils._storeScaleFlipState(a);c&&(a.get_renderable().visible=!0,a.get_renderable().scaleX=f.tween.WorkinTweenUtils._flipX,a.get_renderable().scaleY=f.tween.WorkinTweenUtils._flipY,a.get_renderable().alpha=1);b.tween(a.get_renderable(),0.15,{scaleX:1.1*f.tween.WorkinTweenUtils._flipX,
scaleY:1.1*f.tween.WorkinTweenUtils._flipY},!0,f.tween.Ease.EASE_OUT,i);return b.tween(a.get_renderable(),0.15,{scaleX:0.1*f.tween.WorkinTweenUtils._flipX,scaleY:0.1*f.tween.WorkinTweenUtils._flipY,alpha:0},!1,f.tween.Ease.EASE_IN)};f.tween.WorkinTweenUtils.easeSlideInFromDir=function(a,b,c,i){null==i&&(i=0);f.tween.WorkinTweenUtils.get__workPoint().toPoint(a.get_pos());f.tween.WorkinTweenUtils._modifyWorkPointByDir(c);return f.tween.WorkinTweenUtils.easeSlideIn(a,b,f.tween.WorkinTweenUtils.get__workPoint().x,
f.tween.WorkinTweenUtils.get__workPoint().y,i)};f.tween.WorkinTweenUtils.easeSlideIn=function(a,b,c,i,d){null==d&&(d=0);f.tween.WorkinTweenUtils.get__workPoint().toPoint(a.get_pos());a.get_pos().x=c;a.get_pos().y=i;a.get_renderable().visible=!0;a.get_renderable().alpha=1;return b.tween(a.get_pos(),0.5,{x:f.tween.WorkinTweenUtils.get__workPoint().x,y:f.tween.WorkinTweenUtils.get__workPoint().y},!0,f.tween.Ease.EASE_OUT,d)};f.tween.WorkinTweenUtils.easeSlideOutToDir=function(a,b,c,i){null==i&&(i=0);
f.tween.WorkinTweenUtils.get__workPoint().toPoint(a.get_pos());f.tween.WorkinTweenUtils._modifyWorkPointByDir(c);return f.tween.WorkinTweenUtils.easeSlideOut(a,b,f.tween.WorkinTweenUtils.get__workPoint().x,f.tween.WorkinTweenUtils.get__workPoint().y,i)};f.tween.WorkinTweenUtils.easeSlideOut=function(a,b,c,i,d){null==d&&(d=0);a.get_renderable().visible=!0;a.get_renderable().alpha=1;return b.tween(a.get_pos(),0.5,{x:c,y:i},!0,f.tween.Ease.EASE_IN,d)};f.tween.WorkinTweenUtils._storeScaleFlipState=function(a){f.tween.WorkinTweenUtils._flipX=
0>a.get_renderable().scaleX?-1:1;f.tween.WorkinTweenUtils._flipY=0>a.get_renderable().scaleY?-1:1};f.tween.WorkinTweenUtils.get__workPoint=function(){null==f.tween.WorkinTweenUtils.__workPoint&&(f.tween.WorkinTweenUtils.__workPoint=f.WorkinPoint.request());return f.tween.WorkinTweenUtils.__workPoint};f.tween.WorkinTweenUtils._modifyWorkPointByDir=function(a){switch(a[1]){case 3:case 2:case 1:f.tween.WorkinTweenUtils.get__workPoint().x+=e.ConstantsApp.STAGE_WIDTH;break;case 5:case 6:case 7:f.tween.WorkinTweenUtils.get__workPoint().x-=
e.ConstantsApp.STAGE_WIDTH}switch(a[1]){case 7:case 0:case 1:f.tween.WorkinTweenUtils.get__workPoint().y-=e.ConstantsApp.STAGE_HEIGHT;break;case 5:case 4:case 3:f.tween.WorkinTweenUtils.get__workPoint().y+=e.ConstantsApp.STAGE_HEIGHT}};f.tween.WorkinTweener=function(){};m["com.workinman.math.tween.WorkinTweener"]=f.tween.WorkinTweener;f.tween.WorkinTweener.__name__=["com","workinman","math","tween","WorkinTweener"];f.tween.WorkinTweener.__interfaces__=[d.pooling.IStrictPoolable];f.tween.WorkinTweener.__properties__=
{get__nullTarget:"get__nullTarget"};f.tween.WorkinTweener.request=function(){d.WorkinCloud.get_instance().get_pool().initPool("WorkinTweener",f.tween.WorkinTweener);return d.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweener")};f.tween.WorkinTweener.get__nullTarget=function(){null==f.tween.WorkinTweener.__nullTarget&&(f.tween.WorkinTweener.__nullTarget={});return f.tween.WorkinTweener.__nullTarget};f.tween.WorkinTweener.__super__=d.pooling.PoolStrictBase;f.tween.WorkinTweener.prototype=
v(d.pooling.PoolStrictBase.prototype,{stopAllTweens:function(){for(;0<this._targets.length;)this._targets.pop().dispose()},stop:function(a){for(this._i=this._targets.length;0<this._i;)if(this._i--,this._targets[this._i].get_target()==a){this._targets[this._i].dispose();this._targets.splice(this._i,1);break}},timer:function(a,b){null==b&&(b=0);return this.tween(f.tween.WorkinTweener.get__nullTarget(),a,f.tween.WorkinTweener.get__nullTarget(),!0,null,b,"tim"+f.tween.WorkinTweener._uniqueTimer++)},tween:function(a,
b,c,i,d,e,g){null==g&&(g="def");null==e&&(e=0);null==i&&(i=!1);b=f.tween.WorkinTweenDef.request(a,b,c,d,e);c=0;for(d=this._targets;c<d.length;)if(e=d[c],++c,e.get_target()==a)return i&&e.clearTweens(g),e.addTween(b,g),b;a=f.tween.WorkinTweenTracker.request(a);this._targets.push(a);a.addTween(b,g);return b},update:function(a){for(this._i=this._targets.length;0<this._i--;)this._targets[this._i].update(a),this._targets[this._i].get_isComplete()&&(this._targets[this._i].dispose(),this._targets.splice(this._i,
1))},destroy:function(){this._targets=null;d.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){for(;0<this._targets.length;)this._targets.pop().dispose();d.pooling.PoolStrictBase.prototype.dispose.call(this)},build:function(a){this._targets=[];return d.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WorkinTweener"},__class__:f.tween.WorkinTweener});f.tween.WorkinTweenTracker=function(){};m["com.workinman.math.tween.WorkinTweenTracker"]=f.tween.WorkinTweenTracker;
f.tween.WorkinTweenTracker.__name__=["com","workinman","math","tween","WorkinTweenTracker"];f.tween.WorkinTweenTracker.__interfaces__=[d.pooling.IStrictPoolable];f.tween.WorkinTweenTracker.request=function(a){d.WorkinCloud.get_instance().get_pool().initPool("WorkinTweenTracker",f.tween.WorkinTweenTracker);return d.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweenTracker").init(a)};f.tween.WorkinTweenTracker.__super__=d.pooling.PoolStrictBase;f.tween.WorkinTweenTracker.prototype=v(d.pooling.PoolStrictBase.prototype,
{addTween:function(a,b){if(null==this._tweens.get(b)){this._threadCount++;var c=[];this._tweens.set(b,c);c}this._tweens.get(b).push(a)},_runRemoval:function(){for(;0<f.tween.WorkinTweenTracker._tweenRemoval.length;)this._tweens.remove(f.tween.WorkinTweenTracker._tweenRemoval.pop()),this._threadCount--},clearTweens:function(a){if(null!=this._tweens.get(a)){for(;0<this._tweens.get(a).length;)this._tweens.get(a).pop().dispose();f.tween.WorkinTweenTracker._tweenRemoval.push(a);this._runRemoval()}},clearAllTweens:function(){for(var a=
this._tweens.keys();a.hasNext();){var b=a.next();f.tween.WorkinTweenTracker._tweenUpdate.push(b)}for(;0<f.tween.WorkinTweenTracker._tweenUpdate.length;)this.clearTweens(f.tween.WorkinTweenTracker._tweenUpdate.pop())},set_isComplete:function(a){return this._isComplete=a},get_isComplete:function(){return this._isComplete},get_target:function(){return this._target},_dispatchTweensAllComplete:function(a){d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(F.ConstantsCloud.EVENT_TWEENS_COMPLETE,
{target:a}))},_updateThread:function(a,b){1>this._tweens.get(b).length?f.tween.WorkinTweenTracker._tweenRemoval.push(b):(this._tweens.get(b)[0].update(a),this._tweens.get(b)[0].get_isComplete()&&(this._tweens.get(b)[0].dispose(),this._tweens.get(b).splice(0,1),this._updateThread(a,b)))},update:function(a){for(var b=this._tweens.keys();b.hasNext();){var c=b.next();f.tween.WorkinTweenTracker._tweenUpdate.push(c)}for(;0<f.tween.WorkinTweenTracker._tweenUpdate.length;)this._updateThread(a,f.tween.WorkinTweenTracker._tweenUpdate.pop());
this._runRemoval();1>this._threadCount&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},destroy:function(){this._tweens=null;d.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){this.clearAllTweens();this._target=null;d.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a){this._target=a;this._isComplete=!1;this._threadCount=0;return this},build:function(a){this._tweens=new w.StringMap;return d.pooling.PoolStrictBase.prototype.build.call(this,
a)},poolId:function(){return"WorkinTweenTracker"},__class__:f.tween.WorkinTweenTracker,__properties__:{get_target:"get_target",set_isComplete:"set_isComplete",get_isComplete:"get_isComplete"}});f.tween.WorkinTweenDef=function(){};m["com.workinman.math.tween.WorkinTweenDef"]=f.tween.WorkinTweenDef;f.tween.WorkinTweenDef.__name__=["com","workinman","math","tween","WorkinTweenDef"];f.tween.WorkinTweenDef.__interfaces__=[d.pooling.IStrictPoolable];f.tween.WorkinTweenDef.request=function(a,b,c,i,e){d.WorkinCloud.get_instance().get_pool().initPool("WorkinTweenDef",
f.tween.WorkinTweenDef);return d.WorkinCloud.get_instance().get_pool().requestObject("WorkinTweenDef").init(a,b,c,i,e)};f.tween.WorkinTweenDef.__super__=d.pooling.PoolStrictBase;f.tween.WorkinTweenDef.prototype=v(d.pooling.PoolStrictBase.prototype,{onComplete:function(a,b){null==b&&(b=[]);this._completionHandler=a;this._completionArgs=b;return this},ease:function(a){this._easeFunction=f.tween.PennerManager.getEaseFunction(a);return this},delay:function(a){this._delay=a;return this},get_ratio:function(){return this._ratio},
set_isComplete:function(a){this._isComplete=a;return this.get_isComplete()},get_isComplete:function(){return this._isComplete},update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;if(null==this._target)this._isComplete=!0;else if(!1==this._started&&this._start(),this._progress+=a,this._progress>this._duration&&(this._progress=this._duration),this._ratio=Math.floor(1E3*(this._progress/this._duration))/1E3,this._progress>=this._duration){for(var a=0,b=H.fields(this._dest);a<b.length;){var c=
b[a];++a;this._target[c]=H.field(this._dest,c)}null!=this._completionHandler&&this._completionHandler.apply(this._completionHandler,this._completionArgs);this._isComplete=!0}else{a=0;for(b=H.fields(this._dest);a<b.length;)c=b[a],++a,this._diff=H.field(this._dest,c)-H.field(this._origin,c),this._target[c]=this._easeFunction(H.field(this._origin,c),this._diff,this._progress,this._duration)}},_start:function(){this._isComplete=!1;this._started=!0;for(var a=0,b=H.fields(this._dest);a<b.length;){var c=
b[a];++a;null!=H.field(this._target,c)&&(this._origin[c]=H.field(this._target,c))}},destroy:function(){this._origin=null;d.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){d.WorkinUtils.removePropertiesFromDynamic(this._origin);this._dest=this._target=null;d.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b,c,i,d){this._target=a;this._duration=b;this._delay=d;this._dest=c;this._easeFunction=f.tween.PennerManager.getEaseFunction(null==i?f.tween.Ease.EASE_LINEAR:
i);this._isComplete=!1;this._completionArgs=this._completionHandler=null;this._progress=0;this._started=!1;return this},build:function(a){this._origin={};return d.pooling.PoolStrictBase.prototype.build.call(this,a)},poolId:function(){return"WorkinTweenDef"},__class__:f.tween.WorkinTweenDef,__properties__:{set_isComplete:"set_isComplete",get_isComplete:"get_isComplete",get_ratio:"get_ratio"}});U={WMSharedObject:function(){this._dispatcher=o.WMEventDispatcher.request();this._data={};this.sharedKey=
""}};m["com.workinman.net.WMSharedObject"]=U.WMSharedObject;U.WMSharedObject.__name__=["com","workinman","net","WMSharedObject"];U.WMSharedObject.getLocalStorage=function(){return B.window.localStorage};U.WMSharedObject.getLocal=function(a,b){try{var c=B.window.location.href;null==b&&(b=c);var i=new U.WMSharedObject;i.sharedKey=b+":"+a;var d=U.WMSharedObject.getLocalStorage().getItem(i.sharedKey);i.set_data(""==d||null==d?{}:T.run(d));return i}catch(e){return i=new U.WMSharedObject,i.sharedKey="",
i}};U.WMSharedObject.prototype={flush:function(){var a=W.run(this.get_data());U.WMSharedObject.getLocalStorage().setItem(this.sharedKey,a);return U.SharedObjectFlushedStatus.FLUSHED},set_data:function(a){return this._data=a},get_data:function(){return this._data},dispose:function(){this._data=null;this._dispatcher.dispose();this._dispatcher=null},__class__:U.WMSharedObject};U.SharedObjectFlushedStatus=function(){};m["com.workinman.net.SharedObjectFlushedStatus"]=U.SharedObjectFlushedStatus;U.SharedObjectFlushedStatus.__name__=
["com","workinman","net","SharedObjectFlushedStatus"];l={ServiceAnalytics:function(){}};m["com.workinman.services.ServiceAnalytics"]=l.ServiceAnalytics;l.ServiceAnalytics.__name__=["com","workinman","services","ServiceAnalytics"];l.ServiceAnalytics.onAnalyticsLoad=function(){l.ServiceAnalytics._flagLoaded||(d.WorkinCloud.get_instance().log("[ServiceAnalytics](onAnalyticsLoad) Load complete"),l.ServiceAnalytics._flagLoaded=!0,R.delay(l.ServiceAnalytics._runQueuedCommands,1E3))};l.ServiceAnalytics.init=
function(a,b){null==b&&(b="");l.ServiceAnalytics._flagInitted=!0;l.ServiceAnalytics._queuedCommands=[];"x"==a.toLowerCase()&&(l.ServiceAnalytics.OPTION_ENABLE_TRACKING=!1);l.ServiceAnalytics.OPTION_ENABLE_TRACKING&&(""==b&&(b=l.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID),l.ServiceAnalytics._flagStarted=!1,d.WorkinCloud.get_instance().log("[ServiceAnalytics](initAnalytics)"),l.ServiceAnalytics._appId=a,l.ServiceAnalytics._sharedObjectId=b,l.ServiceAnalytics._sharedObjectData=d.WorkinCloud.get_instance().sharedObjectGetData(l.ServiceAnalytics._sharedObjectId),
l.ServiceAnalytics._generateSessionID(),null==l.ServiceAnalytics._sharedObjectData.userID||14>t.string(l.ServiceAnalytics._sharedObjectData.userID).length?(l.ServiceAnalytics._generateOfflineIDs(),l.ServiceAnalytics._sharedObjectData.userID=l.ServiceAnalytics._offlineUserId,l.ServiceAnalytics._sharedObjectData.trackingID=l.ServiceAnalytics._offlineTrackingId,d.WorkinCloud.get_instance().sharedObjectSetData(l.ServiceAnalytics._sharedObjectId,l.ServiceAnalytics._sharedObjectData)):(l.ServiceAnalytics._offlineUserId=
l.ServiceAnalytics._sharedObjectData.userID,l.ServiceAnalytics._offlineTrackingId=l.ServiceAnalytics._sharedObjectData.trackingID),eval("\t\t\t\t\n\t\t\t\twindow._pnConfig = new Array();\n\t\t\t\twindow._pnConfig['userId'] = '"+l.ServiceAnalytics._offlineUserId+"';\n\t\t\t\t\n\t\t\t\tvar _pnAPIURL = document.location.protocol + '//js.a.playnomics.net/v1/api?a="+l.ServiceAnalytics._appId+"';\n\t\t\t\tvar _pnAPI = document.createElement('script');\t\t\t\t\n\t\t\t\t_pnAPI.type = 'text/javascript'; \n\t\t\t\t_pnAPI.async = false; \n\t\t\t\t_pnAPI.src = _pnAPIURL;\n\t\t\t\twindow.pnCallbackReference = _pnAPI;\t\t\t\t\n\t\t\t"),
eval("window.pnCallbackReference").addEventListener("load",l.ServiceAnalytics.onAnalyticsLoad,!1),eval("document.body.appendChild(window.pnCallbackReference);"),l.ServiceAnalytics.sendUserInfo(),l.ServiceAnalytics.sendMilestone("custom1"))};l.ServiceAnalytics._runQueuedCommands=function(){for(;0<l.ServiceAnalytics._queuedCommands.length;)l.ServiceAnalytics.sendPlaynomicsEvent(l.ServiceAnalytics._queuedCommands[0].method,l.ServiceAnalytics._queuedCommands[0].params),l.ServiceAnalytics._queuedCommands.shift()};
l.ServiceAnalytics.sendUserInfo=function(){l.ServiceAnalytics.sendPlaynomicsEvent("pnUserInfo",["update",null,null,"","","html5"])};l.ServiceAnalytics.sendMilestone=function(a){l.ServiceAnalytics.sendPlaynomicsEvent("pnMilestone",[t.string(Math.floor(6012+999999999*Math.random())),a])};l.ServiceAnalytics.sendPlaynomicsEvent=function(a,b){if(l.ServiceAnalytics.OPTION_ENABLE_TRACKING&&l.ServiceAnalytics._flagInitted)if(l.ServiceAnalytics._flagLoaded){d.WorkinCloud.get_instance().log("[ServiceAnalytics](sendPlaynomicsEvent) "+
a);var c,i="";for(c=0;c<b.length;)i+="'"+b[c]+"'",c++,c<b.length&&(i+=",");eval(a+"("+i+")")}else l.ServiceAnalytics._queuedCommands.push({method:a,params:b})};l.ServiceAnalytics.enableCanadaTracking=function(a){l.ServiceAnalytics._flagCanadaTrackingEnabled=!0;l.ServiceAnalytics._canadaShowGameTitle=a};l.ServiceAnalytics.sendCanadaTrackingCall=function(a){if(l.ServiceAnalytics._flagCanadaTrackingEnabled)try{eval("trackFlashEvent('"+l.ServiceAnalytics._canadaShowGameTitle+"', '"+a+"', 'true');")}catch(b){}};
l.ServiceAnalytics._generateSessionID=function(){for(var a="",b=11;-1<b;)a+=Math.floor(10*Math.random()),b--;l.ServiceAnalytics._sessionId=a};l.ServiceAnalytics._generateOfflineIDs=function(){l.ServiceAnalytics._offlineUserId="";l.ServiceAnalytics._offlineTrackingId="";for(var a=15;-1<a;){if(0.66>Math.random())l.ServiceAnalytics._offlineUserId+=t.string(Math.floor(10*Math.random()));else switch(Math.floor(10*Math.random())){case 0:l.ServiceAnalytics._offlineUserId+="a";break;case 1:l.ServiceAnalytics._offlineUserId+=
"b";break;case 2:l.ServiceAnalytics._offlineUserId+="c";break;case 3:l.ServiceAnalytics._offlineUserId+="d";break;case 4:l.ServiceAnalytics._offlineUserId+="e";break;case 5:l.ServiceAnalytics._offlineUserId+="f";break;case 6:l.ServiceAnalytics._offlineUserId+="g";break;case 7:l.ServiceAnalytics._offlineUserId+="h";break;case 8:l.ServiceAnalytics._offlineUserId+="i";break;case 9:l.ServiceAnalytics._offlineUserId+="j";break;default:l.ServiceAnalytics._offlineUserId+="z"}a--}l.ServiceAnalytics._offlineTrackingId=
"";for(a=15;-1<a;)l.ServiceAnalytics._offlineTrackingId+=Math.floor(10*Math.random()),a--};l.ANALYTICS_EVENTS=m["com.workinman.services.ANALYTICS_EVENTS"]={__ename__:["com","workinman","services","ANALYTICS_EVENTS"],__constructs__:"EVENT_TIME_LOAD_INITIAL,EVENT_TIME_LOAD_GAME,EVENT_TIME_LOAD_LEVEL,EVENT_GAME_END,EVENT_PLAY_AGAIN,EVENT_QUIT,EVENT_TIME_PLAY,EVENT_TITLE_PLAY,EVENT_CHARACTER_SELECT,EVENT_LEVEL_SELECT,EVENT_DIFFICULTY_SELECT".split(",")};l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_INITIAL=["EVENT_TIME_LOAD_INITIAL",
0];l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_INITIAL.toString=n;l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_INITIAL.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_GAME=["EVENT_TIME_LOAD_GAME",1];l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_GAME.toString=n;l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_GAME.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_LEVEL=["EVENT_TIME_LOAD_LEVEL",2];l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_LEVEL.toString=n;l.ANALYTICS_EVENTS.EVENT_TIME_LOAD_LEVEL.__enum__=l.ANALYTICS_EVENTS;
l.ANALYTICS_EVENTS.EVENT_GAME_END=["EVENT_GAME_END",3];l.ANALYTICS_EVENTS.EVENT_GAME_END.toString=n;l.ANALYTICS_EVENTS.EVENT_GAME_END.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_PLAY_AGAIN=["EVENT_PLAY_AGAIN",4];l.ANALYTICS_EVENTS.EVENT_PLAY_AGAIN.toString=n;l.ANALYTICS_EVENTS.EVENT_PLAY_AGAIN.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_QUIT=["EVENT_QUIT",5];l.ANALYTICS_EVENTS.EVENT_QUIT.toString=n;l.ANALYTICS_EVENTS.EVENT_QUIT.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_TIME_PLAY=
["EVENT_TIME_PLAY",6];l.ANALYTICS_EVENTS.EVENT_TIME_PLAY.toString=n;l.ANALYTICS_EVENTS.EVENT_TIME_PLAY.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_TITLE_PLAY=["EVENT_TITLE_PLAY",7];l.ANALYTICS_EVENTS.EVENT_TITLE_PLAY.toString=n;l.ANALYTICS_EVENTS.EVENT_TITLE_PLAY.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_CHARACTER_SELECT=["EVENT_CHARACTER_SELECT",8];l.ANALYTICS_EVENTS.EVENT_CHARACTER_SELECT.toString=n;l.ANALYTICS_EVENTS.EVENT_CHARACTER_SELECT.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_LEVEL_SELECT=
["EVENT_LEVEL_SELECT",9];l.ANALYTICS_EVENTS.EVENT_LEVEL_SELECT.toString=n;l.ANALYTICS_EVENTS.EVENT_LEVEL_SELECT.__enum__=l.ANALYTICS_EVENTS;l.ANALYTICS_EVENTS.EVENT_DIFFICULTY_SELECT=["EVENT_DIFFICULTY_SELECT",10];l.ANALYTICS_EVENTS.EVENT_DIFFICULTY_SELECT.toString=n;l.ANALYTICS_EVENTS.EVENT_DIFFICULTY_SELECT.__enum__=l.ANALYTICS_EVENTS;l.ServiceNickAnalytics=function(){};m["com.workinman.services.ServiceNickAnalytics"]=l.ServiceNickAnalytics;l.ServiceNickAnalytics.__name__=["com","workinman","services",
"ServiceNickAnalytics"];l.ServiceNickAnalytics.init=function(a,b){null==b&&(b="");"x"==a.toLowerCase()&&(l.ServiceNickAnalytics.OPTION_ENABLE_TRACKING=!1);if(l.ServiceNickAnalytics.OPTION_ENABLE_TRACKING&&(""==b&&(b=l.ServiceNickAnalytics._DEFAULT_SHARED_OBJECT_ID),!l.ServiceNickAnalytics._flagInitted)){l.ServiceNickAnalytics._flagInitted=!0;l.ServiceNickAnalytics._appId=a;l.ServiceNickAnalytics._sharedObjectId=b;l.ServiceNickAnalytics._timerHeartbeat=new R(3E4);l.ServiceNickAnalytics._timerHeartbeat.run=
l.ServiceNickAnalytics._onHeartbeat;l.ServiceNickAnalytics._timerMetrics=new R(1E3);l.ServiceNickAnalytics._timerMetrics.run=l.ServiceNickAnalytics._onQueueMetrics;l.ServiceNickAnalytics._timerMetrics.stop();l.ServiceNickAnalytics._callKontagentMethod("setup('"+l.ServiceNickAnalytics._appId+"')");var c=d.WorkinCloud.get_instance().sharedObjectGetData(l.ServiceNickAnalytics._sharedObjectId);null==c||0==H.fields(c).length?l.ServiceNickAnalytics._generateOfflineIDs():(l.ServiceNickAnalytics._offlineUserId=
c.a+c.ppb,l.ServiceNickAnalytics._offlineTrackingId=c.b+c.ppa,null);l.ServiceNickAnalytics._queueMetrics=[]}};l.ServiceNickAnalytics._onHeartbeat=function(){l.ServiceNickAnalytics._callKontagentMethod("trackPageRequest('"+l.ServiceNickAnalytics._offlineTrackingId+"')")};l.ServiceNickAnalytics._onQueueMetrics=function(){if(0<l.ServiceNickAnalytics._queueMetrics.length){for(var a=l.ServiceNickAnalytics._queueMetrics.shift(),b="{",c=H.fields(a),i=0;i<c.length;){var d=c[i];++i;b+="'"+t.string(d)+"':'"+
t.string(H.field(a,d))+"',"}b=A.substr(b,0,b.length-1);l.ServiceNickAnalytics._callKontagentMethod("trackEvent('"+l.ServiceNickAnalytics._offlineTrackingId+"','"+t.string(a.name)+"',"+(b+"}")+")")}else l.ServiceNickAnalytics._timerMetrics.stop()};l.ServiceNickAnalytics._generateOfflineIDs=function(){l.ServiceNickAnalytics._offlineUserId="";for(var a=16;-1<a;){if(0.66>Math.random())l.ServiceNickAnalytics._offlineUserId+=t.string(Math.floor(10*Math.random()));else switch(Math.floor(10*Math.random())){case 0:l.ServiceNickAnalytics._offlineUserId+=
"a";break;case 1:l.ServiceNickAnalytics._offlineUserId+="b";break;case 2:l.ServiceNickAnalytics._offlineUserId+="c";break;case 3:l.ServiceNickAnalytics._offlineUserId+="d";break;case 4:l.ServiceNickAnalytics._offlineUserId+="e";break;case 5:l.ServiceNickAnalytics._offlineUserId+="f";break;case 6:l.ServiceNickAnalytics._offlineUserId+="g";break;case 7:l.ServiceNickAnalytics._offlineUserId+="h";break;case 8:l.ServiceNickAnalytics._offlineUserId+="i";break;case 9:l.ServiceNickAnalytics._offlineUserId+=
"j"}a--}l.ServiceNickAnalytics._offlineTrackingId="";for(a=8;-1<a;)l.ServiceNickAnalytics._offlineTrackingId+=t.string(Math.floor(10*Math.random())),a--;8<l.ServiceNickAnalytics._offlineTrackingId.length&&(l.ServiceNickAnalytics._offlineTrackingId=l.ServiceNickAnalytics._offlineTrackingId.substring(0,8));a={a:A.substr(l.ServiceNickAnalytics._offlineUserId,0,8),b:A.substr(l.ServiceNickAnalytics._offlineTrackingId,0,8),ppa:A.substr(l.ServiceNickAnalytics._offlineTrackingId,8,l.ServiceNickAnalytics._offlineTrackingId.length),
ppb:A.substr(l.ServiceNickAnalytics._offlineUserId,8,l.ServiceNickAnalytics._offlineUserId.length)};d.WorkinCloud.get_instance().sharedObjectSetData(l.ServiceNickAnalytics._sharedObjectId,a);l.ServiceNickAnalytics._callKontagentMethod("trackApplicationAdded('"+l.ServiceNickAnalytics._offlineTrackingId+"')");null};l.ServiceNickAnalytics._callKontagentMethod=function(a){try{var b=eval("kontagentProxy."+a);return null==b?"":b}catch(c){}return""};l.ServiceNickAnalytics.sendMetric=function(a,b){if(l.ServiceNickAnalytics._flagInitted){var c=
{name:t.string(a)};switch(a[1]){case 0:c.subtype1=l.ServiceNickAnalytics.ST1_PRE_PLAY;c.subtype2=l.ServiceNickAnalytics.ST2_TIME_LOAD_INITIAL;c.value=b;break;case 1:c.subtype1=l.ServiceNickAnalytics.ST1_PRE_PLAY;c.subtype2=l.ServiceNickAnalytics.ST2_TIME_LOAD_GAME;c.value=b;break;case 2:c.subtype1=l.ServiceNickAnalytics.ST1_PRE_PLAY;c.subtype2=l.ServiceNickAnalytics.ST2_TIME_LOAD_LEVEL;c.value=b;break;case 8:c.subtype1=l.ServiceNickAnalytics.ST1_PRE_PLAY;c.subtype2=l.ServiceNickAnalytics.ST2_TIME_LOAD_LEVEL;
c.value=b;break;case 9:c.subtype1=l.ServiceNickAnalytics.ST1_PRE_PLAY;c.subtype2=l.ServiceNickAnalytics.ST2_TIME_LOAD_LEVEL;c.level=b;break;case 10:c.subtype1=l.ServiceNickAnalytics.ST1_PRE_PLAY;c.subtype2=l.ServiceNickAnalytics.ST2_TIME_LOAD_LEVEL;c.value=b;c.level=d.WorkinCloud.get_instance().getInt(e.ConstantsApp.INT_LEVEL);break;case 7:c.subtype1=l.ServiceNickAnalytics.ST1_PRE_PLAY;c.subtype2=l.ServiceNickAnalytics.ST2_TITLE_PLAY;break;case 6:c.subtype1=l.ServiceNickAnalytics.ST1_IN_PLAY;c.subtype2=
l.ServiceNickAnalytics.ST2_TIME_PLAY;c.value=b;break;case 5:c.subtype1=l.ServiceNickAnalytics.ST1_IN_PLAY;c.subtype2=l.ServiceNickAnalytics.ST2_QUIT;break;case 3:c.subtype1=l.ServiceNickAnalytics.ST1_LEVEL_RESULTS;c.subtype2=l.ServiceNickAnalytics.ST2_GAME_OVER;break;case 4:c.subtype1=l.ServiceNickAnalytics.ST1_POST_PLAY,c.subtype2=l.ServiceNickAnalytics.ST2_PLAY_AGAIN}l.ServiceNickAnalytics._queueMetrics.push(c);l.ServiceNickAnalytics._timerMetrics.run()}};l.ServiceNickAvatar=function(){this._url=
"";this._flagEnabled=!1;this._avatarsLoaded=[];this._avatarsToLoad=[];this._flagLoadListeners=!1};m["com.workinman.services.ServiceNickAvatar"]=l.ServiceNickAvatar;l.ServiceNickAvatar.__name__=["com","workinman","services","ServiceNickAvatar"];l.ServiceNickAvatar.get_instance=function(){null==l.ServiceNickAvatar._instance&&(l.ServiceNickAvatar._instance=new l.ServiceNickAvatar);return l.ServiceNickAvatar._instance};l.ServiceNickAvatar.prototype={disable:function(){this._flagEnabled=!1},enable:function(a){""!=
a&&(this._flagEnabled=!0,this._url=a)},__class__:l.ServiceNickAvatar};l.ServiceNickLeaderboard=function(){this._flagEnabled=!1;this._scoreArray=[];this._gameKeyword=""};m["com.workinman.services.ServiceNickLeaderboard"]=l.ServiceNickLeaderboard;l.ServiceNickLeaderboard.__name__=["com","workinman","services","ServiceNickLeaderboard"];l.ServiceNickLeaderboard.get_instance=function(){null==l.ServiceNickLeaderboard._instance&&(l.ServiceNickLeaderboard._instance=new l.ServiceNickLeaderboard);return l.ServiceNickLeaderboard._instance};
l.ServiceNickLeaderboard.prototype={disable:function(){this._flagEnabled=!1},enable:function(a,b){""!=a&&(this._flagEnabled=!0,this.setKeyword(b),this._url=a)},setKeyword:function(a){""!=this._gameKeyword&&this._gameKeyword!=a&&(this._scoreArray=[]);this._gameKeyword=a},__class__:l.ServiceNickLeaderboard};d.JSEmbedProxy=function(){};m["com.workinman.utils.JSEmbedProxy"]=d.JSEmbedProxy;d.JSEmbedProxy.__name__=["com","workinman","utils","JSEmbedProxy"];d.JSEmbedProxy.alertOn=function(a){d.JSEmbedProxy.callJSEmbedMethod("addAlert('"+
a+"', '')")};d.JSEmbedProxy.alertOff=function(){d.JSEmbedProxy.callJSEmbedMethod("removeAlert('')")};d.JSEmbedProxy.get_exists=function(){return d.JSEmbedProxy.callJSEmbedMethod("exists()")};d.JSEmbedProxy.get_base=function(){return d.JSEmbedProxy.callJSEmbedMethod("baseUrl()")};d.JSEmbedProxy.get_isCrossdomain=function(){return d.JSEmbedProxy.callJSEmbedMethod("isBaseCrossdomain()")};d.JSEmbedProxy.get_scaleType=function(){return d.JSEmbedProxy.callJSEmbedMethod("scaleType()")};d.JSEmbedProxy.get_canvasScale=
function(){return t.parseFloat(d.JSEmbedProxy.callJSEmbedMethod("canvasScale()"))};d.JSEmbedProxy.get_canvasWidth=function(){return t.parseFloat(d.JSEmbedProxy.callJSEmbedMethod("canvasWidth()"))};d.JSEmbedProxy.get_canvasHeight=function(){return t.parseFloat(d.JSEmbedProxy.callJSEmbedMethod("canvasHeight()"))};d.JSEmbedProxy.get_scaledWidth=function(){return t.parseFloat(d.JSEmbedProxy.callJSEmbedMethod("scaledWidth()"))};d.JSEmbedProxy.get_scaledHeight=function(){return t.parseFloat(d.JSEmbedProxy.callJSEmbedMethod("scaledHeight()"))};
d.JSEmbedProxy.get_contentOffsetX=function(){return t.parseFloat(d.JSEmbedProxy.callJSEmbedMethod("contentOffsetX()"))};d.JSEmbedProxy.get_contentOffsetY=function(){return t.parseFloat(d.JSEmbedProxy.callJSEmbedMethod("contentOffsetY()"))};d.JSEmbedProxy.get_isPaused=function(){return d.JSEmbedProxy.callJSEmbedMethod("isPaused()")};d.JSEmbedProxy.pause=function(){d.JSEmbedProxy.callJSEmbedMethod("pause()")};d.JSEmbedProxy.unpause=function(){d.JSEmbedProxy.callJSEmbedMethod("unpause()")};d.JSEmbedProxy.callJSEmbedMethod=
function(a){try{var b=eval("jsembed."+a);return null==b?"":b}catch(c){}return""};d.WMAchievementManager=function(){this._achievements=new w.StringMap;this._flagInitted=!1};m["com.workinman.utils.WMAchievementManager"]=d.WMAchievementManager;d.WMAchievementManager.__name__=["com","workinman","utils","WMAchievementManager"];d.WMAchievementManager.prototype={_onUpdateDisplay:function(a){for(var b,c=this._achievements.keys();c.hasNext();){var i=c.next();b=this._achievements.get(i);b.get_valueId()==a.get_data().valueID&&
!b.achieved&&d.WorkinCloud.get_instance().getValue(b.get_valueId())>=b.get_value()&&(b.achieved=!0,this._sharedObjectSetData(),this._setScore(),this.lastAchievedId=i,d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventFlow.request(e.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP)))}},_addEventListeners:function(){d.WorkinCloud.get_instance().get_dispatcher().addEventListener(k.Display.EVENT_UPDATE_DISPLAY,u(this,this._onUpdateDisplay))},_sharedObjectSetData:function(){for(var a={},b,c=this._achievements.keys();c.hasNext();){var i=
c.next();b=this._achievements.get(i);a[i]={valueId:b.get_valueId(),value:b.get_value(),points:b.get_points(),achieved:b.achieved}}d.WorkinCloud.get_instance().sharedObjectSetData(this._sharedObjectId,a)},_setScore:function(){for(var a=0,b=function(a){return function(){return a.iterator()}}(this._achievements)();b.hasNext();){var c=b.next();c.achieved&&(a+=c.get_points())}this.points=a},getAchieved:function(a){return this._achievements.get(a).achieved},getPoints:function(a){return this._achievements.get(a).get_points()},
getIcon:function(a){return e.Achievements.ICON_BASE+a},getLocalizationDescID:function(a){return e.Achievements.LOCALIZATION_DESC_BASE+a},getLocalizationNameID:function(a){return e.Achievements.LOCALIZATION_NAME_BASE+a},getAchievements:function(){for(var a=[],b=this._achievements.keys();b.hasNext();){var c=b.next();a.push(c)}return a},addAchievement:function(a,b,c,i,e){null==e&&(e=!1);b=new d._WMAchievementManager.AchievementDef(b,c,i,e);this._achievements.set(a,b);b},init:function(){if(!this._flagInitted&&
(this._sharedObjectId=e.ConstantsApp.ACHIEVEMENTS_ID,"X"!=this._sharedObjectId)){this._flagInitted=!0;for(var a,b=0,c=N.allEnums(e.Achievement);b<c.length;)a=c[b],++b,a=e.Achievements.achievmentData(a),this.addAchievement(a.id,a.valueId,a.value,a.points);a=d.WorkinCloud.get_instance().sharedObjectGetData(this._sharedObjectId);if(0<H.fields(a).length){b=0;for(c=H.fields(a);b<c.length;){var i=c[b];++b;var f=H.field(a,i);this._achievements.get(i).achieved=f.achieved}}this._setScore();this._sharedObjectSetData();
this._addEventListeners()}},__class__:d.WMAchievementManager};d._WMAchievementManager={};d._WMAchievementManager.AchievementDef=function(a,b,c,i){this._valueId=a;this._value=b;this._points=c;this.achieved=i};m["com.workinman.utils._WMAchievementManager.AchievementDef"]=d._WMAchievementManager.AchievementDef;d._WMAchievementManager.AchievementDef.__name__=["com","workinman","utils","_WMAchievementManager","AchievementDef"];d._WMAchievementManager.AchievementDef.prototype={get_points:function(){return this._points},
get_value:function(){return this._value},get_valueId:function(){return this._valueId},__class__:d._WMAchievementManager.AchievementDef};d.WMAssetManager=function(){this._LOADING_CHANCES=3;this._baseUrl="";this._assets=new w.StringMap;this._defs=new w.StringMap;this._flump=new w.StringMap;this._packs=new w.StringMap;this._chunks=new w.StringMap;this._manifests=new w.StringMap;this._flagBaseIsCrossdomain=!1;this._loadingProgress=this._loadingTotal=this._packsLoaded=this._packsMax=this._loadingChances=
0;this._loadingPackProgress=new w.StringMap;this._fontCache=new w.StringMap};m["com.workinman.utils.WMAssetManager"]=d.WMAssetManager;d.WMAssetManager.__name__=["com","workinman","utils","WMAssetManager"];d.WMAssetManager.prototype={getLibrary:function(a){return!1==this._flump.exists(a)?(d.WorkinCloud.get_instance().log("[WMAssetManager](getLibrary) no library named "+a+" exists! Is it defined in config.xml?"),null):this._flump.get(a)},getFont:function(a,b){null==b&&(b=!0);if(!1==this._assets.exists(a))return d.WorkinCloud.get_instance().log("[WMAssetManager](getFont) no asset named "+
a+" exists! Returning null."),null;if(!1==b)return new p.Font(this._assets.get(a).get_pack(),a);if(!1==this._fontCache.exists(a)){var c=new p.Font(this._assets.get(a).get_pack(),a);this._fontCache.set(a,c);c}return this._fontCache.get(a)},getXML:function(a){if(!1==this._assets.exists(a))return d.WorkinCloud.get_instance().log("[WMAssetManager](getXML) No asset named "+a+" exists! Returning null."),null;a=y.parse(this.getFile(a).toString());return new G.Fast(a.firstElement())},getFile:function(a){return!1==
this._assets.exists(a)?(d.WorkinCloud.get_instance().log("[WMAssetManager](getFile) No asset named "+a+" exists! Returning null."),null):this._assets.get(a).get_constructed()?this._assets.get(a).get_data():this._assets.get(a).get_pack().getFile(this._assets.get(a).get_path(),!0)},getSound:function(a){a=d.WorkinUtils.removeExtension(a);return!1==this._assets.exists(a)?(d.WorkinCloud.get_instance().log("[AssetManager](getSound) No asset named "+a+" exists! Returning null."),null):this._assets.get(a).get_constructed()?
this._assets.get(a).get_data():this._assets.get(a).get_pack().getSound(this._assets.get(a).get_path(),!0)},getTexture:function(a){a=d.WorkinUtils.removeExtension(a);return!1==this._assets.exists(a)?(d.WorkinCloud.get_instance().log("[WMAssetManager](getTexture) No asset named "+a+" exists! Returning null."),null):!0==this._assets.get(a).get_constructed()?this._assets.get(a).get_data():this._assets.get(a).get_pack().getTexture(this._assets.get(a).get_path(),!0)},hasAsset:function(a){return this._assets.exists(a)},
_parseSpritesheet:function(a){for(var b=this.getFile(a+".plist"),c=d.WorkinUtils.parsePropertyList(this.getFile(a+".plist").toString()),a=this.getTexture(a),i="",e=new J.Rectangle(0,0,0,0),f,c=c.frames,g=H.fields(c),h=0;h<g.length;){i=g[h];++h;f=H.field(c,i);i=d.WorkinUtils.removeExtension(i);f=f.frame;var j=f.split("{");f="";for(var k=0;k<j.length;){var l=j[k];++k;f+=l}j=f.split("}");f="";for(k=0;k<j.length;)l=j[k],++k,f+=l;j=f.split(",");e.x=t.parseFloat(j[0]);e.y=t.parseFloat(j[1]);e.width=t.parseFloat(j[2]);
e.height=t.parseFloat(j[3]);f=C.createTexture(e.width|0,e.height|0);f.get_graphics().drawSubImage(a,0,0,e.x|0,e.y|0,e.width|0,e.height|0);this.addConstructedAsset(i,f)}b.dispose();a.dispose()},_onAllLoadComplete:function(){d.WorkinCloud.get_instance().log("[WMAssetManager](_onAllLoadComplete) All packs loaded!");d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(F.ConstantsCloud.EVENT_FILES_LOADED))},isLoading:function(){return this._packsLoaded<this._packsMax},addConstructedAsset:function(a,
b){new d._WMAssetManager.AssetDef(a,this._assets,b)},addPack:function(a){for(var b=A.iter(a.get_manifest()._entries);b.hasNext();){var c=b.next();new d._WMAssetManager.AssetDef(c.name,this._assets,a)}},isPackLoaded:function(a){return this._packs.exists(a)},_loadManifest:function(a,b,c,i){null==i&&(i=!0);null==c&&(c="");var e=this,f=C._platform.loadAssetPack(a);this._loadingTotal+=f._total;this._loadingPackProgress.set(b,0);f.error.connect(function(a){d.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError) Loading failed with error: "+
a);d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEvent.request(F.ConstantsCloud.EVENT_FILES_ERROR));e._loadingChances--;!0==i?0<=e._loadingChances?R.delay(function(){d.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError) Retrying. With "+e._loadingChances+" more chances.");e.loadPack(b,c,!1)},500):d.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError) Loading attempts timed out."):d.WorkinCloud.get_instance().log("[WMAssetManager](_onLoadingError) Loading failed, not attempting to retry.")});
f.progressChanged.connect(function(){var a=f._progress-e._loadingPackProgress.get(b);e._loadingPackProgress.set(b,f._progress);e._loadingProgress+=a;a=Math.round(100*(e._loadingProgress/e._loadingTotal));d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(F.ConstantsCloud.EVENT_FILES_LOADING,{value:a}))});f.get(function(a){e.addPack(a);e._packs.set(b,a);e._packsLoaded++;for(var c=0,i=e._defs.get(b).get_flump();c<i.length;){var d=i[c];++c;e._flump.set(d,new z.Library(a,
d))}c=0;for(i=e._defs.get(b).get_tiles();c<i.length;)a=i[c],++c,e._parseSpritesheet(a);e._packsLoaded>=e._packsMax&&e._onAllLoadComplete()})},loadPack:function(a,b,c){null==c&&(c=!0);null==b&&(b="");!1==this._defs.exists(a)&&d.WorkinCloud.get_instance().log("[WMAssetManager](loadPack) Can't load pack "+a+". Define the pack in config.xml.");d.WorkinCloud.get_instance().log("[WMAssetManager](loadPack) Loading pack "+a);c&&(this._loadingChances=this._LOADING_CHANCES,this._packsMax++);c=q.Manifest.fromAssets(a);
""!=this._baseUrl&&(this._flagBaseIsCrossdomain?c.set_externalBasePath(this._baseUrl):c.set_relativeBasePath(this._baseUrl));this._loadManifest(c,a,b)},addPackDef:function(a,b,c){null==b&&(b=[]);null==c&&(c=[]);this._defs.set(a,new d._WMAssetManager.PackDef(a,b,c))},_parseChunk:function(a,b){for(var c=[],i=[],e=b.nodes.resolve("chunk").iterator();e.hasNext();){var f=e.next();c.push(f.get_innerData().toString())}for(e=b.nodes.resolve("pack").iterator();e.hasNext();)f=e.next(),i.push(f.get_innerData().toString());
return new d._WMAssetManager.ChunkDef(a,i,c)},loadChunk:function(a){d.WorkinCloud.get_instance().log("[WMAssetManager](loadChunk) Loading chunk "+a);!1==this._chunks.exists(a)&&d.WorkinCloud.get_instance().log("[WMAssetManager](loadChunk) Chunk "+a+" isn't defined.");for(var b=0,c=this._chunks.get(a).get_chunkIds();b<c.length;){var i=c[b];++b;this.loadChunk(i)}this._packsLoaded>=this._packsMax&&(this._loadingProgress=this._loadingTotal=0,d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(F.ConstantsCloud.EVENT_FILES_LOADING,
{value:0})));b=0;for(c=this._chunks.get(a).get_packIds();b<c.length;)i=c[b],++b,!1==this.isPackLoaded(i)&&this.loadPack(i)},isChunkLoaded:function(a){if(!1==this._chunks.exists(a))return d.WorkinCloud.get_instance().log("[WMAssetManager](isChunkLoaded) Chunk "+a+" isn't defined."),!1;for(var b=0,a=this._chunks.get(a).get_packIds();b<a.length;){var c=a[b];++b;if(!1==this.isPackLoaded(c))return!1}return!0},addChunk:function(a,b){var c=this._parseChunk(a,b);this._chunks.set(a,c)},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=
!0;this.set_baseUrl(a)},set_baseUrl:function(a){this._baseUrl=a;d.WorkinCloud.get_instance().log("[WMAssetManager](setBaseUrl) Base Url set to '"+a+"'");return this._baseUrl},__class__:d.WMAssetManager};d._WMAssetManager={};d._WMAssetManager.AssetDef=function(a,b,c){this._constructed=!1;this._path=a;a=a.split("/");this._id=a[a.length-1];this._data=this._pack=null;M.__instanceof(c,q.AssetPack)?this._pack=c:(this._constructed=!0,this._data=c);this._hash=b;this._hash.set(this._path,this);this._path!=
this._id&&this._hash.set(this._id,this)};m["com.workinman.utils._WMAssetManager.AssetDef"]=d._WMAssetManager.AssetDef;d._WMAssetManager.AssetDef.__name__=["com","workinman","utils","_WMAssetManager","AssetDef"];d._WMAssetManager.AssetDef.prototype={get_pack:function(){return this._pack},get_path:function(){return this._path},get_data:function(){return this._data},get_constructed:function(){return this._constructed},__class__:d._WMAssetManager.AssetDef};d._WMAssetManager.PackDef=function(a,b,c){this._id=
a;this._flump=b;this._tiles=c};m["com.workinman.utils._WMAssetManager.PackDef"]=d._WMAssetManager.PackDef;d._WMAssetManager.PackDef.__name__=["com","workinman","utils","_WMAssetManager","PackDef"];d._WMAssetManager.PackDef.prototype={get_tiles:function(){return this._tiles},get_flump:function(){return this._flump},__class__:d._WMAssetManager.PackDef};d._WMAssetManager.ChunkDef=function(a,b,c){this._id=a;this._packs=b;this._chunks=c};m["com.workinman.utils._WMAssetManager.ChunkDef"]=d._WMAssetManager.ChunkDef;
d._WMAssetManager.ChunkDef.__name__=["com","workinman","utils","_WMAssetManager","ChunkDef"];d._WMAssetManager.ChunkDef.prototype={get_chunkIds:function(){return this._chunks},get_packIds:function(){return this._packs},__class__:d._WMAssetManager.ChunkDef};d.WMInput=function(){this._multiTouchAvail=!1;this._inputDown=new w.StringMap;this._keyCodes=new w.StringMap;this._virtualCodes=new w.StringMap;this._keyDown=new w.StringMap;this._virtualDown=new w.StringMap;this._touchList=new w.StringMap;this._touchRemoval=
[];this.registerInput("input_click");this._scale=1;this._offset=f.WorkinPoint.request();this._pointer=d.WMPointer.request("",0)};m["com.workinman.utils.WMInput"]=d.WMInput;d.WMInput.__name__=["com","workinman","utils","WMInput"];d.WMInput.prototype={_onPointerUp:function(a){this._inputDown.set("input_click",!1);this._pointer.end(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").end(this._pointer.get_currentPos().x,
this._pointer.get_currentPos().y);d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(0,"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,this._pointer.get_swipe()))},_onPointerMove:function(a){this._pointer.move(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);!1==this._multiTouchAvail&&this._touchList.exists("const")&&this._touchList.get("const").move(this._pointer.get_currentPos().x,this._pointer.get_currentPos().y);
d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(2,"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,this._pointer.get_swipe()))},_onPointerDown:function(a){this._inputDown.set("input_click",!0);this._pointer.begin(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);!1==this._multiTouchAvail&&(a=this._requestPointer("const",0),a.begin(this._pointer.get_currentPos().x,this._pointer.get_currentPos().y),this._touchList.set("const",
a));d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(1,"input_click",this._pointer.get_currentPos().x,this._pointer.get_currentPos().y,this._pointer.get_swipe()))},_onTouchUp:function(a){var b=this._touchList.get(t.string(a.id));b.end(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);0<b.get_index()&&d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(0,"input_click",b.get_currentPos().x,b.get_currentPos().y,b.get_swipe()))},
_onTouchMove:function(a){var b=this._touchList.get(t.string(a.id));b.move(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);0<b.get_index()&&d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(2,"input_click",b.get_currentPos().x,b.get_currentPos().y,b.get_swipe()))},_onTouchDown:function(a){this._searchIndex=0;this._searchFound=!1;do{this._searchFound=!0;for(var b=function(a){return function(){return a.iterator()}}(this._touchList)();b.hasNext();)if(this._searchIndex==
b.next().get_index()){this._searchIndex++;this._searchFound=!1;break}}while(!1==this._searchFound);b=this._requestPointer(t.string(a.id),this._searchIndex);this._touchList.set(b.get_id(),b);b.begin(a.viewX/this._scale+this._offset.x,a.viewY/this._scale+this._offset.y);0<this._searchIndex&&d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(1,"input_click",b.get_currentPos().x,b.get_currentPos().y,b.get_swipe()));b=null},_isInputDown:function(a){for(var b=0,c=this._keyCodes.get(a);b<
c.length;){var i=c[b];++b;if(!0==this._keyDown.get(i))return!0}b=0;for(c=this._virtualCodes.get(a);b<c.length;)if(a=c[b],++b,!0==this._virtualDown.get(a))return!0;return!1},_onKeyUp:function(a){this._keyDown.exists(t.string(a.key))&&this._keyDown.set(t.string(a.key),!1);d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(F.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY,{key:a.key,state:0}))},_onKeyDown:function(a){this._keyDown.exists(t.string(a.key))&&this._keyDown.set(t.string(a.key),
!0);d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(o.WMEventData.request(F.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY,{key:a.key,state:1}))},getInput:function(a){return this._inputDown.get(a)},registerInput:function(a,b,c){!1==this._inputDown.exists(a)&&(this._inputDown.set(a,!1),this._keyCodes.set(a,[]),this._virtualCodes.set(a,[]));if(null!=b)for(var i=0;i<b.length;){var d=b[i];++i;this._keyCodes.get(a).push(t.string(d));this._keyDown.set(t.string(d),!1)}if(null!=c)for(i=0;i<c.length;)b=
c[i],++i,this._virtualCodes.get(a).push(b),this._virtualDown.set(b,!1)},doDepthTestOnWorldCoordinates:function(a,b){return p.Sprite.hitTest(C.root,(a-this._offset.x)*this._scale,(b-this._offset.y)*this._scale)},prime:function(){this._multiTouchAvail=C._platform.getTouch().get_supported();C._platform.getKeyboard().down.connect(u(this,this._onKeyDown));C._platform.getKeyboard().up.connect(u(this,this._onKeyUp));this._multiTouchAvail&&(C._platform.getTouch().down.connect(u(this,this._onTouchDown)),C._platform.getTouch().move.connect(u(this,
this._onTouchMove)),C._platform.getTouch().up.connect(u(this,this._onTouchUp)));C._platform.getPointer().down.connect(u(this,this._onPointerDown));C._platform.getPointer().move.connect(u(this,this._onPointerMove));C._platform.getPointer().up.connect(u(this,this._onPointerUp))},_requestEvent:function(a,b,c,i,d){return o.WMEventInput.request(a,b,c,i,d)},_requestPointer:function(a,b){return d.WMPointer.request(a,b)},get_pointer:function(){return this._pointer},get_offset:function(){return this._offset},
set_scale:function(a){this._scale=a;0==this._scale&&(this._scale=0.01);return this._scale},update:function(a){for(var b=this._inputDown.keys();b.hasNext();){var c=b.next();"input_click"!=c&&(!0==this._inputDown.get(c)?!1==this._isInputDown(c)&&(this._inputDown.set(c,!1),d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(0,c,0,0))):!0==this._isInputDown(c)&&(this._inputDown.set(c,!0),d.WorkinCloud.get_instance().get_dispatcher().dispatchEvent(this._requestEvent(1,c,0,0))))}this._pointer.update(a);
for(b=function(a){return function(){return a.iterator()}}(this._touchList)();b.hasNext();)c=b.next(),c.get_phase()==o.WMEventInput.PHASE_UP?this._touchRemoval.push(c.get_id()):c.update(a);for(;0<this._touchRemoval.length;)this._touchList.get(this._touchRemoval[this._touchRemoval.length-1]).dispose(),this._touchList.remove(this._touchRemoval[this._touchRemoval.length-1]),this._touchRemoval.pop()},__class__:d.WMInput};d.SWIPE=m["com.workinman.utils.SWIPE"]={__ename__:["com","workinman","utils","SWIPE"],
__constructs__:["SWIPE_NONE","SWIPE_LEFT","SWIPE_RIGHT","SWIPE_UP","SWIPE_DOWN"]};d.SWIPE.SWIPE_NONE=["SWIPE_NONE",0];d.SWIPE.SWIPE_NONE.toString=n;d.SWIPE.SWIPE_NONE.__enum__=d.SWIPE;d.SWIPE.SWIPE_LEFT=["SWIPE_LEFT",1];d.SWIPE.SWIPE_LEFT.toString=n;d.SWIPE.SWIPE_LEFT.__enum__=d.SWIPE;d.SWIPE.SWIPE_RIGHT=["SWIPE_RIGHT",2];d.SWIPE.SWIPE_RIGHT.toString=n;d.SWIPE.SWIPE_RIGHT.__enum__=d.SWIPE;d.SWIPE.SWIPE_UP=["SWIPE_UP",3];d.SWIPE.SWIPE_UP.toString=n;d.SWIPE.SWIPE_UP.__enum__=d.SWIPE;d.SWIPE.SWIPE_DOWN=
["SWIPE_DOWN",4];d.SWIPE.SWIPE_DOWN.toString=n;d.SWIPE.SWIPE_DOWN.__enum__=d.SWIPE;d.WMPointer=function(){};m["com.workinman.utils.WMPointer"]=d.WMPointer;d.WMPointer.__name__=["com","workinman","utils","WMPointer"];d.WMPointer.__interfaces__=[d.pooling.IStrictPoolable];d.WMPointer.request=function(a,b){d.WorkinCloud.get_instance().get_pool().initPool("WMPointer",d.WMPointer);return d.WorkinCloud.get_instance().get_pool().requestObject("WMPointer").init(a,b)};d.WMPointer.__super__=d.pooling.PoolStrictBase;
d.WMPointer.prototype=v(d.pooling.PoolStrictBase.prototype,{update:function(a){this._resetDeltaLine=!0;this._timer-=a;0>this._timer&&(this._timer=d.WMPointer._DELTA_TIMEOUT,this._deltaLine.originToPoint(this._current))},_updateInfo:function(a,b){this._last.toPoint(this._current);this._current.to(a,b);this._current.x+=this._camera.get_pos().x-this._camera.get_screenCenterX();this._current.y+=this._camera.get_pos().y-this._camera.get_screenCenterY();this._delta.toPoint(this._current);this._delta.subtractPoint(this._last);
this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._motionDelta.get_p1(),this._current)},_testSwipe:function(){!1==this._consumed?(this._workPoint.to(this._origin.x-this._current.x,this._origin.y-this._current.y),this._swipe=Math.abs(this._workPoint.x)>=d.WMPointer._DELTA_ALLOWANCE&&Math.abs(this._workPoint.y)<d.WMPointer._DELTA_ALLOWANCE?0<this._workPoint.x?d.SWIPE.SWIPE_LEFT:d.SWIPE.SWIPE_RIGHT:Math.abs(this._workPoint.y)>=d.WMPointer._DELTA_ALLOWANCE&&Math.abs(this._workPoint.x)<
d.WMPointer._DELTA_ALLOWANCE?0<this._workPoint.y?d.SWIPE.SWIPE_UP:d.SWIPE.SWIPE_DOWN:d.SWIPE.SWIPE_NONE):this._swipe=d.SWIPE.SWIPE_NONE},end:function(a,b){this._phase=o.WMEventInput.PHASE_UP;this._updateInfo(a,b);this._testSwipe();this._line.endToPoint(this._current)},move:function(a,b){this._updateInfo(a,b);!1!=d.WorkinCloud.get_instance().get_input().getInput("input_click")&&(this._phase=o.WMEventInput.PHASE_MOVE,this._testSwipe(),this._line.endToPoint(this._current))},begin:function(a,b){this._origin.to(a,
b);this._origin.x+=this._camera.get_pos().x-this._camera.get_screenCenterX();this._origin.y+=this._camera.get_pos().y-this._camera.get_screenCenterY();this._current.toPoint(this._origin);this._last.toPoint(this._origin);this._delta.to(0,0);this._line.to(this._origin,this._current);this._deltaLine.to(this._origin,this._current);this._motionDelta.to(this._origin,this._current);this._consumed=!1;this._phase=o.WMEventInput.PHASE_DOWN;this._swipe=d.SWIPE.SWIPE_NONE},setCamera:function(a){null!=a?this._camera=
a:(this._personalCamera.get_pos().to(0,0),this._camera=this._personalCamera)},get_deltaLine:function(){if(!1==this._resetDeltaLine)return this._deltaLine;this._deltaLine.endToPoint(this._current);this._resetDeltaLine=!1;return this._deltaLine},get_motionDelta:function(){return this._motionDelta},set_index:function(a){return this._index=a},get_index:function(){return this._index},get_id:function(){return this._id},set_consumed:function(a){return this._consumed=a},get_consumed:function(){return this._consumed},
get_swipe:function(){return this._swipe},get_line:function(){return this._line},get_deltaPos:function(){return this._delta},get_lastPos:function(){return this._last},get_currentPos:function(){return this._current},get_originPos:function(){return this._origin},get_phase:function(){return this._phase},destroy:function(){this._personalCamera.dispose();this._personalCamera=null;d.pooling.PoolStrictBase.prototype.destroy.call(this)},dispose:function(){this._motionDelta.dispose();this._motionDelta=null;
this._workPoint.dispose();this._workPoint=null;this._origin.dispose();this._origin=null;this._current.dispose();this._current=null;this._last.dispose();this._last=null;this._delta.dispose();this._delta=null;this._line.dispose();this._line=null;this._deltaLine.dispose();this._camera=this._deltaLine=null;d.pooling.PoolStrictBase.prototype.dispose.call(this)},init:function(a,b){this._origin=f.WorkinPoint.request(0,0);this._current=f.WorkinPoint.request(0,0);this._last=f.WorkinPoint.request(0,0);this._delta=
f.WorkinPoint.request(0,0);this._workPoint=f.WorkinPoint.request(0,0);this._motionDelta=f.WorkinLine.request();this._line=f.WorkinLine.request();this._deltaLine=f.WorkinLine.request();this._camera=this._personalCamera;this._resetDeltaLine=!0;this._timer=d.WMPointer._DELTA_TIMEOUT;this._id=a;this._index=b;this._phase=o.WMEventInput.PHASE_UP;this._swipe=d.SWIPE.SWIPE_NONE;this._consumed=!1;return this},build:function(a){this._personalCamera=new f.WorkinCamera(0,0);return d.pooling.PoolStrictBase.prototype.build.call(this,
a)},poolId:function(){return"WMPointer"},__class__:d.WMPointer,__properties__:{get_phase:"get_phase",get_originPos:"get_originPos",get_currentPos:"get_currentPos",get_lastPos:"get_lastPos",get_deltaPos:"get_deltaPos",get_line:"get_line",get_swipe:"get_swipe",set_consumed:"set_consumed",get_consumed:"get_consumed",get_id:"get_id",set_index:"set_index",get_index:"get_index",get_motionDelta:"get_motionDelta",get_deltaLine:"get_deltaLine"}});d.WMLocalize=function(){};m["com.workinman.utils.WMLocalize"]=
d.WMLocalize;d.WMLocalize.__name__=["com","workinman","utils","WMLocalize"];d.WMLocalize.prototype={getString:function(a,b){null==b&&(b="");var c=this.getLocalizeData(a,b),i=c.get_string();c.dispose();return i},getLocalizeData:function(a,b){null==b&&(b="");""==b&&(b=F.ConstantsCloud.LOCALIZATION_XML_PATH+"translation_"+d.WorkinCloud.get_instance().getString(F.ConstantsCloud.STRING_REGION_ID)+".xml");for(var c=d.WorkinCloud.get_instance().get_assets().getXML(b).nodes.resolve("string").iterator();c.hasNext();){var i=
c.next();if(i.att.resolve("id")==a)return d.WMLocalizedData.request(i.att.resolve("id"),i.get_innerData(),i.att.resolve("fontName"),t.parseFloat(i.att.resolve("fontScale")),t.parseFloat(i.att.resolve("offsetX")),t.parseFloat(i.att.resolve("offsetY")))}d.WorkinCloud.get_instance().log("[WMLocalize] ERROR: No localization data for : "+a);return d.WMLocalizedData.request(a,"","",1,0,0)},__class__:d.WMLocalize};d.WMLocalizedData=function(){};m["com.workinman.utils.WMLocalizedData"]=d.WMLocalizedData;
d.WMLocalizedData.__name__=["com","workinman","utils","WMLocalizedData"];d.WMLocalizedData.__interfaces__=[d.pooling.IStrictPoolable];d.WMLocalizedData.request=function(a,b,c,i,e,f){d.WorkinCloud.get_instance().get_pool().initPool("WMLocalizedData",d.WMLocalizedData);return d.WorkinCloud.get_instance().get_pool().requestObject("WMLocalizedData").init(a,b,c,i,e,f)};d.WMLocalizedData.__super__=d.pooling.PoolStrictBase;d.WMLocalizedData.prototype=v(d.pooling.PoolStrictBase.prototype,{get_offsetY:function(){return this._offsetY},
get_offsetX:function(){return this._offsetX},get_scale:function(){return this._scale},get_fontName:function(){return this._fontName},get_string:function(){return this._string},get_id:function(){return this._id},init:function(a,b,c,i,d,e){this._id=a;this._string=b;this._fontName=c;this._scale=i;this._offsetX=d;this._offsetY=e;return this},poolId:function(){return"WMLocalizedData"},__class__:d.WMLocalizedData,__properties__:{get_id:"get_id",get_string:"get_string",get_fontName:"get_fontName",get_scale:"get_scale",
get_offsetX:"get_offsetX",get_offsetY:"get_offsetY"}});d.WMRandom=function(){this._sessions=new w.StringMap;this._randomSeeds=new w.StringMap};m["com.workinman.utils.WMRandom"]=d.WMRandom;d.WMRandom.__name__=["com","workinman","utils","WMRandom"];d.WMRandom.prototype={getRandomInt:function(a,b,c){null==c&&(c="");return Math.floor(this.getRandomFloat(a,b,c))},getRandomFloat:function(a,b,c){null==c&&(c="");return a+this.random(c)*(b+1-a)},random:function(a){null==a&&(a="");return""==a||null==this._randomSeeds.get(a)?
Math.random():this._randomSeeds.get(a).random()},__class__:d.WMRandom};d.WeightTracker=function(){};m["com.workinman.utils.WeightTracker"]=d.WeightTracker;d.WeightTracker.__name__=["com","workinman","utils","WeightTracker"];d.WMSeededRandom=function(){};m["com.workinman.utils.WMSeededRandom"]=d.WMSeededRandom;d.WMSeededRandom.__name__=["com","workinman","utils","WMSeededRandom"];d.WMSeededRandom.prototype={random:function(){return this._randomInt()/1073741823},_randomInt:function(){return this.set_seed(16807*
this.get_seed()%2147483647)&1073741823},set_seed:function(a){this._seed=a;return this.get_seed()},get_seed:function(){return this._seed},__class__:d.WMSeededRandom};d.WMSound=function(){this._musicId="";this._musicGain=1;this._musicPlaying=null;this._flagSystemMute=this._flagMuted=!1;this._mixer=new K.Mixer;this._sounds=[]};m["com.workinman.utils.WMSound"]=d.WMSound;d.WMSound.__name__=["com","workinman","utils","WMSound"];d.WMSound.prototype={get_musicPlaying:function(){return this._musicPlaying},
update:function(a){F.ConstantsCloud.getSupportsSingleMusicTrackOnly()&&null!=this._musicPlaying&&0.95<=this._musicPlaying.get_playback().get_position()/this._musicPlaying.get_sound().get_duration()&&H.setProperty(this._musicPlaying.get_playback(),"position",0);for(var b=0;b<this._sounds.length;){if(this._sounds[b].get_fade()==d.WMSound.FADE_OUT){if(0<this._sounds[b].get_playback().volume._value){var c=this._sounds[b].get_playback().volume;c.set__(c._value-a*this._sounds[b].get_fadeSpeed());0>=this._sounds[b].get_playback().volume._value&&
(this._sounds[b].setFade(d.WMSound.FADE_NONE),this._sounds[b].get_playback().volume.set__(0))}}else this._sounds[b].get_fade()==d.WMSound.FADE_IN&&this._sounds[b].get_playback().volume._value<this._sounds[b].volume&&(c=this._sounds[b].get_playback().volume,c.set__(c._value+a*this._sounds[b].get_fadeSpeed()),this._sounds[b].get_playback().volume._value>=this._sounds[b].volume&&(this._sounds[b].setFade(d.WMSound.FADE_NONE),this._sounds[b].get_playback().volume.set__(this._sounds[b].volume)));b++}null!=
this.get_musicPlaying()&&(this.get_musicPlaying().get_fade()==d.WMSound.FADE_OUT?0<this.get_musicPlaying().get_playback().volume._value&&(c=this.get_musicPlaying().get_playback().volume,c.set__(c._value-a*this.get_musicPlaying().get_fadeSpeed()),0>=this.get_musicPlaying().get_playback().volume._value&&(this.get_musicPlaying().setFade(d.WMSound.FADE_NONE),this.get_musicPlaying().get_playback().volume.set__(0))):this.get_musicPlaying().get_fade()==d.WMSound.FADE_IN&&this.get_musicPlaying().get_playback().volume._value<
this.get_musicPlaying().volume&&(c=this.get_musicPlaying().get_playback().volume,c.set__(c._value+a*this.get_musicPlaying().get_fadeSpeed()),this.get_musicPlaying().get_playback().volume._value>=this.get_musicPlaying().volume&&(this.get_musicPlaying().setFade(d.WMSound.FADE_NONE),this.get_musicPlaying().get_playback().volume.set__(this.get_musicPlaying().volume))))},_muteMusic:function(a){""!=this._musicId&&(a?this._musicPlaying=null:(a=d.WorkinCloud.get_instance().get_assets().getSound(this._musicId),
null==a?d.WorkinCloud.get_instance().log("[WMSound](_muteMusic) Sound asset "+this._musicId+" not found."):(this._musicPlaying=a=new d._WMSound.SoundDef(this._musicId,this._mixer.newSound(a,1),!0),a.playSound(this._musicGain))))},playMusic:function(a,b){null==b&&(b=1);if(!(F.ConstantsCloud.getSupportsNoAudio()||F.ConstantsCloud.getSupportsSingleMusicTrackOnly()&&null!=this._musicPlaying)&&this._musicId!=a)if(this._musicId=a,this._musicGain=b,!(this.getMute()||""==a)){null!=this._musicPlaying&&this._musicPlaying.dispose();
var c=d.WorkinCloud.get_instance().get_assets().getSound(a);null==c?(this._musicId="",d.WorkinCloud.get_instance().log('[WMSound](playSound) Sound asset "'+a+'" not found.')):(this._musicPlaying=c=new d._WMSound.SoundDef(a,this._mixer.newSound(c,1),!0),c.playSound(b))}},_muteAllToggle:function(a){if(F.ConstantsCloud.getSupportsSingleMusicTrackOnly())null!=this._musicPlaying&&this.get_musicPlaying().get_playback().volume.set__(a?0:0.5);else if(a){for(this._mixer.stopAll();0<this._sounds.length;)this._sounds.splice(0,
1);this._muteMusic(!0)}else a||this._muteMusic(!1)},playSound:function(a,b){null==b&&(b=1);if(F.ConstantsCloud.getSupportsAllAudio()&&!this.getMute()){for(var c=0;c<this._sounds.length;){if(this._sounds[c].id==a){this._sounds[c].playSound(b);return}c++}c=d.WorkinCloud.get_instance().get_assets().getSound(a);null==c?d.WorkinCloud.get_instance().log('[WMSound](playSound) Sound asset "'+a+'" not found.'):(c=new d._WMSound.SoundDef(a,this._mixer.newSound(c),!1),this._sounds.push(c),c.playSound(b))}},
setMute:function(a){this._flagMuted=a;this._flagSystemMute||this._muteAllToggle(this._flagMuted)},getMute:function(){return this._flagSystemMute||this._flagMuted},__class__:d.WMSound};d._WMSound={};d._WMSound.SoundDef=function(a,b,c){null==c&&(c=!1);this.id=a;this.isMusic=c;this.volume=1;this._flagPlayed=this._flagHasSound=!1;this._sound=b;this._fade=d.WMSound.FADE_NONE;this._fadeSpeed=1};m["com.workinman.utils._WMSound.SoundDef"]=d._WMSound.SoundDef;d._WMSound.SoundDef.__name__=["com","workinman",
"utils","_WMSound","SoundDef"];d._WMSound.SoundDef.prototype={playSound:function(a){null==a&&(a=1);null==this._sound?d.WorkinCloud.get_instance().log("[WMSound](playSound) Sound is null."):(this.volume=a,this._playback=this.isMusic?this._sound.loop(a):this._sound.play(a))},setFade:function(a,b){null==b&&(b=1);this._fade=a;this._fadeSpeed=b},get_fadeSpeed:function(){return this._fadeSpeed},get_fade:function(){return this._fade},get_playback:function(){return this._playback},get_sound:function(){return this._sound},
dispose:function(){null!=this._playback&&(this._playback.dispose(),this._playback=null);null!=this._sound&&this._sound.dispose()},__class__:d._WMSound.SoundDef};d.WorkinCloud=function(){this._TIMER_STACK=0.1;this._poolStore=new d.pooling.PoolStore;this._values=new w.StringMap;this._defaults=new w.StringMap};m["com.workinman.utils.WorkinCloud"]=d.WorkinCloud;d.WorkinCloud.__name__=["com","workinman","utils","WorkinCloud"];d.WorkinCloud.get_instance=function(){null==d.WorkinCloud.__instance&&(d.WorkinCloud.__instance=
new d.WorkinCloud,d.WorkinCloud.__instance.init());return d.WorkinCloud.__instance};d.WorkinCloud.prototype={_updateStack:function(a){1>this._stack.length||this._flagStackPaused||(this._timerStack-=a,0>this._timerStack&&(this._stack[0](),this._stack.shift(),this._timerStack=this._TIMER_STACK))},unpauseStack:function(){this._flagStackPaused=!1},pauseStack:function(){this._flagStackPaused=!0},update:function(a){this._updateStack(a);this._input.update(a)},stack:function(a){this._timerStack=this._TIMER_STACK;
for(var b=0;b<a.length;){var c=a[b];++b;this._stack.push(c)}},_updateDisplays:function(a){this._dispatcher.dispatchEvent(o.WMEventData.request(k.Display.EVENT_UPDATE_DISPLAY,{valueID:a}))},sharedObjectSetData:function(a,b){try{var c=U.WMSharedObject.getLocal(a);c.set_data(b);c.flush();c.dispose()}catch(i){null}},sharedObjectGetData:function(a){try{var b=U.WMSharedObject.getLocal(a),c=b.get_data();b.dispose();return c}catch(i){return{}}},resetValue:function(a){var b=this._defaults.get(a);this._values.set(a,
b);this._updateDisplays(a)},modifyValue:function(a,b){null==b&&(b=1);this._values.set(a,this.getFloat(a)+b);this._updateDisplays(a);return this.getFloat(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},getValue:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},getString:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,b)},getInt:function(a){return this._values.get(a)},
modifyInt:function(a,b){return Math.floor(this.modifyValue(a,b))},setInt:function(a,b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},getBool:function(a){return this._values.get(a)},setBool:function(a,b){this.setValue(a,b)},get_achievements:function(){return this._achievements},get_pool:function(){return this._poolStore},get_localize:function(){return this._localize},get_random:function(){return this._random},get_sound:function(){return this._sound},get_assets:function(){return this._assets},
get_input:function(){return this._input},get_dispatcher:function(){return this._dispatcher},log:function(){null},init:function(){this._dispatcher=o.WMEventDispatcher.request();this._input=new d.WMInput;this._assets=new d.WMAssetManager;this._sound=new d.WMSound;this._random=new d.WMRandom;this._localize=new d.WMLocalize;this._achievements=new d.WMAchievementManager;this._stack=[];this._timerStack=-1;this._flagStackPaused=!1;this.setString(F.ConstantsCloud.STRING_REGION_ID,"en")},__class__:d.WorkinCloud};
d.WorkinUtils=function(){};m["com.workinman.utils.WorkinUtils"]=d.WorkinUtils;d.WorkinUtils.__name__=["com","workinman","utils","WorkinUtils"];d.WorkinUtils.mapWithKeysAndValues=function(a){for(var b=new w.StringMap,c=0;c<a.length-1;)b.set(a[c],a[c+1]),c+=2;return b};d.WorkinUtils.emptyMap=function(a){for(var b=a.keys();b.hasNext();){var c=b.next();d.WorkinUtils._mapEmpty.push(c)}for(;0<d.WorkinUtils._mapEmpty.length;)a.remove(d.WorkinUtils._mapEmpty.pop())};d.WorkinUtils.removePropertiesFromDynamic=
function(a){for(var b=0,c=H.fields(a);b<c.length;){var i=c[b];++b;H.deleteField(a,i)}};d.WorkinUtils.parsePropertyList=function(a){return d.PropertyList.parse(a)};d.WorkinUtils.clamp=function(a,b,c,i){null==i&&(i=!1);i?a>c?a=b:a<b&&(a=c):a>c?a=c:a<b&&(a=b);return a};d.WorkinUtils.removeExtension=function(a){var b=a.lastIndexOf(".");return 0>b?a:a.substring(0,b)};d.PropertyList=function(){};m["com.workinman.utils.PropertyList"]=d.PropertyList;d.PropertyList.__name__=["com","workinman","utils","PropertyList"];
d.PropertyList.parse=function(a){var a=new G.Fast(y.parse(a).firstElement()),b={};a.hasNode.resolve("dict")?b=d.PropertyList._parseDict(a.node.resolve("dict")):a.hasNode.resolve("array")&&(b=d.PropertyList._parseValue(a.node.resolve("array")));return b};d.PropertyList._parseDate=function(a){if(!d.PropertyList._dateRegex.match(a))throw'Invalid date "'+a+'" (only yyyy-mm-dd and yyyy-mm-ddThh:mm:ssZ supported)';a=d.PropertyList._dateRegex.matched(1);null!=d.PropertyList._dateRegex.matched(2)&&(a+=" "+
d.PropertyList._dateRegex.matched(2));return A.strDate(a)};d.PropertyList._parseDict=function(a){for(var b=null,c={},a=a.get_elements();a.hasNext();){var i=a.next();"key"==i.get_name()?b=i.get_innerData():null!=b&&(c[b]=d.PropertyList._parseValue(i))}return c};d.PropertyList._parseValue=function(a){var b=null;switch(a.get_name()){case "array":b=[];for(a=a.get_elements();a.hasNext();){var c=a.next();b.push(d.PropertyList._parseValue(c))}break;case "dict":b=d.PropertyList._parseDict(a);break;case "date":b=
d.PropertyList._parseDate(a.get_innerData());break;case "string":b=a.get_innerData();break;case "data":b=a.get_innerData();break;case "true":b=!0;break;case "false":b=!1;break;case "real":b=t.parseFloat(a.get_innerData());break;case "integer":b=t.parseInt(a.get_innerData())}return b};d.pooling.LOG_LEVEL=m["com.workinman.utils.pooling.LOG_LEVEL"]={__ename__:["com","workinman","utils","pooling","LOG_LEVEL"],__constructs__:["NONE","NO_STACK","NEW_STACK","ALL_STACK"]};d.pooling.LOG_LEVEL.NONE=["NONE",
0];d.pooling.LOG_LEVEL.NONE.toString=n;d.pooling.LOG_LEVEL.NONE.__enum__=d.pooling.LOG_LEVEL;d.pooling.LOG_LEVEL.NO_STACK=["NO_STACK",1];d.pooling.LOG_LEVEL.NO_STACK.toString=n;d.pooling.LOG_LEVEL.NO_STACK.__enum__=d.pooling.LOG_LEVEL;d.pooling.LOG_LEVEL.NEW_STACK=["NEW_STACK",2];d.pooling.LOG_LEVEL.NEW_STACK.toString=n;d.pooling.LOG_LEVEL.NEW_STACK.__enum__=d.pooling.LOG_LEVEL;d.pooling.LOG_LEVEL.ALL_STACK=["ALL_STACK",3];d.pooling.LOG_LEVEL.ALL_STACK.toString=n;d.pooling.LOG_LEVEL.ALL_STACK.__enum__=
d.pooling.LOG_LEVEL;d.pooling.PoolStore=function(){this._pools=new w.StringMap};m["com.workinman.utils.pooling.PoolStore"]=d.pooling.PoolStore;d.pooling.PoolStore.__name__=["com","workinman","utils","pooling","PoolStore"];d.pooling.PoolStore.prototype={tracePoolReport:function(){for(var a="\nPool Report:\n\n",b=0,c=this._pools.keys();c.hasNext();){var i=c.next(),a=a+("\t"+i+"\n"),b=this._pools.get(i).get_created()-this._pools.get(i).get_numPooled(),a=a+("\t\tTotal Created: "+this._pools.get(i).get_created()+
" \t\tPool: "+this._pools.get(i).get_numPooled()+" \t\t\tLoose: "+b+" \t\t\tChange: "+(b-this._pools.get(i).get_loose()));this._pools.get(i).set_loose(b);a+="\n"}null},_testPool:function(a){if(!1==this._pools.exists(a))throw"Using pool "+a+" before it has been initialized is not allowed!";},_logReturn:function(a,b){switch(b.get_log()[1]){case 0:break;case 3:null;break;default:null}},_returnObject:function(a,b){this._testPool(a);var c=this._pools.get(a);c.poolObject(b);this._logReturn(a,c)},_logCreate:function(a,
b){switch(b.get_log()[1]){case 1:null;break;case 2:null;break;case 3:null}},requestObject:function(a){this._testPool(a);var b=this._pools.get(a);this._logCreate(a,b);if(0<b.get_numPooled())return this._result=b.givePool(),this._result.poolActivate(),this._result;b.incrementCreated();if(0<b.get_cap()&&b.get_created()>b.get_cap())throw"Too many instances of "+a+" allocated - currently at "+b.get_created();this._poolClass=b.get_className();return N.createEmptyInstance(this._poolClass).build(u(this,this._returnObject))},
initPool:function(a,b,c,i){null==i&&(i=-1);!0!=this._pools.exists(a)&&(null==c&&(c=d.pooling.LOG_LEVEL.NONE),this._pools.set(a,new d.pooling.PoolTracker(b,c,i)))},__class__:d.pooling.PoolStore};d.pooling.PoolTracker=function(a,b,c){this._pool=[];this._class=a;this._log=b;this._created=this._max=0;this._cap=c;this._loose=0};m["com.workinman.utils.pooling.PoolTracker"]=d.pooling.PoolTracker;d.pooling.PoolTracker.__name__=["com","workinman","utils","pooling","PoolTracker"];d.pooling.PoolTracker.prototype=
{givePool:function(){return this._pool.pop()},poolObject:function(a){this._pool.push(a);this._max=J.FMath.max(this._max,this._pool.length)},incrementCreated:function(){this._created++},set_loose:function(a){this._loose=a;return this.get_loose()},get_loose:function(){return this._loose},get_cap:function(){return this._cap},get_created:function(){return this._created},get_numPooled:function(){return this._pool.length},get_log:function(){return this._log},get_className:function(){return this._class},
__class__:d.pooling.PoolTracker};P=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};m["flambe.Entity"]=P;P.__name__=["flambe","Entity"];P.__interfaces__=[r.Disposable];P.prototype={dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},removeChild:function(a){for(var b=null,c=this.firstChild;null!=
c;){var i=c.next;if(c==a){null==b?this.firstChild=i:b.next=i;c.parent=null;c.next=null;break}b=c;c=i}},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,i=this.firstChild;null!=i;)c=i,i=i.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var i=c.next;if(c==a)return null==b?this.firstComponent=i:b.init(this,i),delete this._compMap[c.get_name()],
c.onRemoved(),c.init(null,null),!0;b=c;c=i}return!1},add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.init(this,null);a.onAdded();return this},__class__:P};j={Platform:function(){}};m["flambe.platform.Platform"]=j.Platform;j.Platform.__name__=["flambe","platform","Platform"];j.Platform.prototype={__class__:j.Platform};j.html=
{};j.html.HtmlPlatform=function(){};m["flambe.platform.html.HtmlPlatform"]=j.html.HtmlPlatform;j.html.HtmlPlatform.__name__=["flambe","platform","html","HtmlPlatform"];j.html.HtmlPlatform.__interfaces__=[j.Platform];j.html.HtmlPlatform.prototype={createRenderer:function(a){return new j.html.CanvasRenderer(a)},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getRenderer:function(){return this._renderer},
getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new j.BasicKeyboard;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getTouch:function(){return this._touch},getPointer:function(){return this._pointer},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=
a;C.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getTime:function(){return Date.now()/1E3},getStage:function(){return this._stage},loadAssetPack:function(a){return(new j.html.HtmlAssetPackLoader(this,a)).promise},useMonotonicTimer:function(){var a=this;this._lastUpdate=Date.now();var b=j.html.HtmlUtil.loadExtension("requestAnimationFrame").value;if(null!=b){var c=B.window.performance,i=null!=c&&j.html.HtmlUtil.polyfill("now",c);
this.inRecursiveUpdate=!0;i?this._lastUpdate=c.now():null;var d=null,d=function(e){a.update(i?c.now():e);b(d,a.canvas)};b(d,this.canvas)}else this.useIntervalTimer()},useIntervalTimer:function(){var a=this;B.window.setInterval(function(){a.update(Date.now())},16)},init:function(){var a=this;j.html.HtmlUtil.fixAndroidMath();this.canvas=null;try{this.canvas=B.window.flambe.canvas}catch(b){}this.canvas.setAttribute("tabindex","0");this.canvas.style.outlineStyle="none";this.canvas.setAttribute("moz-opaque",
"true");this._stage=new j.html.HtmlStage(this.canvas);this._pointer=new j.BasicPointer;this._mouse=new j.html.HtmlMouse(this._pointer,this.canvas);this._renderer=this.createRenderer(this.canvas);this.mainLoop=new j.MainLoop;this.canUseMonotonicTimer=this.inRecursiveUpdate=this.musicPlaying=!1;this._canvas=this.canvas;this._container=this.canvas.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var c=0,i=function(b){if(!(1E3>
b.timeStamp-c)){var i=a.canvas.getBoundingClientRect(),d=a.getX(b,i),i=a.getY(b,i);switch(b.type){case "mousedown":b.target==a.canvas&&(b.preventDefault(),a._mouse.submitDown(d,i,b.button),a.canvas.focus());break;case "mousemove":a._mouse.submitMove(d,i);break;case "mouseup":a._mouse.submitUp(d,i,b.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(d,i,"mousewheel"==b.type?b.wheelDelta/40:-b.detail)&&b.preventDefault()}}};B.window.addEventListener("mousedown",i,!1);B.window.addEventListener("mousemove",
i,!1);B.window.addEventListener("mouseup",i,!1);this.canvas.addEventListener("mousewheel",i,!1);this.canvas.addEventListener("DOMMouseScroll",i,!1);var d="undefined"!=typeof B.window.ontouchstart,i="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(d||i){var e=new j.BasicTouch(this._pointer,d?4:B.navigator.msMaxTouchPoints);this._touch=e;i=function(b){var i=d?b.changedTouches:[b],f=b.target.getBoundingClientRect();c=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":b.preventDefault();
j.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&j.html.HtmlUtil.hideMobileBrowser();for(b=0;b<i.length;){var g=i[b];++b;var h=a.getX(g,f),k=a.getY(g,f),g=(d?g.identifier:g.pointerId)|0;e.submitDown(g,h,k)}break;case "touchmove":case "MSPointerMove":b.preventDefault();for(b=0;b<i.length;)g=i[b],++b,h=a.getX(g,f),k=a.getY(g,f),g=(d?g.identifier:g.pointerId)|0,e.submitMove(g,h,k);break;case "touchend":case "touchcancel":case "MSPointerUp":b.preventDefault();for(b=0;b<i.length;)g=i[b],++b,h=a.getX(g,f),k=
a.getY(g,f),g=(d?g.identifier:g.pointerId)|0,e.submitUp(g,h,k)}};d?(this.canvas.addEventListener("touchstart",i,!1),this.canvas.addEventListener("touchmove",i,!1),this.canvas.addEventListener("touchend",i,!1),this.canvas.addEventListener("touchcancel",i,!1)):(this.canvas.addEventListener("MSPointerDown",i,!1),this.canvas.addEventListener("MSPointerMove",i,!1),this.canvas.addEventListener("MSPointerUp",i,!1))}else this._touch=new j.DummyTouch;var f=B.window.onerror;B.window.onerror=function(a,b,c){C.uncaughtError.emit1(a);
return null!=f?f(a,b,c):!1};var g=j.html.HtmlUtil.loadExtension("hidden",B.document);null!=g.value?(i=function(){C.hidden.set__(H.field(B.document,g.field))},i(null),B.document.addEventListener(g.prefix+"visibilitychange",i,!1)):(i=function(a){C.hidden.set__("pagehide"==a.type)},B.window.addEventListener("pageshow",i,!1),B.window.addEventListener("pagehide",i,!1));C.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this.escapeUpdateLoop=this._skipFrame=!1;this.useMonotonicTimer();null},
__class__:j.html.HtmlPlatform};r.Value=function(a,b){this._value=a;this._changed=null!=b?new r.Signal2(b):null};m["flambe.util.Value"]=r.Value;r.Value.__name__=["flambe","util","Value"];r.Value.prototype={get_changed:function(){null==this._changed&&(this._changed=new r.Signal2);return this._changed},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit2(a,b));return a},watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},__class__:r.Value};
r.SignalConnection=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};m["flambe.util.SignalConnection"]=r.SignalConnection;r.SignalConnection.__name__=["flambe","util","SignalConnection"];r.SignalConnection.__interfaces__=[r.Disposable];r.SignalConnection.prototype={dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},once:function(){this.stayInList=!1;return this},__class__:r.SignalConnection};r.SignalBase=function(a){this._head=
null!=a?new r.SignalConnection(this,a):null;this._deferredTasks=null};m["flambe.util.SignalBase"]=r.SignalBase;r.SignalBase.__name__=["flambe","util","SignalBase"];r.SignalBase.prototype={listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,i=this._head;null!=i;)c=i,i=i._next;null!=c?c._next=a:this._head=a}},didEmit:function(a){for(this._head=
a;null!=this._deferredTasks;)this._deferredTasks.fn(),this._deferredTasks=this._deferredTasks.next},willEmit:function(){var a=this._head;this._head=r.SignalBase.DISPATCHING_SENTINEL;return a},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new r._SignalBase.Task(a);null!=b?b.next=a:this._deferredTasks=a},emit2:function(a,b){for(var c=this.willEmit(),i=c;null!=i;)i._listener(a,b),i.stayInList||i.dispose(),i=i._next;this.didEmit(c)},emit1:function(a){for(var b=this.willEmit(),
c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},emit0:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},disconnect:function(a){var b=this;this._head==r.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},connectImpl:function(a,b){var c=this,i=new r.SignalConnection(this,a);this._head==r.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(i,b)}):this.listAdd(i,
b);return i},__class__:r.SignalBase};r.Signal2=function(a){r.SignalBase.call(this,a)};m["flambe.util.Signal2"]=r.Signal2;r.Signal2.__name__=["flambe","util","Signal2"];r.Signal2.__super__=r.SignalBase;r.Signal2.prototype=v(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal2});r.Signal1=function(a){r.SignalBase.call(this,a)};m["flambe.util.Signal1"]=r.Signal1;r.Signal1.__name__=["flambe","util","Signal1"];r.Signal1.__super__=r.SignalBase;
r.Signal1.prototype=v(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal1});O={AnimatedFloat:function(a,b){this._behavior=null;r.Value.call(this,a,b)}};m["flambe.animation.AnimatedFloat"]=O.AnimatedFloat;O.AnimatedFloat.__name__=["flambe","animation","AnimatedFloat"];O.AnimatedFloat.__super__=r.Value;O.AnimatedFloat.prototype=v(r.Value.prototype,{update:function(a){null!=this._behavior&&(r.Value.prototype.set__.call(this,this._behavior.update(a)),
this._behavior.isComplete()&&(this._behavior=null))},set__:function(a){this._behavior=null;return r.Value.prototype.set__.call(this,a)},__class__:O.AnimatedFloat});C=function(){};m["flambe.System"]=C;C.__name__=["flambe","System"];C.init=function(){C._calledInit||(C._platform.init(),C._calledInit=!0)};C.createTexture=function(a,b){return C._platform.getRenderer().createEmptyTexture(a,b)};D=function(){this._realDt=0};m["flambe.SpeedAdjuster"]=D;D.__name__=["flambe","SpeedAdjuster"];D.__super__=S;D.prototype=
v(S.prototype,{onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},get_name:function(){return"SpeedAdjuster_4"},__class__:D});O.Behavior=function(){};m["flambe.animation.Behavior"]=O.Behavior;O.Behavior.__name__=["flambe","animation","Behavior"];O.Behavior.prototype={__class__:O.Behavior};q={Asset:function(){}};m["flambe.asset.Asset"]=q.Asset;q.Asset.__name__=["flambe","asset","Asset"];q.Asset.__interfaces__=[r.Disposable];q.Asset.prototype={__class__:q.Asset};
q.AssetFormat=m["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data,ZIP,TAR".split(",")};q.AssetFormat.WEBP=["WEBP",0];q.AssetFormat.WEBP.toString=n;q.AssetFormat.WEBP.__enum__=q.AssetFormat;q.AssetFormat.JXR=["JXR",1];q.AssetFormat.JXR.toString=n;q.AssetFormat.JXR.__enum__=q.AssetFormat;q.AssetFormat.PNG=["PNG",2];q.AssetFormat.PNG.toString=n;q.AssetFormat.PNG.__enum__=q.AssetFormat;q.AssetFormat.JPG=["JPG",
3];q.AssetFormat.JPG.toString=n;q.AssetFormat.JPG.__enum__=q.AssetFormat;q.AssetFormat.GIF=["GIF",4];q.AssetFormat.GIF.toString=n;q.AssetFormat.GIF.__enum__=q.AssetFormat;q.AssetFormat.DDS=["DDS",5];q.AssetFormat.DDS.toString=n;q.AssetFormat.DDS.__enum__=q.AssetFormat;q.AssetFormat.PVR=["PVR",6];q.AssetFormat.PVR.toString=n;q.AssetFormat.PVR.__enum__=q.AssetFormat;q.AssetFormat.PKM=["PKM",7];q.AssetFormat.PKM.toString=n;q.AssetFormat.PKM.__enum__=q.AssetFormat;q.AssetFormat.MP3=["MP3",8];q.AssetFormat.MP3.toString=
n;q.AssetFormat.MP3.__enum__=q.AssetFormat;q.AssetFormat.M4A=["M4A",9];q.AssetFormat.M4A.toString=n;q.AssetFormat.M4A.__enum__=q.AssetFormat;q.AssetFormat.OPUS=["OPUS",10];q.AssetFormat.OPUS.toString=n;q.AssetFormat.OPUS.__enum__=q.AssetFormat;q.AssetFormat.OGG=["OGG",11];q.AssetFormat.OGG.toString=n;q.AssetFormat.OGG.__enum__=q.AssetFormat;q.AssetFormat.WAV=["WAV",12];q.AssetFormat.WAV.toString=n;q.AssetFormat.WAV.__enum__=q.AssetFormat;q.AssetFormat.Data=["Data",13];q.AssetFormat.Data.toString=
n;q.AssetFormat.Data.__enum__=q.AssetFormat;q.AssetFormat.ZIP=["ZIP",14];q.AssetFormat.ZIP.toString=n;q.AssetFormat.ZIP.__enum__=q.AssetFormat;q.AssetFormat.TAR=["TAR",15];q.AssetFormat.TAR.toString=n;q.AssetFormat.TAR.__enum__=q.AssetFormat;q.AssetEntry=function(a,b,c,i){this.name=a;this.url=b;this.format=c;this.bytes=i};m["flambe.asset.AssetEntry"]=q.AssetEntry;q.AssetEntry.__name__=["flambe","asset","AssetEntry"];q.AssetEntry.prototype={__class__:q.AssetEntry};q.AssetPack=function(){};m["flambe.asset.AssetPack"]=
q.AssetPack;q.AssetPack.__name__=["flambe","asset","AssetPack"];q.AssetPack.__interfaces__=[r.Disposable];q.AssetPack.prototype={__class__:q.AssetPack};q.File=function(){};m["flambe.asset.File"]=q.File;q.File.__name__=["flambe","asset","File"];q.File.__interfaces__=[q.Asset];q.File.prototype={__class__:q.File};M=void 0;B=void 0;B=function(){};m["js.Browser"]=B;B.__name__=["js","Browser"];q.Manifest=function(){this._entries=[]};m["flambe.asset.Manifest"]=q.Manifest;q.Manifest.__name__=["flambe","asset",
"Manifest"];q.Manifest.fromAssets=function(a,b){null==b&&(b=!0);var c=H.field(fa.Meta.getType(q.Manifest).assets[0],a);if(null==c){if(b)throw r.Strings.withFields("Missing asset pack",["name",a]);return null}var i=new q.Manifest;i.set_relativeBasePath("assets");for(var d=0;d<c.length;){var e=c[d];++d;var f=e.name,g=a+"/"+f+"?v="+t.string(e.md5),h=q.Manifest.inferFormat(f);h!=q.AssetFormat.Data&&(f=r.Strings.removeFileExtension(f));i.add(f,g,e.bytes,h)}return i};q.Manifest.inferFormat=function(a){a=r.Strings.getUrlExtension(a);
if(null!=a)switch(a.toLowerCase()){case "gif":return q.AssetFormat.GIF;case "jpg":case "jpeg":return q.AssetFormat.JPG;case "jxr":case "wdp":return q.AssetFormat.JXR;case "png":return q.AssetFormat.PNG;case "webp":return q.AssetFormat.WEBP;case "dds":return q.AssetFormat.DDS;case "pvr":return q.AssetFormat.PVR;case "pkm":return q.AssetFormat.PKM;case "m4a":return q.AssetFormat.M4A;case "mp3":return q.AssetFormat.MP3;case "ogg":return q.AssetFormat.OGG;case "opus":return q.AssetFormat.OPUS;case "wav":return q.AssetFormat.WAV;
case "zip":return q.AssetFormat.ZIP;case "tar":return q.AssetFormat.TAR}else null;return q.AssetFormat.Data};q.Manifest.prototype={set_externalBasePath:function(a){this._externalBasePath=a;null!=a&&null;return a},get_externalBasePath:function(){return this._externalBasePath},set_relativeBasePath:function(a){this._relativeBasePath=a;null!=a&&null;return a},get_relativeBasePath:function(){return this._relativeBasePath},getFullURL:function(a){var b=null!=this.get_externalBasePath()&&q.Manifest._supportsCrossOrigin?
this.get_externalBasePath():this.get_relativeBasePath(),c=null!=this.get_externalBasePath()?this.get_externalBasePath():this.get_relativeBasePath();a.format==q.AssetFormat.Data&&(c=b);return null!=c?r.Strings.joinPath(c,a.url):a.url},iterator:function(){return A.iter(this._entries)},add:function(a,b,c,i){null==c&&(c=0);null==i&&(i=q.Manifest.inferFormat(b));a=new q.AssetEntry(a,b,i,c);this._entries.push(a);return a},__class__:q.Manifest};L={Benchmark:function(){}};m["flambe.debug.Benchmark"]=L.Benchmark;
L.Benchmark.__name__=["flambe","debug","Benchmark"];L.Benchmark.start=function(a){L.Benchmark._calledStart=!0;L.Benchmark._calledCleanup=!1;L.Benchmark._fn=a;L.Benchmark._root=new P;L.Benchmark._sprites=[];L.Benchmark._timeStart=C._platform.getTime();C.root.addChild(L.Benchmark._root);R.delay(L.Benchmark.benchmark,1E3)};L.Benchmark.benchmark=function(){for(var a,b=0;250>b;)b++,a=new p.Sprite,a.set_pointerEnabled(!1),L.Benchmark._root.add(a),L.Benchmark._sprites.push(a);5E3>L.Benchmark._sprites.length?
R.delay(L.Benchmark.benchmark,100):L.Benchmark.cleanup()};L.Benchmark.cleanup=function(){for(var a=0,b=L.Benchmark._sprites.length;a<b;){var c=a++;L.Benchmark._root.remove(L.Benchmark._sprites[c])}C.root.removeChild(L.Benchmark._root);L.Benchmark._sprites=null;a=C._platform.getTime()-L.Benchmark._timeStart;a=Math.round(1E4*(1/a));L.Benchmark._benchmark=a;L.Benchmark._calledCleanup=!0;null!=L.Benchmark._fn&&L.Benchmark._fn.apply(null,[L.Benchmark._benchmark])};p={};p.BlendMode=m["flambe.display.BlendMode"]=
{__ename__:["flambe","display","BlendMode"],__constructs__:["Normal","Add","Mask","Copy"]};p.BlendMode.Normal=["Normal",0];p.BlendMode.Normal.toString=n;p.BlendMode.Normal.__enum__=p.BlendMode;p.BlendMode.Add=["Add",1];p.BlendMode.Add.toString=n;p.BlendMode.Add.__enum__=p.BlendMode;p.BlendMode.Mask=["Mask",2];p.BlendMode.Mask.toString=n;p.BlendMode.Mask.__enum__=p.BlendMode;p.BlendMode.Copy=["Copy",3];p.BlendMode.Copy.toString=n;p.BlendMode.Copy.__enum__=p.BlendMode;J={Point:function(a,b){null==b&&
(b=0);null==a&&(a=0);this.x=a;this.y=b}};m["flambe.math.Point"]=J.Point;J.Point.__name__=["flambe","math","Point"];J.Point.prototype={__class__:J.Point};p.Sprite=function(){this.blendMode=this.scissor=null;var a=this;this._flags=139;this._localMatrix=new J.Matrix;var b=function(){a._flags|=12};this.x=new O.AnimatedFloat(0,b);this.y=new O.AnimatedFloat(0,b);this.rotation=new O.AnimatedFloat(0,b);this.scaleX=new O.AnimatedFloat(1,b);this.scaleY=new O.AnimatedFloat(1,b);this.anchorX=new O.AnimatedFloat(0,
b);this.anchorY=new O.AnimatedFloat(0,b);this.alpha=new O.AnimatedFloat(1)};m["flambe.display.Sprite"]=p.Sprite;p.Sprite.__name__=["flambe","display","Sprite"];p.Sprite.hitTest=function(a,b,c){var i=a._compMap.Sprite_1;if(null!=i){if(3!=(i._flags&3))return null;i.getLocalMatrix().inverseTransform(b,c,p.Sprite._scratchPoint)&&(b=p.Sprite._scratchPoint.x,c=p.Sprite._scratchPoint.y);var d=i.scissor;if(null!=d&&!d.contains(b,c))return null}a=p.Sprite.hitTestBackwards(a.firstChild,b,c);return null!=a?
a:null!=i&&i.containsLocal(b,c)?i:null};p.Sprite.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var i=c.alpha._value;if(0==(c._flags&1)||0>=i)return;b.save();1>i&&b.multiplyAlpha(i);null!=c.blendMode&&b.setBlendMode(c.blendMode);var i=c.getLocalMatrix(),d=i.m02,e=i.m12;0!=(c._flags&128)&&(d=Math.round(d),e=Math.round(e));b.transform(i.m00,i.m10,i.m01,i.m11,d,e);i=c.scissor;null!=i&&b.applyScissor(i.x,i.y,i.width,i.height);c.draw(b)}i=a._compMap.Director_3;if(null!=i){i=i.occludedScenes;
for(d=0;d<i.length;)e=i[d],++d,p.Sprite.render(e,b)}for(i=a.firstChild;null!=i;)d=i.next,p.Sprite.render(i,b),i=d;null!=c&&b.restore()};p.Sprite.hitTestBackwards=function(a,b,c){if(null!=a){var i=p.Sprite.hitTestBackwards(a.next,b,c);return null!=i?i:p.Sprite.hitTest(a,b,c)}return null};p.Sprite.__super__=S;p.Sprite.prototype=v(S.prototype,{set_pointerEnabled:function(a){this._flags=r.BitSets.set(this._flags,2,a);return a},set_visible:function(a){this._flags=r.BitSets.set(this._flags,1,a);return a},
draw:function(){},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},getLocalMatrix:function(){0!=(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},
containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},get_name:function(){return"Sprite_1"},__class__:p.Sprite});p.FillSprite=function(a,b,c){p.Sprite.call(this);this.color=a;this.width=new O.AnimatedFloat(b);this.height=new O.AnimatedFloat(c)};m["flambe.display.FillSprite"]=p.FillSprite;p.FillSprite.__name__=["flambe","display","FillSprite"];p.FillSprite.__super__=p.Sprite;p.FillSprite.prototype=
v(p.Sprite.prototype,{onUpdate:function(a){p.Sprite.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},getNaturalHeight:function(){return this.height._value},getNaturalWidth:function(){return this.width._value},draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},__class__:p.FillSprite});p.Glyph=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};m["flambe.display.Glyph"]=
p.Glyph;p.Glyph.__name__=["flambe","display","Glyph"];p.Glyph.prototype={setKerning:function(a,b){null==this._kernings&&(this._kernings=new w.IntMap);this._kernings.set(a,b)},getKerning:function(a){return null!=this._kernings?this._kernings.get(a)|0:0},draw:function(a,b,c){0<this.width&&a.drawSubImage(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},__class__:p.Glyph};p.Font=function(a,b){this.name=b;this._pack=a;this.reload()};m["flambe.display.Font"]=p.Font;p.Font.__name__=
["flambe","display","Font"];p.Font.prototype={reload:function(){this._glyphs=new w.IntMap;this._glyphs.set(p.Font.NEWLINE.charCode,p.Font.NEWLINE);for(var a=new p._Font.ConfigParser(this._pack.getFile(this.name+".fnt").toString()),b=new w.IntMap,c=this.name.lastIndexOf("/"),c=0<=c?A.substr(this.name,0,c+1):"",i=a.keywords();i.hasNext();)switch(i.next()){case "info":for(var d=a.pairs();d.hasNext();){var e=d.next();switch(e.key){case "size":this.size=e.getInt()}}break;case "page":for(var d=0,f=null,
g=a.pairs();g.hasNext();)switch(e=g.next(),e.key){case "id":d=e.getInt();break;case "file":f=e.getString()}b.set(d,this._pack.getTexture(c+r.Strings.removeFileExtension(f)));break;case "char":d=null;for(f=a.pairs();f.hasNext();)switch(e=f.next(),e.key){case "id":d=new p.Glyph(e.getInt());break;case "x":d.x=e.getInt();break;case "y":d.y=e.getInt();break;case "width":d.width=e.getInt();break;case "height":d.height=e.getInt();break;case "page":d.page=b.get(e.getInt());break;case "xoffset":d.xOffset=
e.getInt();break;case "yoffset":d.yOffset=e.getInt();break;case "xadvance":d.xAdvance=e.getInt()}this._glyphs.set(d.charCode,d);break;case "kerning":d=null;f=-1;for(g=a.pairs();g.hasNext();)switch(e=g.next(),e.key){case "first":d=this._glyphs.get(e.getInt());break;case "second":f=e.getInt();break;case "amount":d.setKerning(f,e.getInt())}}},layoutText:function(a,b,c){null==c&&(c=0);null==b&&(b=p.TextAlign.Left);return new p.TextLayout(this,a,b,c)},getGlyphs:function(a){for(var b=[],c=0,i=a.length;c<
i;){var d=c++,d=this._glyphs.get(a.charCodeAt(d));null!=d?b.push(d):null}return b},__class__:p.Font};p.TextAlign=m["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};p.TextAlign.Left=["Left",0];p.TextAlign.Left.toString=n;p.TextAlign.Left.__enum__=p.TextAlign;p.TextAlign.Center=["Center",1];p.TextAlign.Center.toString=n;p.TextAlign.Center.__enum__=p.TextAlign;p.TextAlign.Right=["Right",2];p.TextAlign.Right.toString=n;p.TextAlign.Right.__enum__=
p.TextAlign;p.TextLayout=function(a,b,c,i){this.lines=0;var d=this;this._font=a;this._glyphs=[];this._offsets=[];this.bounds=new J.Rectangle;for(var e=[],f=b.length,g=0;g<f;){var h=g++,j=b.charCodeAt(h),j=a._glyphs.get(j);null!=j?this._glyphs.push(j):null}for(var b=-1,k=0,l=0,f=a._glyphs.get(10),g=function(){d.bounds.width=J.FMath.max(d.bounds.width,k);d.bounds.height+=l;e[d.lines]=k;l=k=0;++d.lines},h=0;h<this._glyphs.length;){j=this._glyphs[h];this._offsets[h]=k;var m=0<i&&k+j.width>i;m||j==f?(m&&
(0<=b?(this._glyphs[b]=f,k=this._offsets[b],h=b):this._glyphs.splice(h,0,f)),b=-1,l=a.size,g()):(32==j.charCode&&(b=h),k+=j.xAdvance,l=J.FMath.max(l,j.height+j.yOffset),h+1<this._glyphs.length&&(k+=j.getKerning(this._glyphs[h+1].charCode)));++h}g();for(var h=0,b=p.TextLayout.getAlignOffset(c,e[0],i),f=1.79769313486231E308,g=-1.79769313486231E308,n=m=0,o=this._glyphs.length;n<o;){j=this._glyphs[n];10==j.charCode&&(h+=a.size,++m,b=p.TextLayout.getAlignOffset(c,e[m],i));this._offsets[n]+=b;var q=h+j.yOffset,
f=f<q?f:q,g=J.FMath.max(g,q+j.height);++n}this.bounds.x=p.TextLayout.getAlignOffset(c,this.bounds.width,i);this.bounds.y=f;this.bounds.height=g-f};m["flambe.display.TextLayout"]=p.TextLayout;p.TextLayout.__name__=["flambe","display","TextLayout"];p.TextLayout.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return(c-b)/2}};p.TextLayout.prototype={draw:function(a){for(var b=0,c=0,i=this._glyphs.length;c<i;){var d=this._glyphs[c];10==d.charCode?b+=this._font.size:
d.draw(a,this._offsets[c],b);++c}},__class__:p.TextLayout};p._Font={};p._Font.ConfigParser=function(a){this._configText=a;this._keywordPattern=new X("([a-z]+)(.*)","");this._pairPattern=new X('([a-z]+)=("[^"]*"|[^\\s]+)',"")};m["flambe.display._Font.ConfigParser"]=p._Font.ConfigParser;p._Font.ConfigParser.__name__=["flambe","display","_Font","ConfigParser"];p._Font.ConfigParser.advance=function(a,b){var c=b.matchedPos();return A.substr(a,c.pos+c.len,a.length)};p._Font.ConfigParser.prototype={pairs:function(){var a=
this,b=this._pairText;return{next:function(){b=p._Font.ConfigParser.advance(b,a._pairPattern);return new p._Font.ConfigPair(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},keywords:function(){var a=this,b=this._configText;return{next:function(){b=p._Font.ConfigParser.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},__class__:p._Font.ConfigParser};
p._Font.ConfigPair=function(a,b){this.key=a;this._value=b};m["flambe.display._Font.ConfigPair"]=p._Font.ConfigPair;p._Font.ConfigPair.__name__=["flambe","display","_Font","ConfigPair"];p._Font.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:A.substr(this._value,1,this._value.length-2)},getInt:function(){return t.parseInt(this._value)},__class__:p._Font.ConfigPair};p.Graphics=function(){};m["flambe.display.Graphics"]=p.Graphics;p.Graphics.__name__=["flambe","display",
"Graphics"];p.Graphics.prototype={__class__:p.Graphics};p.ImageSprite=function(a){p.Sprite.call(this);this.texture=a};m["flambe.display.ImageSprite"]=p.ImageSprite;p.ImageSprite.__name__=["flambe","display","ImageSprite"];p.ImageSprite.__super__=p.Sprite;p.ImageSprite.prototype=v(p.Sprite.prototype,{getNaturalHeight:function(){return this.texture.get_height()},getNaturalWidth:function(){return this.texture.get_width()},draw:function(a){a.drawImage(this.texture,0,0)},__class__:p.ImageSprite});p.Orientation=
m["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};p.Orientation.Portrait=["Portrait",0];p.Orientation.Portrait.toString=n;p.Orientation.Portrait.__enum__=p.Orientation;p.Orientation.Landscape=["Landscape",1];p.Orientation.Landscape.toString=n;p.Orientation.Landscape.__enum__=p.Orientation;p.TextSprite=function(a,b){null==b&&(b="");this._layout=null;var c=this;p.Sprite.call(this);this._font=a;this._text=b;this._align=p.TextAlign.Left;
this._flags|=64;this.wrapWidth=new O.AnimatedFloat(0,function(){c._flags|=64})};m["flambe.display.TextSprite"]=p.TextSprite;p.TextSprite.__name__=["flambe","display","TextSprite"];p.TextSprite.__super__=p.Sprite;p.TextSprite.prototype=v(p.Sprite.prototype,{onUpdate:function(a){p.Sprite.prototype.onUpdate.call(this,a);this.wrapWidth.update(a)},updateLayout:function(){0!=(this._flags&64)&&(this._flags&=-65,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value))},set_font:function(a){a!=
this._font&&(this._font=a,this._flags|=64);return a},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=64);return a},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},getNaturalHeight:function(){this.updateLayout();return this._layout.lines*this._font.size},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},draw:function(a){this.updateLayout();this._layout.draw(a,this._align)},
__class__:p.TextSprite});p.Texture=function(){};m["flambe.display.Texture"]=p.Texture;p.Texture.__name__=["flambe","display","Texture"];p.Texture.__interfaces__=[q.Asset];p.Texture.prototype={__class__:p.Texture};h={};h.Key=m["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
h.Key.A=["A",0];h.Key.A.toString=n;h.Key.A.__enum__=h.Key;h.Key.B=["B",1];h.Key.B.toString=n;h.Key.B.__enum__=h.Key;h.Key.C=["C",2];h.Key.C.toString=n;h.Key.C.__enum__=h.Key;h.Key.D=["D",3];h.Key.D.toString=n;h.Key.D.__enum__=h.Key;h.Key.E=["E",4];h.Key.E.toString=n;h.Key.E.__enum__=h.Key;h.Key.F=["F",5];h.Key.F.toString=n;h.Key.F.__enum__=h.Key;h.Key.G=["G",6];h.Key.G.toString=n;h.Key.G.__enum__=h.Key;h.Key.H=["H",7];h.Key.H.toString=n;h.Key.H.__enum__=h.Key;h.Key.I=["I",8];h.Key.I.toString=n;h.Key.I.__enum__=
h.Key;h.Key.J=["J",9];h.Key.J.toString=n;h.Key.J.__enum__=h.Key;h.Key.K=["K",10];h.Key.K.toString=n;h.Key.K.__enum__=h.Key;h.Key.L=["L",11];h.Key.L.toString=n;h.Key.L.__enum__=h.Key;h.Key.M=["M",12];h.Key.M.toString=n;h.Key.M.__enum__=h.Key;h.Key.N=["N",13];h.Key.N.toString=n;h.Key.N.__enum__=h.Key;h.Key.O=["O",14];h.Key.O.toString=n;h.Key.O.__enum__=h.Key;h.Key.P=["P",15];h.Key.P.toString=n;h.Key.P.__enum__=h.Key;h.Key.Q=["Q",16];h.Key.Q.toString=n;h.Key.Q.__enum__=h.Key;h.Key.R=["R",17];h.Key.R.toString=
n;h.Key.R.__enum__=h.Key;h.Key.S=["S",18];h.Key.S.toString=n;h.Key.S.__enum__=h.Key;h.Key.T=["T",19];h.Key.T.toString=n;h.Key.T.__enum__=h.Key;h.Key.U=["U",20];h.Key.U.toString=n;h.Key.U.__enum__=h.Key;h.Key.V=["V",21];h.Key.V.toString=n;h.Key.V.__enum__=h.Key;h.Key.W=["W",22];h.Key.W.toString=n;h.Key.W.__enum__=h.Key;h.Key.X=["X",23];h.Key.X.toString=n;h.Key.X.__enum__=h.Key;h.Key.Y=["Y",24];h.Key.Y.toString=n;h.Key.Y.__enum__=h.Key;h.Key.Z=["Z",25];h.Key.Z.toString=n;h.Key.Z.__enum__=h.Key;h.Key.Number0=
["Number0",26];h.Key.Number0.toString=n;h.Key.Number0.__enum__=h.Key;h.Key.Number1=["Number1",27];h.Key.Number1.toString=n;h.Key.Number1.__enum__=h.Key;h.Key.Number2=["Number2",28];h.Key.Number2.toString=n;h.Key.Number2.__enum__=h.Key;h.Key.Number3=["Number3",29];h.Key.Number3.toString=n;h.Key.Number3.__enum__=h.Key;h.Key.Number4=["Number4",30];h.Key.Number4.toString=n;h.Key.Number4.__enum__=h.Key;h.Key.Number5=["Number5",31];h.Key.Number5.toString=n;h.Key.Number5.__enum__=h.Key;h.Key.Number6=["Number6",
32];h.Key.Number6.toString=n;h.Key.Number6.__enum__=h.Key;h.Key.Number7=["Number7",33];h.Key.Number7.toString=n;h.Key.Number7.__enum__=h.Key;h.Key.Number8=["Number8",34];h.Key.Number8.toString=n;h.Key.Number8.__enum__=h.Key;h.Key.Number9=["Number9",35];h.Key.Number9.toString=n;h.Key.Number9.__enum__=h.Key;h.Key.Numpad0=["Numpad0",36];h.Key.Numpad0.toString=n;h.Key.Numpad0.__enum__=h.Key;h.Key.Numpad1=["Numpad1",37];h.Key.Numpad1.toString=n;h.Key.Numpad1.__enum__=h.Key;h.Key.Numpad2=["Numpad2",38];
h.Key.Numpad2.toString=n;h.Key.Numpad2.__enum__=h.Key;h.Key.Numpad3=["Numpad3",39];h.Key.Numpad3.toString=n;h.Key.Numpad3.__enum__=h.Key;h.Key.Numpad4=["Numpad4",40];h.Key.Numpad4.toString=n;h.Key.Numpad4.__enum__=h.Key;h.Key.Numpad5=["Numpad5",41];h.Key.Numpad5.toString=n;h.Key.Numpad5.__enum__=h.Key;h.Key.Numpad6=["Numpad6",42];h.Key.Numpad6.toString=n;h.Key.Numpad6.__enum__=h.Key;h.Key.Numpad7=["Numpad7",43];h.Key.Numpad7.toString=n;h.Key.Numpad7.__enum__=h.Key;h.Key.Numpad8=["Numpad8",44];h.Key.Numpad8.toString=
n;h.Key.Numpad8.__enum__=h.Key;h.Key.Numpad9=["Numpad9",45];h.Key.Numpad9.toString=n;h.Key.Numpad9.__enum__=h.Key;h.Key.NumpadAdd=["NumpadAdd",46];h.Key.NumpadAdd.toString=n;h.Key.NumpadAdd.__enum__=h.Key;h.Key.NumpadDecimal=["NumpadDecimal",47];h.Key.NumpadDecimal.toString=n;h.Key.NumpadDecimal.__enum__=h.Key;h.Key.NumpadDivide=["NumpadDivide",48];h.Key.NumpadDivide.toString=n;h.Key.NumpadDivide.__enum__=h.Key;h.Key.NumpadEnter=["NumpadEnter",49];h.Key.NumpadEnter.toString=n;h.Key.NumpadEnter.__enum__=
h.Key;h.Key.NumpadMultiply=["NumpadMultiply",50];h.Key.NumpadMultiply.toString=n;h.Key.NumpadMultiply.__enum__=h.Key;h.Key.NumpadSubtract=["NumpadSubtract",51];h.Key.NumpadSubtract.toString=n;h.Key.NumpadSubtract.__enum__=h.Key;h.Key.F1=["F1",52];h.Key.F1.toString=n;h.Key.F1.__enum__=h.Key;h.Key.F2=["F2",53];h.Key.F2.toString=n;h.Key.F2.__enum__=h.Key;h.Key.F3=["F3",54];h.Key.F3.toString=n;h.Key.F3.__enum__=h.Key;h.Key.F4=["F4",55];h.Key.F4.toString=n;h.Key.F4.__enum__=h.Key;h.Key.F5=["F5",56];h.Key.F5.toString=
n;h.Key.F5.__enum__=h.Key;h.Key.F6=["F6",57];h.Key.F6.toString=n;h.Key.F6.__enum__=h.Key;h.Key.F7=["F7",58];h.Key.F7.toString=n;h.Key.F7.__enum__=h.Key;h.Key.F8=["F8",59];h.Key.F8.toString=n;h.Key.F8.__enum__=h.Key;h.Key.F9=["F9",60];h.Key.F9.toString=n;h.Key.F9.__enum__=h.Key;h.Key.F10=["F10",61];h.Key.F10.toString=n;h.Key.F10.__enum__=h.Key;h.Key.F11=["F11",62];h.Key.F11.toString=n;h.Key.F11.__enum__=h.Key;h.Key.F12=["F12",63];h.Key.F12.toString=n;h.Key.F12.__enum__=h.Key;h.Key.F13=["F13",64];h.Key.F13.toString=
n;h.Key.F13.__enum__=h.Key;h.Key.F14=["F14",65];h.Key.F14.toString=n;h.Key.F14.__enum__=h.Key;h.Key.F15=["F15",66];h.Key.F15.toString=n;h.Key.F15.__enum__=h.Key;h.Key.Left=["Left",67];h.Key.Left.toString=n;h.Key.Left.__enum__=h.Key;h.Key.Up=["Up",68];h.Key.Up.toString=n;h.Key.Up.__enum__=h.Key;h.Key.Right=["Right",69];h.Key.Right.toString=n;h.Key.Right.__enum__=h.Key;h.Key.Down=["Down",70];h.Key.Down.toString=n;h.Key.Down.__enum__=h.Key;h.Key.Alt=["Alt",71];h.Key.Alt.toString=n;h.Key.Alt.__enum__=
h.Key;h.Key.Backquote=["Backquote",72];h.Key.Backquote.toString=n;h.Key.Backquote.__enum__=h.Key;h.Key.Backslash=["Backslash",73];h.Key.Backslash.toString=n;h.Key.Backslash.__enum__=h.Key;h.Key.Backspace=["Backspace",74];h.Key.Backspace.toString=n;h.Key.Backspace.__enum__=h.Key;h.Key.CapsLock=["CapsLock",75];h.Key.CapsLock.toString=n;h.Key.CapsLock.__enum__=h.Key;h.Key.Comma=["Comma",76];h.Key.Comma.toString=n;h.Key.Comma.__enum__=h.Key;h.Key.Command=["Command",77];h.Key.Command.toString=n;h.Key.Command.__enum__=
h.Key;h.Key.Control=["Control",78];h.Key.Control.toString=n;h.Key.Control.__enum__=h.Key;h.Key.Delete=["Delete",79];h.Key.Delete.toString=n;h.Key.Delete.__enum__=h.Key;h.Key.End=["End",80];h.Key.End.toString=n;h.Key.End.__enum__=h.Key;h.Key.Enter=["Enter",81];h.Key.Enter.toString=n;h.Key.Enter.__enum__=h.Key;h.Key.Equals=["Equals",82];h.Key.Equals.toString=n;h.Key.Equals.__enum__=h.Key;h.Key.Escape=["Escape",83];h.Key.Escape.toString=n;h.Key.Escape.__enum__=h.Key;h.Key.Home=["Home",84];h.Key.Home.toString=
n;h.Key.Home.__enum__=h.Key;h.Key.Insert=["Insert",85];h.Key.Insert.toString=n;h.Key.Insert.__enum__=h.Key;h.Key.LeftBracket=["LeftBracket",86];h.Key.LeftBracket.toString=n;h.Key.LeftBracket.__enum__=h.Key;h.Key.Minus=["Minus",87];h.Key.Minus.toString=n;h.Key.Minus.__enum__=h.Key;h.Key.PageDown=["PageDown",88];h.Key.PageDown.toString=n;h.Key.PageDown.__enum__=h.Key;h.Key.PageUp=["PageUp",89];h.Key.PageUp.toString=n;h.Key.PageUp.__enum__=h.Key;h.Key.Period=["Period",90];h.Key.Period.toString=n;h.Key.Period.__enum__=
h.Key;h.Key.Quote=["Quote",91];h.Key.Quote.toString=n;h.Key.Quote.__enum__=h.Key;h.Key.RightBracket=["RightBracket",92];h.Key.RightBracket.toString=n;h.Key.RightBracket.__enum__=h.Key;h.Key.Semicolon=["Semicolon",93];h.Key.Semicolon.toString=n;h.Key.Semicolon.__enum__=h.Key;h.Key.Shift=["Shift",94];h.Key.Shift.toString=n;h.Key.Shift.__enum__=h.Key;h.Key.Slash=["Slash",95];h.Key.Slash.toString=n;h.Key.Slash.__enum__=h.Key;h.Key.Space=["Space",96];h.Key.Space.toString=n;h.Key.Space.__enum__=h.Key;h.Key.Tab=
["Tab",97];h.Key.Tab.toString=n;h.Key.Tab.__enum__=h.Key;h.Key.Menu=["Menu",98];h.Key.Menu.toString=n;h.Key.Menu.__enum__=h.Key;h.Key.Search=["Search",99];h.Key.Search.toString=n;h.Key.Search.__enum__=h.Key;h.Key.Unknown=function(a){a=["Unknown",100,a];a.__enum__=h.Key;a.toString=n;return a};h.KeyboardEvent=function(){this.init(0,null)};m["flambe.subsystem.KeyboardSystemEvent"]=h.KeyboardEvent;h.KeyboardEvent.__name__=["flambe","input","KeyboardEvent"];h.KeyboardEvent.prototype={init:function(a,b){this.id=
a;this.key=b},__class__:h.KeyboardEvent};h.MouseButton=m["flambe.subsystem.MouseSystemButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};h.MouseButton.Left=["Left",0];h.MouseButton.Left.toString=n;h.MouseButton.Left.__enum__=h.MouseButton;h.MouseButton.Middle=["Middle",1];h.MouseButton.Middle.toString=n;h.MouseButton.Middle.__enum__=h.MouseButton;h.MouseButton.Right=["Right",2];h.MouseButton.Right.toString=n;h.MouseButton.Right.__enum__=h.MouseButton;h.MouseButton.Unknown=
function(a){a=["Unknown",3,a];a.__enum__=h.MouseButton;a.toString=n;return a};h.MouseCursor=m["flambe.subsystem.MouseSystemCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};h.MouseCursor.Default=["Default",0];h.MouseCursor.Default.toString=n;h.MouseCursor.Default.__enum__=h.MouseCursor;h.MouseCursor.Button=["Button",1];h.MouseCursor.Button.toString=n;h.MouseCursor.Button.__enum__=h.MouseCursor;h.MouseCursor.None=["None",2];h.MouseCursor.None.toString=n;h.MouseCursor.None.__enum__=
h.MouseCursor;h.MouseEvent=function(){this.init(0,0,0,null)};m["flambe.subsystem.MouseSystemEvent"]=h.MouseEvent;h.MouseEvent.__name__=["flambe","input","MouseEvent"];h.MouseEvent.prototype={init:function(a,b,c,i){this.id=a;this.viewX=b;this.viewY=c;this.button=i},__class__:h.MouseEvent};h.EventSource=m["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};h.EventSource.Mouse=function(a){a=["Mouse",0,a];a.__enum__=h.EventSource;a.toString=n;return a};h.EventSource.Touch=
function(a){a=["Touch",1,a];a.__enum__=h.EventSource;a.toString=n;return a};h.PointerEvent=function(){this.init(0,0,0,null,null)};m["flambe.subsystem.PointerSystemEvent"]=h.PointerEvent;h.PointerEvent.__name__=["flambe","input","PointerEvent"];h.PointerEvent.prototype={init:function(a,b,c,i,d){this.id=a;this.viewX=b;this.viewY=c;this.hit=i;this.source=d;this._stopped=!1},__class__:h.PointerEvent};h.TouchPoint=function(a){this.id=a;this._source=h.EventSource.Touch(this)};m["flambe.subsystem.TouchSystemPoint"]=h.TouchPoint;
h.TouchPoint.__name__=["flambe","input","TouchPoint"];h.TouchPoint.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:h.TouchPoint};J.FMath=function(){};m["flambe.math.FMath"]=J.FMath;J.FMath.__name__=["flambe","math","FMath"];J.FMath.max=function(a,b){return a>b?a:b};J.FMath.clamp=function(a,b,c){return a<b?b:a>c?c:a};J.Matrix=function(){this.identity()};m["flambe.math.Matrix"]=J.Matrix;J.Matrix.__name__=["flambe","math","Matrix"];J.Matrix.prototype={inverseTransform:function(a,b,
c){var i=this.determinant();if(0==i)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/i;c.y=(b*this.m00-a*this.m10)/i;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},compose:function(a,b,c,i,d){var e=Math.sin(d),d=Math.cos(d);this.set(d*c,e*c,-e*i,d*i,a,b)},identity:function(){this.set(1,0,0,1,0,0)},set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=
d;this.m12=f},__class__:J.Matrix};J.Rectangle=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};m["flambe.math.Rectangle"]=J.Rectangle;J.Rectangle.__name__=["flambe","math","Rectangle"];J.Rectangle.prototype={contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},set:function(a,b,c,d){this.x=
a;this.y=b;this.width=c;this.height=d},__class__:J.Rectangle};j.BasicAsset=function(){this._disposed=!1};m["flambe.platform.BasicAsset"]=j.BasicAsset;j.BasicAsset.__name__=["flambe","platform","BasicAsset"];j.BasicAsset.__interfaces__=[q.Asset];j.BasicAsset.prototype={onRemoved:function(){null},dispose:function(){this._disposed||(this._disposed=!0,this.onRemoved())},__class__:j.BasicAsset};j.BasicAssetPackLoader=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new r.Promise;
this._bytesLoaded=new w.StringMap;this._pack=new j._BasicAssetPackLoader.BasicAssetPack(b,this);var d=ga.array(b);if(0==d.length)this.handleSuccess();else{for(var e=new w.StringMap,f=0;f<d.length;){var g=d[f];++f;var h=e.get(g.name);null==h&&(h=[],e.set(g.name,h));h.push(g)}this._assetsRemaining=ga.count(e);for(d=function(){return function(a){return function(){return function(){return a.iterator()}}()}}()(e)();d.hasNext();)h=d.next(),h=[h],this.pickBestEntry(h[0],function(a){return function(d){if(null!=
d){var i=b.getFullURL(d);try{c.loadEntry(i,d)}catch(e){c.handleError(d,"Unexpected error: "+t.string(e))}i=c.promise;i.set_total(i._total+d.bytes)}else d=a[0][0],j.BasicAssetPackLoader.isAudio(d.format)?c.handleLoad(d,j.DummySound.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(h))}};m["flambe.platform.BasicAssetPackLoader"]=j.BasicAssetPackLoader;j.BasicAssetPackLoader.__name__=["flambe","platform","BasicAssetPackLoader"];j.BasicAssetPackLoader.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;
default:return!1}};j.BasicAssetPackLoader.prototype={handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},handleError:function(a,b){this.promise.error.emit1(r.Strings.withFields(b,["url",a.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=function(a){return function(){return a.iterator()}}(this._bytesLoaded)();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},
handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files;break;case 14:case 15:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},getAssetFormats:function(){null},loadEntry:function(){null},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=
0;d<c.length;){var e=c[d];++d;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==e){b(g);return}}}b(null)})},onRemoved:function(){},__class__:j.BasicAssetPackLoader};j._BasicAssetPackLoader={};j._BasicAssetPackLoader.BasicAssetPack=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new w.StringMap;this.sounds=new w.StringMap;this.files=new w.StringMap};m["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=j._BasicAssetPackLoader.BasicAssetPack;j._BasicAssetPackLoader.BasicAssetPack.__name__=
["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];j._BasicAssetPackLoader.BasicAssetPack.__interfaces__=[q.AssetPack];j._BasicAssetPackLoader.BasicAssetPack.prototype={get_manifest:function(){return this._manifest},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=function(a){return function(){return a.iterator()}}(this.textures)();a.hasNext();)a.next().dispose();this.textures=null;for(a=function(a){return function(){return a.iterator()}}(this.sounds)();a.hasNext();)a.next().dispose();
this.sounds=null;for(a=function(a){return function(){return a.iterator()}}(this.files)();a.hasNext();)a.next().dispose();this.files=null;this.loader.onRemoved()}},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw r.Strings.withFields("Missing file",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw r.Strings.withFields("Missing sound",["name",a]);return c},getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);
if(null==c&&b)throw r.Strings.withFields("Missing texture",["name",a]);return c},__class__:j._BasicAssetPackLoader.BasicAssetPack,__properties__:{get_manifest:"get_manifest"}};j.BasicFile=function(a){j.BasicAsset.call(this);this._content=a};m["flambe.platform.BasicFile"]=j.BasicFile;j.BasicFile.__name__=["flambe","platform","BasicFile"];j.BasicFile.__interfaces__=[q.File];j.BasicFile.__super__=j.BasicAsset;j.BasicFile.prototype=v(j.BasicAsset.prototype,{onRemoved:function(){this._content=null},toString:function(){return this._content},
__class__:j.BasicFile});D={KeyboardSystem:function(){}};m["flambe.subsystem.KeyboardSystem"]=D.KeyboardSystem;D.KeyboardSystem.__name__=["flambe","subsystem","KeyboardSystem"];D.KeyboardSystem.prototype={__class__:D.KeyboardSystem};j.BasicKeyboard=function(){this.down=new r.Signal1;this.up=new r.Signal1;this.backButton=new r.Signal0;this._keyStates=new w.IntMap};m["flambe.platform.BasicKeyboard"]=j.BasicKeyboard;j.BasicKeyboard.__name__=["flambe","platform","BasicKeyboard"];j.BasicKeyboard.__interfaces__=
[D.KeyboardSystem];j.BasicKeyboard.prototype={submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),j.BasicKeyboard._sharedEvent.init(j.BasicKeyboard._sharedEvent.id+1,j.KeyCodes.toKey(a)),this.up.emit1(j.BasicKeyboard._sharedEvent))},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit0(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),j.BasicKeyboard._sharedEvent.init(j.BasicKeyboard._sharedEvent.id+1,j.KeyCodes.toKey(a)),
this.down.emit1(j.BasicKeyboard._sharedEvent));return!0},__class__:j.BasicKeyboard};D.MouseSystem=function(){};m["flambe.subsystem.MouseSystem"]=D.MouseSystem;D.MouseSystem.__name__=["flambe","subsystem","MouseSystem"];j.BasicMouse=function(a){this._pointer=a;this._source=h.EventSource.Mouse(j.BasicMouse._sharedEvent);this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1;this.scroll=new r.Signal1;this._y=this._x=0;this._cursor=h.MouseCursor.Default;this._buttonStates=new w.IntMap};
m["flambe.platform.BasicMouse"]=j.BasicMouse;j.BasicMouse.__name__=["flambe","platform","BasicMouse"];j.BasicMouse.__interfaces__=[D.MouseSystem];j.BasicMouse.prototype={prepare:function(a,b,c){this._x=a;this._y=b;j.BasicMouse._sharedEvent.init(j.BasicMouse._sharedEvent.id+1,a,b,c)},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit1(c);return!0},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,
j.MouseCodes.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit1(j.BasicMouse._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit1(j.BasicMouse._sharedEvent)},submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,j.MouseCodes.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit1(j.BasicMouse._sharedEvent))},__class__:j.BasicMouse};D.PointerSystem=
function(){};m["flambe.subsystem.PointerSystem"]=D.PointerSystem;D.PointerSystem.__name__=["flambe","subsystem","PointerSystem"];D.PointerSystem.prototype={__class__:D.PointerSystem};j.BasicPointer=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1;this._x=a;this._y=b;this._isDown=c};m["flambe.platform.BasicPointer"]=j.BasicPointer;j.BasicPointer.__name__=["flambe","platform","BasicPointer"];j.BasicPointer.__interfaces__=
[D.PointerSystem];j.BasicPointer.prototype={prepare:function(a,b,c,d){this._x=a;this._y=b;j.BasicPointer._sharedEvent.init(j.BasicPointer._sharedEvent.id+1,a,b,c,d)},submitUp:function(a,b,c){if(this._isDown){this._isDown=!1;var d=[],e=p.Sprite.hitTest(C.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(g=d[a],++a,g=g._pointerUp,null!=g&&(g.emit1(j.BasicPointer._sharedEvent),j.BasicPointer._sharedEvent._stopped))return;
this.up.emit1(j.BasicPointer._sharedEvent)}},submitMove:function(a,b,c){var d=[],e=p.Sprite.hitTest(C.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(g=d[a],++a,g=g._pointerMove,null!=g&&(g.emit1(j.BasicPointer._sharedEvent),j.BasicPointer._sharedEvent._stopped))return;this.move.emit1(j.BasicPointer._sharedEvent)},submitDown:function(a,b,c){if(!this._isDown){this._isDown=!0;var d=[],e=p.Sprite.hitTest(C.root,
a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(g=d[a],++a,g=g._pointerDown,null!=g&&(g.emit1(j.BasicPointer._sharedEvent),j.BasicPointer._sharedEvent._stopped))return;this.down.emit1(j.BasicPointer._sharedEvent)}},__class__:j.BasicPointer};D.TouchSystem=function(){};m["flambe.subsystem.TouchSystem"]=D.TouchSystem;D.TouchSystem.__name__=["flambe","subsystem","TouchSystem"];D.TouchSystem.prototype=
{__class__:D.TouchSystem};j.BasicTouch=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new w.IntMap;this._points=[];this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1};m["flambe.platform.BasicTouch"]=j.BasicTouch;j.BasicTouch.__name__=["flambe","platform","BasicTouch"];j.BasicTouch.__interfaces__=[D.TouchSystem];j.BasicTouch.prototype={submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),A.remove(this._points,
d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit1(d))},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit1(a))},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new h.TouchPoint(a);d.init(b,c);this._pointMap.set(a,d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit1(d)}},
get_supported:function(){return!0},__class__:j.BasicTouch,__properties__:{get_supported:"get_supported"}};K={Sound:function(){}};m["flambe.sound.Sound"]=K.Sound;K.Sound.__name__=["flambe","sound","Sound"];K.Sound.__interfaces__=[q.Asset];K.Sound.prototype={__class__:K.Sound};j.DummySound=function(){j.BasicAsset.call(this);this._playback=new j.DummyPlayback(this)};m["flambe.platform.DummySound"]=j.DummySound;j.DummySound.__name__=["flambe","platform","DummySound"];j.DummySound.__interfaces__=[K.Sound];
j.DummySound.getInstance=function(){null==j.DummySound._instance&&(j.DummySound._instance=new j.DummySound);return j.DummySound._instance};j.DummySound.__super__=j.BasicAsset;j.DummySound.prototype=v(j.BasicAsset.prototype,{get_duration:function(){return 0},loop:function(){return this._playback},play:function(){return this._playback},__class__:j.DummySound,__properties__:{get_duration:"get_duration"}});K.Playback=function(){};m["flambe.sound.Playback"]=K.Playback;K.Playback.__name__=["flambe","sound",
"Playback"];K.Playback.__interfaces__=[r.Disposable];K.Playback.prototype={__class__:K.Playback};j.DummyPlayback=function(a){this._sound=a;this.volume=new O.AnimatedFloat(0)};m["flambe.platform.DummyPlayback"]=j.DummyPlayback;j.DummyPlayback.__name__=["flambe","platform","DummyPlayback"];j.DummyPlayback.__interfaces__=[K.Playback];j.DummyPlayback.prototype={dispose:function(){},get_position:function(){return 0},get_ended:function(){return!0},__class__:j.DummyPlayback,__properties__:{get_ended:"get_ended",
get_position:"get_position"}};j.DummyTouch=function(){this.down=new r.Signal1;this.move=new r.Signal1;this.up=new r.Signal1};m["flambe.platform.DummyTouch"]=j.DummyTouch;j.DummyTouch.__name__=["flambe","platform","DummyTouch"];j.DummyTouch.__interfaces__=[D.TouchSystem];j.DummyTouch.prototype={get_supported:function(){return!1},__class__:j.DummyTouch,__properties__:{get_supported:"get_supported"}};j.EventGroup=function(){this._entries=[]};m["flambe.platform.EventGroup"]=j.EventGroup;j.EventGroup.__name__=
["flambe","platform","EventGroup"];j.EventGroup.__interfaces__=[r.Disposable];j.EventGroup.prototype={dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new j._EventGroup.Entry(a,b,c))},__class__:j.EventGroup};j._EventGroup={};j._EventGroup.Entry=
function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};m["flambe.platform._EventGroup.Entry"]=j._EventGroup.Entry;j._EventGroup.Entry.__name__=["flambe","platform","_EventGroup","Entry"];j._EventGroup.Entry.prototype={__class__:j._EventGroup.Entry};j.InternalGraphics=function(){};m["flambe.platform.InternalGraphics"]=j.InternalGraphics;j.InternalGraphics.__name__=["flambe","platform","InternalGraphics"];j.InternalGraphics.__interfaces__=[p.Graphics];j.InternalGraphics.prototype={__class__:j.InternalGraphics};
j.KeyCodes=function(){};m["flambe.platform.KeyCodes"]=j.KeyCodes;j.KeyCodes.__name__=["flambe","platform","KeyCodes"];j.KeyCodes.toKey=function(a){switch(a){case 65:return h.Key.A;case 66:return h.Key.B;case 67:return h.Key.C;case 68:return h.Key.D;case 69:return h.Key.E;case 70:return h.Key.F;case 71:return h.Key.G;case 72:return h.Key.H;case 73:return h.Key.I;case 74:return h.Key.J;case 75:return h.Key.K;case 76:return h.Key.L;case 77:return h.Key.M;case 78:return h.Key.N;case 79:return h.Key.O;
case 80:return h.Key.P;case 81:return h.Key.Q;case 82:return h.Key.R;case 83:return h.Key.S;case 84:return h.Key.T;case 85:return h.Key.U;case 86:return h.Key.V;case 87:return h.Key.W;case 88:return h.Key.X;case 89:return h.Key.Y;case 90:return h.Key.Z;case 48:return h.Key.Number0;case 49:return h.Key.Number1;case 50:return h.Key.Number2;case 51:return h.Key.Number3;case 52:return h.Key.Number4;case 53:return h.Key.Number5;case 54:return h.Key.Number6;case 55:return h.Key.Number7;case 56:return h.Key.Number8;
case 57:return h.Key.Number9;case 96:return h.Key.Numpad0;case 97:return h.Key.Numpad1;case 98:return h.Key.Numpad2;case 99:return h.Key.Numpad3;case 100:return h.Key.Numpad4;case 101:return h.Key.Numpad5;case 102:return h.Key.Numpad6;case 103:return h.Key.Numpad7;case 104:return h.Key.Numpad8;case 105:return h.Key.Numpad9;case 107:return h.Key.NumpadAdd;case 110:return h.Key.NumpadDecimal;case 111:return h.Key.NumpadDivide;case 108:return h.Key.NumpadEnter;case 106:return h.Key.NumpadMultiply;case 109:return h.Key.NumpadSubtract;
case 112:return h.Key.F1;case 113:return h.Key.F2;case 114:return h.Key.F3;case 115:return h.Key.F4;case 116:return h.Key.F5;case 117:return h.Key.F6;case 118:return h.Key.F7;case 119:return h.Key.F8;case 120:return h.Key.F9;case 121:return h.Key.F10;case 122:return h.Key.F11;case 123:return h.Key.F12;case 37:return h.Key.Left;case 38:return h.Key.Up;case 39:return h.Key.Right;case 40:return h.Key.Down;case 18:return h.Key.Alt;case 192:return h.Key.Backquote;case 220:return h.Key.Backslash;case 8:return h.Key.Backspace;
case 20:return h.Key.CapsLock;case 188:return h.Key.Comma;case 15:return h.Key.Command;case 17:return h.Key.Control;case 46:return h.Key.Delete;case 35:return h.Key.End;case 13:return h.Key.Enter;case 187:return h.Key.Equals;case 27:return h.Key.Escape;case 36:return h.Key.Home;case 45:return h.Key.Insert;case 219:return h.Key.LeftBracket;case 189:return h.Key.Minus;case 34:return h.Key.PageDown;case 33:return h.Key.PageUp;case 190:return h.Key.Period;case 222:return h.Key.Quote;case 221:return h.Key.RightBracket;
case 186:return h.Key.Semicolon;case 16:return h.Key.Shift;case 191:return h.Key.Slash;case 32:return h.Key.Space;case 9:return h.Key.Tab;case 16777234:return h.Key.Menu;case 16777247:return h.Key.Search}return h.Key.Unknown(a)};j.MainLoop=function(){this._tickables=[]};m["flambe.platform.MainLoop"]=j.MainLoop;j.MainLoop.__name__=["flambe","platform","MainLoop"];j.MainLoop.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_4;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(var d=
a.firstComponent;null!=d;)c=d.next,d.onUpdate(b),d=c;for(d=a.firstChild;null!=d;)c=d.next,j.MainLoop.updateEntity(d,b),d=c};j.MainLoop.prototype={addTickable:function(a){this._tickables.push(a)},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),p.Sprite.render(C.root,b),a.didRender())},update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}C.volume.update(a);j.MainLoop.updateEntity(C.root,
a)}},__class__:j.MainLoop};j.MouseCodes=function(){};m["flambe.platform.MouseCodes"]=j.MouseCodes;j.MouseCodes.__name__=["flambe","platform","MouseCodes"];j.MouseCodes.toButton=function(a){switch(a){case 0:return h.MouseButton.Left;case 1:return h.MouseButton.Middle;case 2:return h.MouseButton.Right}return h.MouseButton.Unknown(a)};j.Renderer=function(){};m["flambe.platform.Renderer"]=j.Renderer;j.Renderer.__name__=["flambe","platform","Renderer"];j.Renderer.prototype={__class__:j.Renderer};j.Tickable=
function(){};m["flambe.platform.Tickable"]=j.Tickable;j.Tickable.__name__=["flambe","platform","Tickable"];j.Tickable.prototype={__class__:j.Tickable};j.html.CanvasGraphics=function(a){this._firstDraw=!1;this._canvasCtx=a.getContext("2d")};m["flambe.platform.html.CanvasGraphics"]=j.html.CanvasGraphics;j.html.CanvasGraphics.__name__=["flambe","platform","html","CanvasGraphics"];j.html.CanvasGraphics.__interfaces__=[j.InternalGraphics];j.html.CanvasGraphics.prototype={didRender:function(){},willRender:function(){this._firstDraw=
!0},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="destination-in";break;case 3:b="copy"}this._canvasCtx.globalCompositeOperation=b},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},fillRect:function(a,b,c,d,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,
b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over"):(this._canvasCtx.fillStyle="#"+("00000"+a.toString(16)).slice(-6),this._canvasCtx.fillRect(b|0,c|0,d|0,e|0))},drawSubImage:function(a,b,c,d,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubImage(a,b,c,d,e,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,d|0,e|0,f|0,g|0,b|0,c|0,f|0,g|0)},drawImage:function(a,b,c){this._firstDraw?(this._firstDraw=
!1,this._canvasCtx.globalCompositeOperation="copy",this.drawImage(a,b,c),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,b|0,c|0)},restore:function(){this._canvasCtx.restore()},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},save:function(){this._canvasCtx.save()},__class__:j.html.CanvasGraphics};j.html.CanvasRenderer=function(a){this.graphics=new j.html.CanvasGraphics(a);C.hasGPU.set__(!0)};m["flambe.platform.html.CanvasRenderer"]=
j.html.CanvasRenderer;j.html.CanvasRenderer.__name__=["flambe","platform","html","CanvasRenderer"];j.html.CanvasRenderer.__interfaces__=[j.Renderer];j.html.CanvasRenderer.prototype={didRender:function(){this.graphics.didRender()},willRender:function(){this.graphics.willRender()},createCompressedTexture:function(){return null},getCompressedTextureFormats:function(){return[]},createEmptyTexture:function(a,b){return new j.html.CanvasTexture(j.html.HtmlUtil.createEmptyCanvas(a,b))},createTexture:function(a){return new j.html.CanvasTexture(j.html.CanvasRenderer.CANVAS_TEXTURES?
j.html.HtmlUtil.createCanvas(a):a)},__class__:j.html.CanvasRenderer};j.html.CanvasTexture=function(a){this.pattern=this._graphics=null;j.BasicAsset.call(this);this.image=a};m["flambe.platform.html.CanvasTexture"]=j.html.CanvasTexture;j.html.CanvasTexture.__name__=["flambe","platform","html","CanvasTexture"];j.html.CanvasTexture.__interfaces__=[p.Texture];j.html.CanvasTexture.__super__=j.BasicAsset;j.html.CanvasTexture.prototype=v(j.BasicAsset.prototype,{onRemoved:function(){this._graphics=this.pattern=
this.image=null},getContext2d:function(){M.__instanceof(this.image,HTMLCanvasElement)||(this.image=j.html.HtmlUtil.createCanvas(this.image));return this.image.getContext("2d")},get_graphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new j.html._CanvasTexture.InternalGraphics(this));return this._graphics},get_height:function(){return this.image.height},get_width:function(){return this.image.width},__class__:j.html.CanvasTexture,__properties__:{get_width:"get_width",get_height:"get_height",
get_graphics:"get_graphics"}});j.html._CanvasTexture={};j.html._CanvasTexture.InternalGraphics=function(a){j.html.CanvasGraphics.call(this,a.image);this._renderTarget=a};m["flambe.platform.html._CanvasTexture.InternalGraphics"]=j.html._CanvasTexture.InternalGraphics;j.html._CanvasTexture.InternalGraphics.__name__=["flambe","platform","html","_CanvasTexture","InternalGraphics"];j.html._CanvasTexture.InternalGraphics.__super__=j.html.CanvasGraphics;j.html._CanvasTexture.InternalGraphics.prototype=v(j.html.CanvasGraphics.prototype,
{fillRect:function(a,b,c,d,e){j.html.CanvasGraphics.prototype.fillRect.call(this,a,b,c,d,e);this._renderTarget.pattern=null},drawSubImage:function(a,b,c,d,e,f,g){j.html.CanvasGraphics.prototype.drawSubImage.call(this,a,b,c,d,e,f,g);this._renderTarget.pattern=null},drawImage:function(a,b,c){j.html.CanvasGraphics.prototype.drawImage.call(this,a,b,c);this._renderTarget.pattern=null},__class__:j.html._CanvasTexture.InternalGraphics});j.html.HtmlAssetPackLoader=function(a,b){j.BasicAssetPackLoader.call(this,
a,b)};m["flambe.platform.html.HtmlAssetPackLoader"]=j.html.HtmlAssetPackLoader;j.html.HtmlAssetPackLoader.__name__=["flambe","platform","html","HtmlAssetPackLoader"];j.html.HtmlAssetPackLoader.detectImageFormats=function(a){var b=[q.AssetFormat.PNG,q.AssetFormat.JPG,q.AssetFormat.GIF],c=2;R.delay(function(){b.unshift(q.AssetFormat.WEBP);--c;0==c&&a(b)},90);R.delay(function(){b.unshift(q.AssetFormat.JXR);--c;0==c&&a(b)},100)};j.html.HtmlAssetPackLoader.detectAudioFormats=function(){var a=B.document.createElement("audio");
if(null==a||null==u(a,a.canPlayType))return[];var b=new X("\\b(iPhone|iPod|iPad)\\b",""),c=B.window.navigator.userAgent;if(!j.html.WebAudioSound.get_supported()&&b.match(c))return[];for(var b=[{format:q.AssetFormat.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:q.AssetFormat.MP3,mimeType:"audio/mpeg"},{format:q.AssetFormat.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:q.AssetFormat.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:q.AssetFormat.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var e=
b[d];++d;var f="";try{f=a.canPlayType(e.mimeType)}catch(g){}""!=f&&c.push(e.format)}return c};j.html.HtmlAssetPackLoader.detectArchiveFormats=function(){return[q.AssetFormat.ZIP,q.AssetFormat.TAR]};j.html.HtmlAssetPackLoader.supportsBlob=function(){if(j.html.HtmlAssetPackLoader._detectBlobSupport){if(!j.html.HtmlAssetPackLoader.verifyBlobBrowserCompatibility())return j.html.HtmlAssetPackLoader._URL=null,j.html.HtmlAssetPackLoader._detectBlobSupport=!1;j.html.HtmlAssetPackLoader._detectBlobSupport=
!1;var a=new XMLHttpRequest;a.open("GET",".",!0);a.responseType="blob";if(""!=a.responseType&&"blob"!=a.responseType)return!1;j.html.HtmlAssetPackLoader._URL=j.html.HtmlUtil.loadExtension("URL").value}return null!=j.html.HtmlAssetPackLoader._URL&&null!=j.html.HtmlAssetPackLoader._URL.createObjectURL};j.html.HtmlAssetPackLoader.verifyBlobBrowserCompatibility=function(){return-1!=B.window.navigator.userAgent.toLowerCase().indexOf("silk")||-1!=B.window.navigator.userAgent.toLowerCase().indexOf("applewebkit/534.30")||
-1!=B.window.navigator.userAgent.toLowerCase().indexOf("applewebkit/535.19")||-1!=B.window.navigator.userAgent.toLowerCase().indexOf("IEMobile/10.0")||-1!=B.window.navigator.userAgent.toLowerCase().indexOf("IEMobile/9.0")?!1:!0};j.html.HtmlAssetPackLoader.__super__=j.BasicAssetPackLoader;j.html.HtmlAssetPackLoader.prototype=v(j.BasicAssetPackLoader.prototype,{download:function(a,b,c,d){var e=this,f=new XMLHttpRequest,g=0,h=function(){g=Date.now();f.open("GET",a,!0);f.responseType=c;""==f.responseType&&
(f.responseType="arraybuffer");f.send()},j=0;if("undefined"!=typeof f.onprogress){var k=4;f.onprogress=function(a){g=Date.now();e.handleProgress(b,a.loaded)};j=B.window.setInterval(function(){1<=f.readyState&&5E3<Date.now()-g&&(f.abort(),--k,0<k?h():(B.window.clearInterval(j),e.handleError(b,"Request timed out")))},1E3)}f.onload=function(){B.window.clearInterval(j);var a=f.response;null==a?a=f.responseText:"blob"==c&&"arraybuffer"==f.responseType&&(a=new Blob([f.response]));d(a)};f.onerror=function(){B.window.clearInterval(j);
e.handleError(b,"Failed to load asset: error #"+f.status)};h();return f},getAssetFormats:function(a){var b=this;null==j.html.HtmlAssetPackLoader._supportedFormats&&(j.html.HtmlAssetPackLoader._supportedFormats=new r.Promise,j.html.HtmlAssetPackLoader.detectImageFormats(function(a){j.html.HtmlAssetPackLoader._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(j.html.HtmlAssetPackLoader.detectAudioFormats()).concat(j.html.HtmlAssetPackLoader.detectArchiveFormats()).concat([q.AssetFormat.Data]))}));
j.html.HtmlAssetPackLoader._supportedFormats.get(a)},getArchiveEntryData:function(a,b){var c="",d=q.Manifest.inferFormat(a.fileName),e="",e="";0<a.fileName.indexOf("/")?e=a.fileName.substr("/"==a.fileName.charAt(0)?1:0,a.fileName.length):(e=A.substr(b.name,0<b.name.lastIndexOf("/")?b.name.lastIndexOf("/")+1:0,b.name.length),e=e+"/"+t.string(a.fileName));switch(d[1]){case 2:c="image/png";break;case 3:c="image/jpeg";break;case 1:c="image/vnd.ms-photo";break;case 4:c="image/gif";break;case 0:c="image/webp";
break;case 9:c="audio/mp4";break;case 8:c="audio/mpeg";break;case 11:case 10:c="audio/ogg";break;case 12:c="audio/wave";break;case 14:c="application/zip";break;case 5:case 6:case 7:c="application/octet-stream";break;case 15:c="application/x-tar";break;case 13:c=""}""!=c&&(e=r.Strings.removeFileExtension(e));return{type:c,format:d,name:e}},loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d=B.document.createElement("img"),e=new j.EventGroup;e.addDisposingListener(d,
"load",function(){j.html.HtmlAssetPackLoader.supportsBlob()&&j.html.HtmlAssetPackLoader._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTexture(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});e.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});j.html.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"blob",function(a){d.src=j.html.HtmlAssetPackLoader._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",
function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(j.html.WebAudioSound.get_supported())this.download(a,b,"arraybuffer",function(a){j.html.WebAudioSound.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new j.html.WebAudioSound(a))},function(){c.handleLoad(b,j.DummySound.getInstance())})});else{var f=B.document.createElement("audio");f.preload="auto";var g=++j.html.HtmlAssetPackLoader._mediaRefCount;
null==j.html.HtmlAssetPackLoader._mediaElements&&(j.html.HtmlAssetPackLoader._mediaElements=new w.IntMap);j.html.HtmlAssetPackLoader._mediaElements.set(g,f);e=new j.EventGroup;e.addDisposingListener(f,"canplaythrough",function(){j.html.HtmlAssetPackLoader._mediaElements.remove(g);c.handleLoad(b,new j.html.HtmlSound(f))});e.addDisposingListener(f,"error",function(){j.html.HtmlAssetPackLoader._mediaElements.remove(g);var a=f.error.code;3==a||4==a?c.handleLoad(b,j.DummySound.getInstance()):c.handleError(b,
"Failed to load audio: "+f.error.code)});e.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;c.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new j.BasicFile(a))});break;case 14:j.html.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"arraybuffer",function(a){for(var a=x.Bytes.ofData(new Uint8Array(a)),d,a=(new s.Reader(new x.BytesInput(a))).read().iterator();a.hasNext();){var e=
a.next();d=r.Strings.getUrlExtension(e.fileName);if("."==e.fileName.charAt(0)||0<=e.fileName.indexOf("/."))d="";if(!(""==d||null==d)){c._assetsRemaining+=1;d=c.promise;d.set_total(d._total+e.dataSize);d=c.getArchiveEntryData(e,b);var i=new Uint8Array(e.data.b),i=new Blob([i.buffer],{type:d.type});d.format==q.AssetFormat.Data&&(i=new Blob([s.Reader.unzip(e)],{type:d.type}));i=j.html.HtmlAssetPackLoader._URL.createObjectURL(i);e=c.manifest.add(d.name,e.fileName,e.dataSize,d.format);c.loadEntry(i,e)}}c.handleLoad(b,
new j.BasicFile(""))}):null;break;case 15:j.html.HtmlAssetPackLoader.supportsBlob()?this.download(a,b,"arraybuffer",function(a){for(var a=x.Bytes.ofData(new Uint8Array(a)),d,a=(new da.Reader(new x.BytesInput(a))).read().iterator();a.hasNext();){var e=a.next();d=r.Strings.getUrlExtension(e.fileName);if("."==e.fileName.charAt(0)||0<=e.fileName.indexOf("/."))d="";if(!(""==d||null==d)){c._assetsRemaining+=1;d=c.promise;d.set_total(d._total+e.fileSize);d=c.getArchiveEntryData(e,b);var i=new Uint8Array(e.data.b),
i=new Blob([i.buffer],{type:d.type});d.format==q.AssetFormat.Data&&(i=new Blob([e.data],{type:d.type}));i=j.html.HtmlAssetPackLoader._URL.createObjectURL(i);e=c.manifest.add(d.name,e.fileName,e.fileSize,d.format);c.loadEntry(i,e)}}c.handleLoad(b,new j.BasicFile(""))}):null}},__class__:j.html.HtmlAssetPackLoader});j.html.HtmlMouse=function(a,b){j.BasicMouse.call(this,a);this._canvas=b};m["flambe.platform.html.HtmlMouse"]=j.html.HtmlMouse;j.html.HtmlMouse.__name__=["flambe","platform","html","HtmlMouse"];
j.html.HtmlMouse.__super__=j.BasicMouse;j.html.HtmlMouse.prototype=v(j.BasicMouse.prototype,{__class__:j.html.HtmlMouse});j.html.HtmlSound=function(a){j.BasicAsset.call(this);this.audioElement=a};m["flambe.platform.html.HtmlSound"]=j.html.HtmlSound;j.html.HtmlSound.__name__=["flambe","platform","html","HtmlSound"];j.html.HtmlSound.__interfaces__=[K.Sound];j.html.HtmlSound.__super__=j.BasicAsset;j.html.HtmlSound.prototype=v(j.BasicAsset.prototype,{onRemoved:function(){this.audioElement=null},get_duration:function(){return this.audioElement.duration},
loop:function(a){null==a&&(a=1);return new j.html._HtmlSound.HtmlPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new j.html._HtmlSound.HtmlPlayback(this,a,!1)},__class__:j.html.HtmlSound,__properties__:{get_duration:"get_duration"}});j.html._HtmlSound={};j.html._HtmlSound.HtmlPlayback=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=B.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new O.AnimatedFloat(b,
function(){d.updateVolume()});this.updateVolume();this.playAudio();C.hidden._value&&this.set_paused(!0)};m["flambe.platform.html._HtmlSound.HtmlPlayback"]=j.html._HtmlSound.HtmlPlayback;j.html._HtmlSound.HtmlPlayback.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];j.html._HtmlSound.HtmlPlayback.__interfaces__=[j.Tickable,K.Playback];j.html._HtmlSound.HtmlPlayback.prototype={updateVolume:function(){this._clonedElement.volume=C.volume._value*this.volume._value},playAudio:function(){var a=
this;this._clonedElement.loop&&!j.html.HtmlPlatform.instance.musicPlaying&&(j.html.HtmlPlatform.instance.musicPlaying=!0,this._clonedElement.play(),this._tickableAdded||(j.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=C.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=C.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)})))},dispose:function(){this.set_paused(!0)},
update:function(a){this.volume.update(a);return this._clonedElement.ended||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},get_position:function(){return this._clonedElement.currentTime},get_ended:function(){return this._clonedElement.ended},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},__class__:j.html._HtmlSound.HtmlPlayback,__properties__:{get_ended:"get_ended",
get_position:"get_position"}};D.StageSystem=function(){};m["flambe.subsystem.StageSystem"]=D.StageSystem;D.StageSystem.__name__=["flambe","subsystem","StageSystem"];j.html.HtmlStage=function(a){var b=this;this._canvas=a;this.resize=new r.Signal0;this.scaleFactor=j.html.HtmlStage.computeScaleFactor();1!=this.scaleFactor&&(j.html.HtmlUtil.setVendorStyle(this._canvas,"transform-origin","top left"),j.html.HtmlUtil.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));j.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&
(B.window.addEventListener("orientationchange",function(){j.html.HtmlUtil.callLater(u(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());B.window.addEventListener("resize",u(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new r.Value(null);null!=B.window.orientation&&(B.window.addEventListener("orientationchange",u(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new r.Value(!1);j.html.HtmlUtil.addVendorListener(B.document,"fullscreenchange",
function(){b.updateFullscreen()},!1);this.updateFullscreen()};m["flambe.platform.html.HtmlStage"]=j.html.HtmlStage;j.html.HtmlStage.__name__=["flambe","platform","html","HtmlStage"];j.html.HtmlStage.__interfaces__=[D.StageSystem];j.html.HtmlStage.computeScaleFactor=function(){if(-1!=eval("navigator.userAgent.toLowerCase();").indexOf("ipad"))return 1;var a=B.window.devicePixelRatio;null==a&&(a=1);var b=B.document.createElement("canvas").getContext("2d"),b=j.html.HtmlUtil.loadExtension("backingStorePixelRatio",
b).value;null==b&&(b=1);return a/b};j.html.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==j.html.HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],B.document).value)},onOrientationChange:function(){this.orientation.set__(j.html.HtmlUtil.orientation(B.window.orientation))},hideMobileBrowser:function(){var a=this,b=B.document.documentElement.style;b.height=B.window.innerHeight+100+"px";b.width=B.window.innerWidth+"px";b.overflow="visible";j.html.HtmlUtil.callLater(function(){j.html.HtmlUtil.hideMobileBrowser();
j.html.HtmlUtil.callLater(function(){b.height=B.window.innerHeight+"px";a.onWindowResize(null)},100)})},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit0();return!0},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},
__class__:j.html.HtmlStage};j.html.HtmlUtil=function(){};m["flambe.platform.html.HtmlUtil"]=j.html.HtmlUtil;j.html.HtmlUtil.__name__=["flambe","platform","html","HtmlUtil"];j.html.HtmlUtil.callLater=function(a,b){null==b&&(b=0);B.window.setTimeout(a,b)};j.html.HtmlUtil.hideMobileBrowser=function(){B.window.scrollTo(1,0)};j.html.HtmlUtil.loadExtension=function(a,b){null==b&&(b=B.window);var c=H.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+A.substr(a,1,
null),d=0,e=j.html.HtmlUtil.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;var g=f+c,h=H.field(b,g);if(null!=h)return{prefix:f,field:g,value:h}}return{prefix:null,field:null,value:null}};j.html.HtmlUtil.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=j.html.HtmlUtil.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};j.html.HtmlUtil.polyfill=function(a,b){null==b&&(b=B.window);var c=j.html.HtmlUtil.loadExtension(a,b).value;if(null==c)return!1;
b[a]=c;return!0};j.html.HtmlUtil.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=j.html.HtmlUtil.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};j.html.HtmlUtil.addVendorListener=function(a,b,c,d){for(var e=0,f=j.html.HtmlUtil.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};j.html.HtmlUtil.orientation=function(a){switch(a){case -90:case 90:return p.Orientation.Landscape;default:return p.Orientation.Portrait}};
j.html.HtmlUtil.createEmptyCanvas=function(a,b){var c=B.document.createElement("canvas");c.width=a;c.height=b;return c};j.html.HtmlUtil.createCanvas=function(a){var b=j.html.HtmlUtil.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};j.html.HtmlUtil.fixAndroidMath=function(){if(0<=B.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=
function(a){return 0==a?1:b(a)}}};j.html.WebAudioSound=function(a){j.BasicAsset.call(this);this.buffer=a};m["flambe.platform.html.WebAudioSound"]=j.html.WebAudioSound;j.html.WebAudioSound.__name__=["flambe","platform","html","WebAudioSound"];j.html.WebAudioSound.__interfaces__=[K.Sound];j.html.WebAudioSound.get_supported=function(){if(j.html.WebAudioSound._detectSupport){j.html.WebAudioSound._detectSupport=!1;var a=j.html.HtmlUtil.loadExtension("AudioContext").value;null!=a&&(j.html.WebAudioSound.ctx=
new a,j.html.WebAudioSound.gain=null!=j.html.WebAudioSound.ctx.createGain?j.html.WebAudioSound.ctx.createGain():j.html.WebAudioSound.ctx.createGain(),j.html.WebAudioSound.gain.connect(j.html.WebAudioSound.ctx.destination),C.volume.watch(function(a){j.html.WebAudioSound.gain.gain.value=a}))}return null!=j.html.WebAudioSound.ctx};j.html.WebAudioSound.__super__=j.BasicAsset;j.html.WebAudioSound.prototype=v(j.BasicAsset.prototype,{onRemoved:function(){this.buffer=null},get_duration:function(){return this.buffer.duration},
loop:function(a){null==a&&(a=1);return new j.html._WebAudioSound.WebAudioPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new j.html._WebAudioSound.WebAudioPlayback(this,a,!1)},__class__:j.html.WebAudioSound,__properties__:{get_duration:"get_duration"}});j.html._WebAudioSound={};j.html._WebAudioSound.WebAudioPlayback=function(a,b,c){var d=this;this._sound=a;this._head=j.html.WebAudioSound.gain;this._sourceNode=j.html.WebAudioSound.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;
this._sourceNode.loop=c;null!=this._sourceNode.start?this._sourceNode.start(0):this._sourceNode.start(0);this.playAudio();this.volume=new O.AnimatedFloat(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b);C.hidden._value&&this.set_paused(!0)};m["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=j.html._WebAudioSound.WebAudioPlayback;j.html._WebAudioSound.WebAudioPlayback.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];j.html._WebAudioSound.WebAudioPlayback.__interfaces__=
[j.Tickable,K.Playback];j.html._WebAudioSound.WebAudioPlayback.prototype={playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=j.html.WebAudioSound.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(j.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=C.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),
this._sourceNode.connect(a));a.connect(this._head);this._head=a},setVolume:function(a){null==this._gainNode&&(this._gainNode=null!=j.html.WebAudioSound.ctx.createGain?j.html.WebAudioSound.ctx.createGain():j.html.WebAudioSound.ctx.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},dispose:function(){this.set_paused(!0);null!=this._sourceNode&&(this._sourceNode.disconnect(),this._sourceNode=null);null!=this._gainNode&&(this._gainNode.disconnect(),this._gainNode=null);
this._tickableAdded=!1;null!=this._hideBinding&&(this._hideBinding.dispose(),this._hideBinding=null)},update:function(a){this.volume.update(a);return 0<=this._pausedAt||null==this._sourceNode||3==this._sourceNode.playbackState?(this._tickableAdded=!1,null!=this._hideBinding&&this._hideBinding.dispose(),!0):!1},get_position:function(){return null==this._sourceNode||3==this._sourceNode.playbackState?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(j.html.WebAudioSound.ctx.currentTime-this._startedAt)%
this._sound.get_duration()},get_ended:function(){return null==this._sourceNode?!0:3==this._sourceNode.playbackState},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},__class__:j.html._WebAudioSound.WebAudioPlayback,__properties__:{get_ended:"get_ended",get_position:"get_position"}};D={Director:function(){this._transitor=null}};m["flambe.scene.Director"]=D.Director;D.Director.__name__=["flambe","scene","Director"];
D.Director.__super__=S;D.Director.prototype=v(S.prototype,{completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a],b=b._compMap.Scene_5;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];b=this.get_topScene();null!=b&&this.show(b)},show:function(a){a=a._compMap.Scene_5;null!=
a&&a.shown.emit0()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},get_name:function(){return"Director_3"},__class__:D.Director});D._Director=
{};D._Director.Transitor=function(){};m["flambe.scene._Director.Transitor"]=D._Director.Transitor;D._Director.Transitor.__name__=["flambe","scene","_Director","Transitor"];D._Director.Transitor.prototype={complete:function(){this._transition.complete();this._onComplete()},update:function(a){return this._transition.update(a)},__class__:D._Director.Transitor};D.Scene=function(){};m["flambe.scene.Scene"]=D.Scene;D.Scene.__name__=["flambe","scene","Scene"];D.Scene.__super__=S;D.Scene.prototype=v(S.prototype,
{get_name:function(){return"Scene_5"},__class__:D.Scene});D.Transition=function(){};m["flambe.scene.Transition"]=D.Transition;D.Transition.__name__=["flambe","scene","Transition"];D.Transition.prototype={complete:function(){},update:function(){return!0},__class__:D.Transition};K.Mixer=function(){this._sounds=[]};m["flambe.sound.Mixer"]=K.Mixer;K.Mixer.__name__=["flambe","sound","Mixer"];K.Mixer.__super__=S;K.Mixer.prototype=v(S.prototype,{onRemoved:function(){this.stopAll();this._sounds=[]},stopAll:function(){for(var a=
0,b=this._sounds;a<b.length;){var c=b[a];++a;c.dispose()}},newSound:function(a,b){null==b&&(b=2147483647);var c=new K._Mixer.MixerSound(a,b);this._sounds.push(c);return c},get_name:function(){return"Mixer_2"},__class__:K.Mixer});K._Mixer={};K._Mixer.MixerSound=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};m["flambe.sound._Mixer.MixerSound"]=K._Mixer.MixerSound;K._Mixer.MixerSound.__name__=["flambe","sound","_Mixer","MixerSound"];K._Mixer.MixerSound.__interfaces__=[r.Disposable,
K.Sound];K._Mixer.MixerSound.prototype={dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var c=b[a];++a;c.dispose()}this._source=null;this._playbacks=[]},get_duration:function(){return this._source.get_duration()},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,d=this._playbacks[c];if(null==d||d.get_ended())return c}return-1},playOrLoop:function(a,b){var c=this.findOpenChannel();if(0>c)return new j.DummyPlayback(this);var d=b?this._source.loop(a):this._source.play(a);
return this._playbacks[c]=d},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},__class__:K._Mixer.MixerSound,__properties__:{get_duration:"get_duration"}};z={BitmapSprite:function(a){p.Sprite.call(this);this.symbol=a;this.anchorX.set__(a.anchorX);this.anchorY.set__(a.anchorY)}};m["flambe.swf.BitmapSprite"]=z.BitmapSprite;z.BitmapSprite.__name__=["flambe","swf","BitmapSprite"];z.BitmapSprite.__super__=p.Sprite;z.BitmapSprite.prototype=
v(p.Sprite.prototype,{getNaturalHeight:function(){return this.symbol.height},getNaturalWidth:function(){return this.symbol.width},draw:function(a){a.drawSubImage(this.symbol.atlas,0,0,this.symbol.x,this.symbol.y,this.symbol.width,this.symbol.height)},__class__:z.BitmapSprite});z.Symbol=function(){};m["flambe.swf.Symbol"]=z.Symbol;z.Symbol.__name__=["flambe","swf","Symbol"];z.Symbol.prototype={__class__:z.Symbol};z.BitmapSymbol=function(a,b){this._name=a.symbol;this.atlas=b;var c=a.rect;this.x=c[0];
this.y=c[1];this.width=c[2];this.height=c[3];c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0};m["flambe.swf.BitmapSymbol"]=z.BitmapSymbol;z.BitmapSymbol.__name__=["flambe","swf","BitmapSymbol"];z.BitmapSymbol.__interfaces__=[z.Symbol];z.BitmapSymbol.prototype={get_name:function(){return this._name},createSprite:function(){return new z.BitmapSprite(this)},__class__:z.BitmapSymbol,__properties__:{get_name:"get_name"}};z.Library=function(a,b){this._symbols=new w.StringMap;
var c=Y.parse(a.getFile(b+"/library.json").toString());this.frameRate=c.frameRate;for(var d=[],e=0,f=c.movies;e<f.length;){var g=f[e];++e;g=new z.MovieSymbol(this,g);d.push(g);this._symbols.set(g.get_name(),g)}e=c.textureGroups;(1!=e[0].scaleFactor||1<e.length)&&null;g=e[0].atlases;for(e=0;e<g.length;){c=g[e];++e;for(var h=a.getTexture(b+"/"+r.Strings.removeFileExtension(c.file)),f=0,c=c.textures;f<c.length;){var j=c[f];++f;j=new z.BitmapSymbol(j,h);this._symbols.set(j.get_name(),j)}}for(e=0;e<d.length;){g=
d[e];++e;f=0;for(c=g.layers;f<c.length;){g=c[f];++f;g=g.keyframes;h=g.length;for(j=0;j<h;){var k=j++,l=g[k];if(null!=l.symbolName){var m=this._symbols.get(l.symbolName);l.symbol=m}if(1==l.duration&&k+1<h&&(k=g[k+1],!k.visible||null==k.symbolName))l.visible=!1}}}};m["flambe.swf.Library"]=z.Library;z.Library.__name__=["flambe","swf","Library"];z.Library.prototype={__class__:z.Library};z.MovieSprite=function(a){this._looped=null;p.Sprite.call(this);this.symbol=a;this.speed=new O.AnimatedFloat(1);this._animators=
Array(a.layers.length);for(var b=0,c=this._animators.length;b<c;){var d=b++;this._animators[d]=new z._MovieSprite.LayerAnimator(a.layers[d])}this._position=this._frame=0;this["goto"](1)};m["flambe.swf.MovieSprite"]=z.MovieSprite;z.MovieSprite.__name__=["flambe","swf","MovieSprite"];z.MovieSprite.__super__=p.Sprite;z.MovieSprite.prototype=v(p.Sprite.prototype,{rewind:function(){this._position=0;this._flags|=32},set_paused:function(a){this._flags=r.BitSets.set(this._flags,16,a);return a},set_position:function(a){return this._position=
J.FMath.clamp(a,0,this.symbol.duration)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<c.length;){var d=c[b];++b;d.needsKeyframeUpdate=!0;d.keyframeIdx=0}b=0;for(c=this._animators;b<c.length;)d=c[b],++b,d.composeFrame(a);this._frame=a}},onUpdate:function(a){p.Sprite.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&48){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=this.symbol.duration,
null!=this._looped&&this._looped.emit0());break;case 32:this._flags&=-33}this["goto"](this._position*this.symbol.frameRate)},onRemoved:function(){p.Sprite.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.content)}},onAdded:function(){p.Sprite.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.addChild(c.content)}},__class__:z.MovieSprite});z._MovieSprite={};z._MovieSprite.LayerAnimator=
function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=!1;this.layer=a;this.content=new P;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var b=0,c=this._sprites.length;b<c;){var d=b++,e=a.keyframes[d];this._sprites[d]=0<d&&a.keyframes[d-1].symbol==e.symbol?this._sprites[d-1]:null==e.symbol?new p.Sprite:e.symbol.createSprite()}this.content.add(this._sprites[0])}};m["flambe.swf._MovieSprite.LayerAnimator"]=z._MovieSprite.LayerAnimator;z._MovieSprite.LayerAnimator.__name__=
["flambe","swf","_MovieSprite","LayerAnimator"];z._MovieSprite.LayerAnimator.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_1.set_visible(!1),this.keyframeIdx=c,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var d;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,d=this._sprites[this.keyframeIdx],d!=this.content._compMap.Sprite_1&&
(N.getClass(d)==z.MovieSprite&&d.rewind(),this.content.add(d))):d=this.content._compMap.Sprite_1;var e=b[this.keyframeIdx],f=e.visible&&null!=e.symbol;d.set_visible(f);if(f){var f=e.x,g=e.y,h=e.scaleX,j=e.scaleY,k=e.skewX,l=e.skewY,m=e.alpha;if(e.tweened&&this.keyframeIdx<c){a=(a-e.index)/e.duration;c=e.ease;if(0!=c){var n;0>c?(n=1-a,n=1-n*n,c=-c):n=a*a;a=c*n+(1-c)*a}b=b[this.keyframeIdx+1];f+=(b.x-f)*a;g+=(b.y-g)*a;h+=(b.scaleX-h)*a;j+=(b.scaleY-j)*a;k+=(b.skewX-k)*a;l+=(b.skewY-l)*a;m+=(b.alpha-
m)*a}b=d.getLocalMatrix();a=Math.sin(k);k=Math.cos(k);c=Math.sin(l);l=Math.cos(l);b.set(l*h,c*h,-a*j,k*j,f,g);b.translate(-e.pivotX,-e.pivotY);d.alpha.set__(m)}}}},__class__:z._MovieSprite.LayerAnimator};z.MovieSymbol=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var e=c++,f=new z.MovieLayer(b.layers[e]);this.frames=Math.max(f.frames,this.frames);this.layers[e]=f}this.duration=this.frames/this.frameRate};
m["flambe.swf.MovieSymbol"]=z.MovieSymbol;z.MovieSymbol.__name__=["flambe","swf","MovieSymbol"];z.MovieSymbol.__interfaces__=[z.Symbol];z.MovieSymbol.prototype={createSprite:function(){return new z.MovieSprite(this)},get_name:function(){return this._name},__class__:z.MovieSymbol,__properties__:{get_name:"get_name"}};z.MovieLayer=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,d=this.keyframes.length;c<d;){var e=c++,b=new z.MovieKeyframe(a.keyframes[e],
b);this.keyframes[e]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+(b.duration|0):0};m["flambe.swf.MovieLayer"]=z.MovieLayer;z.MovieLayer.__name__=["flambe","swf","MovieLayer"];z.MovieLayer.prototype={__class__:z.MovieLayer};z.MovieKeyframe=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;
this.label=a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=a.ease&&(this.ease=a.ease)};m["flambe.swf.MovieKeyframe"]=z.MovieKeyframe;z.MovieKeyframe.__name__=["flambe","swf","MovieKeyframe"];
z.MovieKeyframe.prototype={__class__:z.MovieKeyframe};r.BitSets=function(){};m["flambe.util.BitSets"]=r.BitSets;r.BitSets.__name__=["flambe","util","BitSets"];r.BitSets.set=function(a,b,c){return c?a|b:a&~b};r.Promise=function(){this.success=new r.Signal1;this.error=new r.Signal1;this.progressChanged=new r.Signal0;this.hasResult=!1;this._total=this._progress=0};m["flambe.util.Promise"]=r.Promise;r.Promise.__name__=["flambe","util","Promise"];r.Promise.prototype={set_total:function(a){this._total!=
a&&(this._total=a,this.progressChanged.emit0());return a},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit0());return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit1(a);return a},__class__:r.Promise};r.Signal0=function(a){r.SignalBase.call(this,a)};m["flambe.util.Signal0"]=r.Signal0;
r.Signal0.__name__=["flambe","util","Signal0"];r.Signal0.__super__=r.SignalBase;r.Signal0.prototype=v(r.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:r.Signal0});r._SignalBase={};r._SignalBase.Task=function(a){this.next=null;this.fn=a};m["flambe.util._SignalBase.Task"]=r._SignalBase.Task;r._SignalBase.Task.__name__=["flambe","util","_SignalBase","Task"];r._SignalBase.Task.prototype={__class__:r._SignalBase.Task};r.Strings=function(){};m["flambe.util.Strings"]=
r.Strings;r.Strings.__name__=["flambe","util","Strings"];r.Strings.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?A.substr(a,b+1,null):null};r.Strings.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?A.substr(a,0,b):a};r.Strings.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=A.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=A.substr(a,b+1,null));return r.Strings.getFileExtension(a)};r.Strings.joinPath=function(a,b){47!=a.charCodeAt(a.length-1)&&(a+=
"/");return a+b};r.Strings.withFields=function(a,b){var c=b.length;if(0<c){for(var a=a+(0<a.length?" [":"["),d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(M.__instanceof(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+t.string(f);d+=2}a+="]"}return a};da=void 0;da={Reader:function(a){this.i=a}};m["format.tar.Reader"]=da.Reader;da.Reader.__name__=["format","tar","Reader"];da.Reader.prototype={parseOctal:function(a){for(var b=0,c=0,d=a.length;c<d;){var e=c++,e=a.b[e];if(0==e)break;if(32!=e){if(48>
e||55<e)throw"Invalid octal char";b=8*b+(e-48)}}return b},readPad:function(a){this.i.read(512*Math.ceil(a/512)-a)},readEntryHeader:function(){var a=this.i,b=a.readUntil(0);if(0==b.length){for(b=0;1023>b;)if(b++,0!=a.readByte())throw"Invalid TAR end";return null}a.read(99-b.length);var c=this.parseOctal(a.read(8)),d=this.parseOctal(a.read(8)),e=this.parseOctal(a.read(8)),f=this.parseOctal(a.read(12)),g=this.parseOctal(a.read(8)),g=512*g+this.parseOctal(a.read(4));a.read(8);a.readByte();var h=a.readUntil(0);
a.read(99-h.length);a.readString(8);h=a.readUntil(0);a.read(31-h.length);var j=a.readUntil(0);a.read(31-j.length);this.parseOctal(a.read(8));this.parseOctal(a.read(8));var k=a.readUntil(0);a.read(166-k.length);a=new Date;a.setTime(1E3*g);return{fileName:b,fileSize:f,fileTime:a,fmod:c,uid:d,uname:h,gid:e,gname:j,data:null}},read:function(){var a=new $;for(x.Bytes.alloc(65536);;){var b=this.readEntryHeader();if(null==b)break;var c=b.fileSize;b.data=this.i.read(c);this.readPad(c);a.add(b)}return a},
__class__:da.Reader};G=void 0;w=void 0;R=void 0;T=void 0;W=void 0;fa=void 0;x=void 0;s=void 0;Y=void 0;Z=void 0;Y=function(){};m["haxe.Json"]=Y;Y.__name__=["haxe","Json"];Y.parse=function(a){return(new Y).doParse(a)};Y.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,e=48==a,f=!1,g=!1,h=!1,j=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:e&&!f&&this.invalidNumber(b);c&&(c=!1,e=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:e&&
!f&&this.invalidNumber(b);c&&(c=!1);d=!0;e=!1;break;case 46:(c||f)&&this.invalidNumber(b);d=!1;f=!0;break;case 101:case 69:(c||e||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 43:case 45:(!g||h)&&this.invalidNumber(b);d=!1;h=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=t.parseFloat(A.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+A.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=
this.pos,b=new aa;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\u0008";break;case 102:b.b+="\u000c";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=t.parseInt("0x"+A.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+
" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=
!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=
a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);
default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:Y};W=function(){this.buf=new aa;this.cache=[];this.useCache=W.USE_CACHE;this.useEnumIndex=W.USE_ENUM_INDEX;this.shash=new w.StringMap;this.scount=0};m["haxe.Serializer"]=W;W.__name__=["haxe","Serializer"];W.run=function(a){var b=new W;b.serialize(a);return b.toString()};W.prototype=
{serialize:function(a){var b=N["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=t.string(a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b+=t.string(a)):this.buf.b+=t.string(0>a?"m":"p");break;case 3:this.buf.b+=t.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=
a.length,e=0;e<d;)b=e++,null==a[b]?c++:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=t.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=t.string(c)));this.buf.b+="h";break;case $:this.buf.b+="l";for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=t.string(A.dateStr(a));break;case w.StringMap:this.buf.b+="b";for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));
this.buf.b+="h";break;case w.IntMap:this.buf.b+="q";for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=":",this.buf.b+=t.string(b),this.serialize(a.get(b));this.buf.b+="h";break;case w.ObjectMap:this.buf.b+="M";for(c=a.keys();c.hasNext();)b=c.next(),d=H.field(b,"__id__"),H.deleteField(b,"__id__"),this.serialize(b),b.__id__=d,this.serialize(a.h[b.__id__]);this.buf.b+="h";break;case x.Bytes:b=0;c=a.length-2;d=new aa;for(e=W.BASE64;b<c;){var f=a.b[b++],g=a.b[b++],h=a.b[b++];d.b+=t.string(e.charAt(f>>
2));d.b+=t.string(e.charAt((f<<4|g>>4)&63));d.b+=t.string(e.charAt((g<<2|h>>6)&63));d.b+=t.string(e.charAt(h&63))}b==c?(f=a.b[b++],g=a.b[b++],d.b+=t.string(e.charAt(f>>2)),d.b+=t.string(e.charAt((f<<4|g>>4)&63)),d.b+=t.string(e.charAt(g<<2&63))):b==c+1&&(f=a.b[b++],d.b+=t.string(e.charAt(f>>2)),d.b+=t.string(e.charAt(f<<4&63)));b=d.b;this.buf.b+="s";this.buf.b+=t.string(b.length);this.buf.b+=":";this.buf.b+=t.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(N.getClassName(b)),
this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(N.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=t.string(this.useEnumIndex?"j":"w");this.serializeString(N.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=t.string(a[1])):this.serializeString(a[0]);
this.buf.b+=":";d=a.length;this.buf.b+=t.string(d-2);for(e=2;e<d;)b=e++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+t.string(a);}},serializeFields:function(a){for(var b=0,c=H.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(H.field(a,d))}this.buf.b+="g"},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",
this.buf.b+=t.string(e),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b+=t.string(b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=V.urlEncode(a),this.buf.b+=t.string(a.length),this.buf.b+=":",this.buf.b+=t.string(a))},toString:function(){return this.buf.b},__class__:W};R=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};m["haxe.Timer"]=R;R.__name__=["haxe","Timer"];R.delay=function(a,b){var c=new R(b);
c.run=function(){c.stop();a()};return c};R.prototype={run:function(){null},stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},__class__:R};T=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=T.DEFAULT_RESOLVER;null==a&&(a=N,T.DEFAULT_RESOLVER=a);this.setResolver(a)};m["haxe.Unserializer"]=T;T.__name__=["haxe","Unserializer"];T.initCodes=function(){for(var a=[],b=0,c=T.BASE64.length;b<c;){var d=b++;a[T.BASE64.charCodeAt(d)]=d}return a};T.run=function(a){return(new T(a)).unserialize()};
T.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return t.parseFloat(A.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=A.substr(this.buf,this.pos,
b);this.pos+=b;a=V.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";
return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=N.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);
return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=N.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new $;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new w.StringMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,
this.unserialize());this.pos++;return c;case 113:c=new w.IntMap;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);if(104!=b)throw"Invalid IntMap format";return c;case 77:c=new w.ObjectMap;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 118:return b=A.strDate(A.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=
19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=T.CODES;null==d&&(d=T.initCodes(),T.CODES=d);for(var a=this.pos,e=b&3,f=a+(b-e),g=x.Bytes.alloc(3*(b>>2)+(2<=e?e-1:0)),h=0;a<f;){var j=d[c.charCodeAt(a++)],k=d[c.charCodeAt(a++)];g.b[h++]=(j<<2|k>>4)&255;j=d[c.charCodeAt(a++)];g.b[h++]=(k<<4|j>>2)&255;k=d[c.charCodeAt(a++)];g.b[h++]=(j<<6|k)&255}2<=e&&(j=d[c.charCodeAt(a++)],k=d[c.charCodeAt(a++)],g.b[h++]=(j<<
2|k>>4)&255,3==e&&(j=d[c.charCodeAt(a++)],g.b[h++]=(k<<4|j>>2)&255));this.pos+=b;this.cache.push(g);return g;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=N.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";
var c=this.readDigits();if(0==c)return N.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return N.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!M.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=
c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},__class__:T};Z={Adler32:function(){this.a1=1;this.a2=0}};m["haxe.crypto.Adler32"]=Z.Adler32;Z.Adler32.__name__=["haxe","crypto","Adler32"];Z.Adler32.read=function(a){var b=new Z.Adler32,c=a.readByte(),d=a.readByte(),e=a.readByte(),a=a.readByte();b.a1=e<<8|a;b.a2=c<<8|d;return b};Z.Adler32.prototype=
{equals:function(a){return a.a1==this.a1&&a.a2==this.a2},update:function(a,b,c){for(var d=this.a1,e=this.a2,f=b,b=b+c;f<b;)c=f++,d=(d+a.b[c])%65521,e=(e+d)%65521;this.a1=d;this.a2=e},__class__:Z.Adler32};w={IntMap:function(){this.h={}}};m["haxe.ds.IntMap"]=w.IntMap;w.IntMap.__name__=["haxe","ds","IntMap"];w.IntMap.__interfaces__=[ea];w.IntMap.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return A.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;
delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:w.IntMap};w.ObjectMap=function(){this.h={};this.h.__keys__={}};m["haxe.ds.ObjectMap"]=w.ObjectMap;w.ObjectMap.__name__=["haxe","ds","ObjectMap"];w.ObjectMap.__interfaces__=[ea];w.ObjectMap.prototype={keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return A.iter(a)},set:function(a,b){var c=
null!=a.__id__?a.__id__:a.__id__=++w.ObjectMap.count;this.h[c]=b;this.h.__keys__[c]=a},__class__:w.ObjectMap};w.StringMap=function(){this.h={}};m["haxe.ds.StringMap"]=w.StringMap;w.StringMap.__name__=["haxe","ds","StringMap"];w.StringMap.__interfaces__=[ea];w.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b.substr(1));return A.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:w.StringMap};x={Bytes:function(a,b){this.length=a;this.b=b}};m["haxe.io.Bytes"]=x.Bytes;x.Bytes.__name__=["haxe","io","Bytes"];x.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new x.Bytes(a,b)};x.Bytes.ofData=function(a){return new x.Bytes(a.length,
a)};x.Bytes.prototype={toString:function(){return this.readString(0,this.length)},readString:function(a,b){if(0>a||0>b||a+b>this.length)throw x.Error.OutsideBounds;for(var c="",d=this.b,e=String.fromCharCode,f=a,g=a+b;f<g;){var h=d[f++];if(128>h){if(0==h)break;c+=e(h)}else if(224>h)c+=e((h&63)<<6|d[f++]&127);else if(240>h)var j=d[f++],c=c+e((h&31)<<12|(j&127)<<6|d[f++]&127);else var j=d[f++],k=d[f++],c=c+e((h&15)<<18|(j&127)<<12|k<<6&127|d[f++]&127)}return c},blit:function(a,b,c,d){if(0>a||0>c||0>
d||a+d>this.length||c+d>b.length)throw x.Error.OutsideBounds;var e=this.b,b=b.b;if(e==b&&a>c)for(var f=d;0<f;)f--,e[f+a]=b[f+c];else for(var g=0;g<d;)f=g++,e[f+a]=b[f+c]},__class__:x.Bytes};x.BytesBuffer=function(){this.b=[]};m["haxe.io.BytesBuffer"]=x.BytesBuffer;x.BytesBuffer.__name__=["haxe","io","BytesBuffer"];x.BytesBuffer.prototype={getBytes:function(){var a=new x.Bytes(this.b.length,this.b);this.b=null;return a},addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw x.Error.OutsideBounds;
for(var a=a.b,d=b,b=b+c;d<b;)c=d++,this.b.push(a[c])},add:function(a){for(var b=a.b,c=0,a=a.length;c<a;){var d=c++;this.b.push(b[d])}},__class__:x.BytesBuffer};x.Input=function(){};m["haxe.io.Input"]=x.Input;x.Input.__name__=["haxe","io","Input"];x.Input.prototype={readString:function(a){var b=x.Bytes.alloc(a);this.readFullBytes(b,0,a);return b.toString()},readInt32:function(){var a=this.readByte(),b=this.readByte(),c=this.readByte(),d=this.readByte();return this.bigEndian?d|c<<8|b<<16|a<<24:a|b<<
8|c<<16|d<<24},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},readInt16:function(){var a=this.readByte(),b=this.readByte(),a=this.bigEndian?b|a<<8:a|b<<8;return 0!=(a&32768)?a-65536:a},readUntil:function(a){for(var b=new aa,c;(c=this.readByte())!=a;)b.b+=String.fromCharCode(c);return b.b},read:function(a){for(var b=x.Bytes.alloc(a),c=0;0<a;){var d=this.readBytes(b,c,a);if(0==d)throw x.Error.Blocked;c+=d;a-=d}return b},readFullBytes:function(a,b,
c){for(;0<c;)var d=this.readBytes(a,b,c),b=b+d,c=c-d},readBytes:function(a,b,c){var d=c,e=a.b;if(0>b||0>c||b+c>a.length)throw x.Error.OutsideBounds;for(;0<d;)e[b]=this.readByte(),b++,d--;return c},readByte:function(){throw"Not implemented";},__class__:x.Input};x.BytesInput=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw x.Error.OutsideBounds;this.b=a.b;this.pos=b;this.len=c};m["haxe.io.BytesInput"]=x.BytesInput;x.BytesInput.__name__=["haxe","io","BytesInput"];
x.BytesInput.__super__=x.Input;x.BytesInput.prototype=v(x.Input.prototype,{readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw x.Error.OutsideBounds;if(0==this.len&&0<c)throw new x.Eof;this.len<c&&(c=this.len);for(var d=this.b,a=a.b,e=0;e<c;){var f=e++;a[b+f]=d[this.pos+f]}this.pos+=c;this.len-=c;return c},readByte:function(){if(0==this.len)throw new x.Eof;this.len--;return this.b[this.pos++]},__class__:x.BytesInput});x.Eof=function(){};m["haxe.io.Eof"]=x.Eof;x.Eof.__name__=["haxe","io","Eof"];
x.Eof.prototype={toString:function(){return"Eof"},__class__:x.Eof};x.Error=m["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};x.Error.Blocked=["Blocked",0];x.Error.Blocked.toString=n;x.Error.Blocked.__enum__=x.Error;x.Error.Overflow=["Overflow",1];x.Error.Overflow.toString=n;x.Error.Overflow.__enum__=x.Error;x.Error.OutsideBounds=["OutsideBounds",2];x.Error.OutsideBounds.toString=n;x.Error.OutsideBounds.__enum__=x.Error;x.Error.Custom=
function(a){a=["Custom",3,a];a.__enum__=x.Error;a.toString=n;return a};fa={Meta:function(){}};m["haxe.rtti.Meta"]=fa.Meta;fa.Meta.__name__=["haxe","rtti","Meta"];fa.Meta.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};G={_Fast:{}};G._Fast.NodeAccess=function(a){this.__x=a};m["haxe.xml._Fast.NodeAccess"]=G._Fast.NodeAccess;G._Fast.NodeAccess.__name__=["haxe","xml","_Fast","NodeAccess"];G._Fast.NodeAccess.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==
b)throw(this.__x.nodeType==y.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new G.Fast(b)},__class__:G._Fast.NodeAccess};G._Fast.AttribAccess=function(a){this.__x=a};m["haxe.xml._Fast.AttribAccess"]=G._Fast.AttribAccess;G._Fast.AttribAccess.__name__=["haxe","xml","_Fast","AttribAccess"];G._Fast.AttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==y.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+
" is missing attribute "+a;return b},__class__:G._Fast.AttribAccess};G._Fast.HasAttribAccess=function(a){this.__x=a};m["haxe.xml._Fast.HasAttribAccess"]=G._Fast.HasAttribAccess;G._Fast.HasAttribAccess.__name__=["haxe","xml","_Fast","HasAttribAccess"];G._Fast.HasAttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==y.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__class__:G._Fast.HasAttribAccess};G._Fast.HasNodeAccess=function(a){this.__x=a};m["haxe.xml._Fast.HasNodeAccess"]=
G._Fast.HasNodeAccess;G._Fast.HasNodeAccess.__name__=["haxe","xml","_Fast","HasNodeAccess"];G._Fast.HasNodeAccess.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:G._Fast.HasNodeAccess};G._Fast.NodeListAccess=function(a){this.__x=a};m["haxe.xml._Fast.NodeListAccess"]=G._Fast.NodeListAccess;G._Fast.NodeListAccess.__name__=["haxe","xml","_Fast","NodeListAccess"];G._Fast.NodeListAccess.prototype={resolve:function(a){for(var b=new $,a=this.__x.elementsNamed(a);a.hasNext();){var c=
a.next();b.add(new G.Fast(c))}return b},__class__:G._Fast.NodeListAccess};G.Fast=function(a){if(a.nodeType!=y.Document&&a.nodeType!=y.Element)throw"Invalid nodeType "+t.string(a.nodeType);this.x=a;this.node=new G._Fast.NodeAccess(a);this.nodes=new G._Fast.NodeListAccess(a);this.att=new G._Fast.AttribAccess(a);this.has=new G._Fast.HasAttribAccess(a);this.hasNode=new G._Fast.HasNodeAccess(a)};m["haxe.xml.Fast"]=G.Fast;G.Fast.__name__=["haxe","xml","Fast"];G.Fast.prototype={get_elements:function(){var a=
this.x.elements();return{hasNext:u(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new G.Fast(b)}}},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==y.PCData&&c.nodeType==y.CData&&""==V.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==y.PCData&&""==V.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";
}if(b.nodeType!=y.PCData&&b.nodeType!=y.CData)throw this.get_name()+" does not have data";return b.get_nodeValue()},get_name:function(){return this.x.nodeType==y.Document?"Document":this.x.get_nodeName()},__class__:G.Fast};G.Parser=function(){};m["haxe.xml.Parser"]=G.Parser;G.Parser.__name__=["haxe","xml","Parser"];G.Parser.parse=function(a){var b=y.createDocument();G.Parser.doParse(a,0,b);return b};G.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,e=1,f=1,g=null,h=0,j=0,k=0,l=a.charCodeAt(b),
m=new aa;l==l;){switch(e){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(l){case 60:e=0;f=2;break;default:h=b;e=13;continue}break;case 13:60==l?(e=y.createPCData(m.b+A.substr(a,h,b-h)),m=new aa,c.addChild(e),j++,e=0,f=2):38==l&&(m.addSub(a,h,b-h),e=18,f=13,h=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=y.createCData(A.substr(a,h,b-h)),c.addChild(e),j++,b+=2,e=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(b+1)){b+=
2;if("CDATA["!=A.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=A.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;e=15}h=b+1;break;case 63:e=14;h=b;break;case 47:if(null==c)throw"Expected node name";h=b+1;e=0;f=10;break;default:e=3;h=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||
95==l||45==l)){if(b==h)throw"Expected node name";d=y.createElement(A.substr(a,h,b-h));c.addChild(d);e=0;f=4;continue}break;case 4:switch(l){case 47:e=11;j++;break;case 62:e=9;j++;break;default:e=5;h=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected attribute name";g=A.substr(a,h,b-h);if(d.exists(g))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(l){case 61:e=0;f=7;break;default:throw"Expected =";}break;case 7:switch(l){case 34:case 39:e=
8;h=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(h)&&(f=A.substr(a,h+1,b-h-1),d.set(g,f),e=0,f=4);break;case 9:h=b=G.Parser.doParse(a,b,d);e=1;break;case 11:switch(l){case 62:e=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==j&&c.addChild(y.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected node name";if(A.substr(a,h,b-h)!=c.get_nodeName())throw"Expected </"+
c.get_nodeName()+">";e=0;f=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(y.createComment(A.substr(a,h,b-h))),b+=2,e=1);break;case 16:91==l?k++:93==l?k--:62==l&&0==k&&(c.addChild(y.createDocType(A.substr(a,h,b-h))),e=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,e=A.substr(a,h+1,b-h-2),c.addChild(y.createProcessingInstruction(e)),e=1);break;case 18:59==l&&(h=A.substr(a,h,b-h),35==h.charCodeAt(0)?(h=120==h.charCodeAt(1)?t.parseInt("0"+A.substr(h,1,
h.length-1)):t.parseInt(A.substr(h,1,h.length-1)),m.b+=t.string(String.fromCharCode(h))):m.b=G.Parser.escapes.exists(h)?m.b+t.string(G.Parser.escapes.get(h)):m.b+t.string("&"+h+";"),h=b+1,e=f)}l=a.charCodeAt(++b)}1==e&&(h=b,e=13);if(13==e)return(b!=h||0==j)&&c.addChild(y.createPCData(m.b+A.substr(a,h,b-h))),b;throw"Unexpected end";};s={};s.ExtraField=m["haxe.zip.ExtraField"]={__ename__:["haxe","zip","ExtraField"],__constructs__:["FUnknown","FInfoZipUnicodePath","FUtf8"]};s.ExtraField.FUnknown=function(a,
b){var c=["FUnknown",0,a,b];c.__enum__=s.ExtraField;c.toString=n;return c};s.ExtraField.FInfoZipUnicodePath=function(a,b){var c=["FInfoZipUnicodePath",1,a,b];c.__enum__=s.ExtraField;c.toString=n;return c};s.ExtraField.FUtf8=["FUtf8",2];s.ExtraField.FUtf8.toString=n;s.ExtraField.FUtf8.__enum__=s.ExtraField;s.Huffman=m["haxe.zip.Huffman"]={__ename__:["haxe","zip","Huffman"],__constructs__:["Found","NeedBit","NeedBits"]};s.Huffman.Found=function(a){a=["Found",0,a];a.__enum__=s.Huffman;a.toString=n;return a};
s.Huffman.NeedBit=function(a,b){var c=["NeedBit",1,a,b];c.__enum__=s.Huffman;c.toString=n;return c};s.Huffman.NeedBits=function(a,b){var c=["NeedBits",2,a,b];c.__enum__=s.Huffman;c.toString=n;return c};s.HuffTools=function(){};m["haxe.zip.HuffTools"]=s.HuffTools;s.HuffTools.__name__=["haxe","zip","HuffTools"];s.HuffTools.prototype={make:function(a,b,c,d){var e=[],f=[];if(32<d)throw"Invalid huffman";for(var g=0;g<d;){var h=g++;e.push(0);f.push(0)}for(g=0;g<c;){h=g++;h=a[h+b];if(h>=d)throw"Invalid huffman";
e[h]++}for(var j=0,k=1,g=d-1;k<g;)h=k++,j=j+e[h]<<1,f[h]=j;e=new w.IntMap;for(g=0;g<c;)h=g++,j=a[h+b],0!=j&&(k=f[j-1],f[j-1]=k+1,e.set(k<<5|j,h));return this.treeCompress(s.Huffman.NeedBit(this.treeMake(e,d,0,1),this.treeMake(e,d,1,1)))},treeMake:function(a,b,c,d){if(d>b)throw"Invalid huffman";var e=c<<5|d;if(a.exists(e))return s.Huffman.Found(a.get(e));c<<=1;d+=1;return s.Huffman.NeedBit(this.treeMake(a,b,c,d),this.treeMake(a,b,c|1,d))},treeWalk:function(a,b,c,d,e){switch(e[1]){case 1:var f=e[3],
g=e[2];0<d?(this.treeWalk(a,b,c+1,d-1,g),this.treeWalk(a,b|1<<c,c+1,d-1,f)):a[b]=this.treeCompress(e);break;default:a[b]=this.treeCompress(e)}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;if(1==b){switch(a[1]){case 1:b=a[3];a=s.Huffman.NeedBit(this.treeCompress(a[2]),this.treeCompress(b));break;default:throw"assert";}return a}for(var c=1<<b,d=[],e=0;e<c;)e++,d.push(s.Huffman.Found(-1));this.treeWalk(d,0,0,b,a);return s.Huffman.NeedBits(b,d)},treeDepth:function(a){var b;switch(a[1]){case 0:b=
0;break;case 2:throw"assert";case 1:b=a[3],a=this.treeDepth(a[2]),b=this.treeDepth(b),b=1+(a<b?a:b)}return b},__class__:s.HuffTools};s._InflateImpl={};s._InflateImpl.Window=function(a){this.buffer=x.Bytes.alloc(65536);this.pos=0;a&&(this.crc=new Z.Adler32)};m["haxe.zip._InflateImpl.Window"]=s._InflateImpl.Window;s._InflateImpl.Window.__name__=["haxe","zip","_InflateImpl","Window"];s._InflateImpl.Window.prototype={checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},
available:function(){return this.pos},getLastChar:function(){return this.buffer.b[this.pos-1]},addByte:function(a){65536==this.pos&&this.slide();this.buffer.b[this.pos]=a&255;this.pos++},addBytes:function(a,b,c){65536<this.pos+c&&this.slide();this.buffer.blit(this.pos,a,b,c);this.pos+=c},slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=x.Bytes.alloc(65536);this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);this.buffer=a},__class__:s._InflateImpl.Window};s._InflateImpl.State=
m["haxe.zip._InflateImpl.State"]={__ename__:["haxe","zip","_InflateImpl","State"],__constructs__:"Head,Block,CData,Flat,Crc,Dist,DistOne,Done".split(",")};s._InflateImpl.State.Head=["Head",0];s._InflateImpl.State.Head.toString=n;s._InflateImpl.State.Head.__enum__=s._InflateImpl.State;s._InflateImpl.State.Block=["Block",1];s._InflateImpl.State.Block.toString=n;s._InflateImpl.State.Block.__enum__=s._InflateImpl.State;s._InflateImpl.State.CData=["CData",2];s._InflateImpl.State.CData.toString=n;s._InflateImpl.State.CData.__enum__=
s._InflateImpl.State;s._InflateImpl.State.Flat=["Flat",3];s._InflateImpl.State.Flat.toString=n;s._InflateImpl.State.Flat.__enum__=s._InflateImpl.State;s._InflateImpl.State.Crc=["Crc",4];s._InflateImpl.State.Crc.toString=n;s._InflateImpl.State.Crc.__enum__=s._InflateImpl.State;s._InflateImpl.State.Dist=["Dist",5];s._InflateImpl.State.Dist.toString=n;s._InflateImpl.State.Dist.__enum__=s._InflateImpl.State;s._InflateImpl.State.DistOne=["DistOne",6];s._InflateImpl.State.DistOne.toString=n;s._InflateImpl.State.DistOne.__enum__=
s._InflateImpl.State;s._InflateImpl.State.Done=["Done",7];s._InflateImpl.State.Done.toString=n;s._InflateImpl.State.Done.__enum__=s._InflateImpl.State;s.InflateImpl=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);this["final"]=!1;this.htools=new s.HuffTools;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.dist=this.len=0;this.state=b?s._InflateImpl.State.Head:s._InflateImpl.State.Block;this.input=a;this.needed=this.nbits=this.bits=0;this.output=null;this.outpos=0;this.lengths=[];for(a=
0;19>a;)a++,this.lengths.push(-1);this.window=new s._InflateImpl.Window(c)};m["haxe.zip.InflateImpl"]=s.InflateImpl;s.InflateImpl.__name__=["haxe","zip","InflateImpl"];s.InflateImpl.prototype={inflateLoop:function(){switch(this.state[1]){case 0:var a=this.input.readByte();if(8!=(a&15)||7!=a>>4)throw"Invalid data";var b=this.input.readByte();if(0!=((a<<8)+b)%31)throw"Invalid data";if(0!=(b&32))throw"Unsupported dictionary";this.state=s._InflateImpl.State.Block;return!0;case 4:a=this.window.checksum();
if(null==a)return this.state=s._InflateImpl.State.Done,!0;b=Z.Adler32.read(this.input);if(!a.equals(b))throw"Invalid CRC";this.state=s._InflateImpl.State.Done;return!0;case 7:return!1;case 1:switch(this["final"]=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=65535-this.len)throw"Invalid data";this.state=s._InflateImpl.State.Flat;a=this.inflateLoop();this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,
this.state=s._InflateImpl.State.CData,!0;case 2:for(var a=this.getBits(5)+257,b=this.getBits(5)+1,c=this.getBits(4)+4,d=0;d<c;){var e=d++;this.lengths[s.InflateImpl.CODE_LENGTHS_POS[e]]=this.getBits(3)}for(d=c;19>d;)e=d++,this.lengths[s.InflateImpl.CODE_LENGTHS_POS[e]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);c=[];e=0;for(d=a+b;e<d;)e++,c.push(0);this.inflateLengths(c,a+b);this.huffdist=this.htools.make(c,a,b,16);this.huffman=this.htools.make(c,0,a,16);this.state=s._InflateImpl.State.CData;
return!0;default:throw"Invalid data";}case 3:return a=this.len<this.needed?this.len:this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this["final"]?s._InflateImpl.State.Crc:s._InflateImpl.State.Block),0<this.needed;case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&(this.state=s._InflateImpl.State.CData),0<this.needed;case 5:for(;0<this.len&&0<this.needed;)a=this.len<this.dist?this.len:this.dist,a=this.needed<
a?this.needed:a,this.addDist(this.dist,a),this.len-=a;0==this.len&&(this.state=s._InflateImpl.State.CData);return 0<this.needed;case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;if(256==b)this.state=this["final"]?s._InflateImpl.State.Crc:s._InflateImpl.State.Block;else{b-=257;a=s.InflateImpl.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw"Invalid data";this.len=s.InflateImpl.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);
a=s.InflateImpl.DIST_EXTRA_BITS_TBL[b];if(-1==a)throw"Invalid data";this.dist=s.InflateImpl.DIST_BASE_VAL_TBL[b]+this.getBits(a);if(this.dist>this.window.available())throw"Invalid data";this.state=1==this.dist?s._InflateImpl.State.DistOne:s._InflateImpl.State.Dist}return!0}},inflateLengths:function(a,b){for(var c=0,d=0;c<b;){var e=this.applyHuffman(this.huffman);switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:d=e;a[c]=
e;c++;break;case 16:e=c+3+this.getBits(2);if(e>b)throw"Invalid data";for(;c<e;)a[c]=d,c++;break;case 17:c+=3+this.getBits(3);if(c>b)throw"Invalid data";break;case 18:c+=11+this.getBits(7);if(c>b)throw"Invalid data";break;default:throw"Invalid data";}}},applyHuffman:function(a){var b;switch(a[1]){case 0:b=a=a[2];break;case 1:b=a[3];a=a[2];b=this.applyHuffman(this.getBit()?b:a);break;case 2:b=a[3],a=a[2],b=this.applyHuffman(b[this.getBits(a)])}return b},addDist:function(a,b){this.addBytes(this.window.buffer,
this.window.pos-a,b)},addDistOne:function(a){for(var b=this.window.getLastChar(),c=0;c<a;)c++,this.addByte(b)},addByte:function(a){this.window.addByte(a);this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},addBytes:function(a,b,c){this.window.addBytes(a,b,c);this.output.blit(this.outpos,a,b,c);this.needed-=c;this.outpos+=c},resetBits:function(){this.nbits=this.bits=0},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},getBit:function(){0==
this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var a=1==(this.bits&1);this.nbits--;this.bits>>=1;return a},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},readBytes:function(a,b,c){this.needed=c;this.outpos=b;this.output=a;if(0<c)for(;this.inflateLoop(););return c-this.needed},buildFixedHuffman:function(){if(null!=s.InflateImpl.FIXED_HUFFMAN)return s.InflateImpl.FIXED_HUFFMAN;
for(var a=[],b=0;288>b;){var c=b++;a.push(143>=c?8:255>=c?9:279>=c?7:8)}s.InflateImpl.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return s.InflateImpl.FIXED_HUFFMAN},__class__:s.InflateImpl};s.Reader=function(a){this.i=a};m["haxe.zip.Reader"]=s.Reader;s.Reader.__name__=["haxe","zip","Reader"];s.Reader.unzip=function(a){if(!a.compressed)return a.data;throw"No uncompress support";};s.Reader.prototype={read:function(){for(var a=new $,b=null;;){var c=this.readEntryHeader();if(null==c)break;if(0>c.dataSize){null==
b&&(b=x.Bytes.alloc(65536));for(var d=new x.BytesBuffer,e=new s.InflateImpl(this.i,!1,!1);;){var f=e.readBytes(b,0,65536);d.addBytes(b,0,f);if(65536>f)break}c.data=d.getBytes();c.crc32=this.i.readInt32();134695760==c.crc32&&(c.crc32=this.i.readInt32());c.dataSize=this.i.readInt32();c.fileSize=this.i.readInt32();c.dataSize=c.fileSize;c.compressed=!1}else c.data=this.i.read(c.dataSize);a.add(c)}return a},readEntryHeader:function(){var a=this.i,b=a.readInt32();if(33639248==b||101010256==b)return null;
if(67324752!=b)throw"Invalid Zip Data";a.readUInt16();var b=a.readUInt16(),c=0!=(b&2048);if(0!=(b&63479))throw"Unsupported flags "+b;var d=a.readUInt16(),e=0!=d;if(e&&8!=d)throw"Unsupported compression "+d;var d=this.readZipDate(),f=a.readInt32(),g=a.readInt32(),h=a.readInt32(),j=a.readInt16(),k=a.readInt16(),a=a.readString(j),k=this.readExtraFields(k);c&&k.push(s.ExtraField.FUtf8);0!=(b&8)&&(g=-1);return{fileName:a,fileSize:h,fileTime:d,compressed:e,dataSize:g,data:null,crc32:f,extraFields:k}},readExtraFields:function(a){for(var b=
new $;0<a;){if(4>a)throw"Invalid extra fields data";var c=this.i.readUInt16(),d=this.i.readUInt16();if(a<d)throw"Invalid extra fields data";switch(c){case 28789:var e=this.i.readByte();if(1!=e){var f=new x.BytesBuffer;f.b.push(e);f.add(this.i.read(d-1));b.add(s.ExtraField.FUnknown(c,f.getBytes()))}else c=this.i.readInt32(),e=this.i.read(d-5).toString(),b.add(s.ExtraField.FInfoZipUnicodePath(e,c));break;default:b.add(s.ExtraField.FUnknown(c,this.i.read(d)))}a-=4+d}return b},readZipDate:function(){var a=
this.i.readUInt16(),b=a>>11&31,c=a>>5&63,a=a&31,d=this.i.readUInt16();return new Date((d>>9)+1980,(d>>5&15)-1,d&31,b,c,a<<1)},__class__:s.Reader};M=function(){};m["js.Boot"]=M;M.__name__=["js","Boot"];M.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=
2!=f?c+(","+M.__string_rec(a[f],b)):c+M.__string_rec(a[f],b);return c+")"}d=a.length;c="[";b+="\t";for(e=0;e<d;)f=e++,c+=(0<f?",":"")+M.__string_rec(a[f],b);return c+"]"}try{e=a.toString}catch(g){return"???"}if(null!=e&&e!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;e=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(e in a)if(!d||a.hasOwnProperty(e))"prototype"==e||"__class__"==e||"__super__"==e||"__interfaces__"==e||"__properties__"==e||(2!=c.length&&(c+=", \n"),c+=b+e+" : "+
M.__string_rec(a[e],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};M.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||M.__interfLoop(f,b))return!0}return M.__interfLoop(a.__super__,b)};M.__instanceof=function(a,b){if(null==b)return!1;switch(b){case la:return(a|0)===a;case ia:return"number"==typeof a;case ja:return"boolean"==
typeof a;case String:return"string"==typeof a;case ma:return!0;default:if(null!=a){if("function"==typeof b){if(a instanceof b)return b==Array?null==a.__enum__:!0;if(M.__interfLoop(a.__class__,b))return!0}}else return!1;return b==na&&null!=a.__name__||b==oa&&null!=a.__ename__?!0:a.__enum__==b}};M.__cast=function(a,b){if(M.__instanceof(a,b))return a;throw"Cannot cast "+t.string(a)+" to "+t.string(b);};var ka=0;Array.prototype.indexOf&&(A.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,
1);return!0});Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;m.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=m.String=String;String.__name__=["String"];Array.prototype.__class__=m.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=m.Date=Date;Date.__name__=["Date"];var la=m.Int={__name__:["Int"]},ma=m.Dynamic={__name__:["Dynamic"]},
ia=m.Float=Number;ia.__name__=["Float"];var ja=m.Bool=Boolean;ja.__ename__=["Bool"];var na=m.Class={__name__:["Class"]},oa={};y.Element="element";y.PCData="pcdata";y.CData="cdata";y.Comment="comment";y.DocType="doctype";y.ProcessingInstruction="processingInstruction";y.Document="document";"undefined"!=typeof JSON&&(Y=JSON);e.Achievements.LOCALIZATION_NAME_BASE="achievement_name_";e.Achievements.LOCALIZATION_DESC_BASE="achievement_desc_";e.Achievements.ICON_BASE="achievement_icon_";e.ConstantsApp.STAGE_WIDTH=
960;e.ConstantsApp.STAGE_HEIGHT=560;e.ConstantsApp.STAGE_CENTER_X=480;e.ConstantsApp.STAGE_CENTER_Y=280;e.ConstantsApp.ACHIEVEMENTS_ID="X";e.ConstantsApp.LAYER_WORLD="layer_world";e.ConstantsApp.LAYER_BG="layer_bg";e.ConstantsApp.LAYER_MG="layer_mg";e.ConstantsApp.LAYER_PLAYER="layer_player";e.ConstantsApp.LAYER_OVER="layer_over";e.ConstantsApp.LAYER_FG="layer_fg";e.ConstantsApp.LAYER_UI="layer_ui";e.ConstantsApp.EVENT_PAUSE="eventPause";e.ConstantsApp.EVENT_UNPAUSE="eventUnpause";e.ConstantsApp.EVENT_MUTE_TOGGLE=
"EVENT_MUTE_TOGGLE";e.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE="EVENT_WORLD_GENERATION_COMPLETE";e.ConstantsApp.EVENT_RESIZE_CANVAS="EVENT_RESIZE_CANVAS";e.ConstantsApp.EVENT_ITEM_SELECT="EVENT_ITEM_SELECT";e.ConstantsApp.BOOL_GAME_LOSE="bool_game_lose";e.ConstantsApp.BOOL_GAME_WIN="bool_game_win";e.ConstantsApp.BOOL_LEVEL_LOSE="bool_level_lose";e.ConstantsApp.BOOL_LEVEL_WIN="bool_level_win";e.ConstantsApp.BOOL_PAUSED="bool_paused";e.ConstantsApp.BOOL_TOUCH_DEVICE="bool_touch_device";e.ConstantsApp.BOOL_ORIENTATION_ALERT=
"bool_orientation_alert";e.ConstantsApp.BOOL_CODE_SCREEN_OPEN="bool_code_screen_open";e.ConstantsApp.BOOL_CODE_UNLOCK="bool_code_unlock";e.ConstantsApp.BOOL_ALLOW_UNLOCK="bool_allow_unlock";e.ConstantsApp.BOOL_PRELOAD_LOADED="bool_preload_loaded";e.ConstantsApp.BOOL_INITIAL_LOADED="bool_initial_loaded";e.ConstantsApp.BOOL_GAMEPLAY_LOADED="bool_gameplay_loaded";e.ConstantsApp.BOOL_LOW_QUALITY_MOBILE="bool_low_quality_mobile";e.ConstantsApp.BOOL_JSEMBED_EXISTS="bool_jsembed_exists";e.ConstantsApp.INT_HEALTH=
"int_health";e.ConstantsApp.INT_LIVES="int_lives";e.ConstantsApp.INT_BEST_SCORE="int_best_score";e.ConstantsApp.INT_SCORE="int_score";e.ConstantsApp.INT_LOADING_SCORE="int_load_score";e.ConstantsApp.INT_ACHIEVEMENT_SCORE="int_achievement_score";e.ConstantsApp.INT_CURRENCY="int_currency";e.ConstantsApp.INT_LOADING_PROGRESS="int_loading_progress";e.ConstantsApp.INT_GAME_CLASS="int_game_class";e.ConstantsApp.INT_LEVEL="int_level";e.ConstantsApp.INT_QUALITY="int_quality";e.ConstantsApp.STRING_UNLOCK_CODE=
"string_unlock_code";e.ConstantsApp.STRING_LEVEL_ID="string_level_id";e.ConstantsApp.STRING_SCALE_TYPE="string_scale_type";e.ConstantsApp.INPUT_CLICK="input_click";e.ConstantsApp.INPUT_SPACE="input_space";e.ConstantsApp.INPUT_UP="input_up";e.ConstantsApp.INPUT_DOWN="input_down";e.ConstantsApp.INPUT_LEFT="input_left";e.ConstantsApp.INPUT_RIGHT="input_right";e.ConstantsApp.VIRTUAL_JUMP="v_jump";e.ConstantsApp.VIRTUAL_FLASH="v_flash";e.ConstantsApp.CONFIG_XML_PATH="config/config.xml";e.ConstantsApp.OPTION_SILENCE_AUDIO=
!1;e.ConstantsApp.OPTION_HAS_MENU_MUSIC=!1;e.ConstantsApp.OPTION_SHOW_LOADING_ON_WORLD_GEN_ALWAYS=!1;e.ConstantsApp.scaleFactor=1;e.ConstantsApp.benchmarkGoal=2E3;e.ConstantsScreen.SCREEN_LOADING="loadpanel";e.ConstantsScreen.SCREEN_MINIGAME="minigame";e.ConstantsScreen.SCREEN_SPLASH="splash";e.ConstantsScreen.SCREEN_HELP="help";e.ConstantsScreen.SCREEN_SHOP="shop";e.ConstantsScreen.SCREEN_GAMEPLAY_HUD="gameplayhud";e.ConstantsScreen.SCREEN_GAMEPLAY_MENU="gameplaymenu";e.ConstantsScreen.SCREEN_QUIT_CONFIRM=
"quitconfirm";e.ConstantsScreen.SCREEN_END_GAME="endgame";e.ConstantsScreen.SCREEN_CUTSCENE_BORDERS="cutsceneborders";e.ConstantsScreen.SCREEN_PAUSE_ALERT="pause";e.ConstantsScreen.SCREEN_ENTER_CODE="entercode";e.ConstantsScreen.SCREEN_ACHIEVEMENTS="achievements";e.ConstantsScreen.SCREEN_ACHIEVEMENT_POPUP="achievementpopup";e.ConstantsScreen.TRANSITION_FADE=0;e.ConstantsScreen.TRANSITION_SCROLL=1;e.ConstantsScreen.TRANSITION_SCROLL_DOWN=2;e.ConstantsScreen.TRANSITION_SCROLL_UP=3;e.ConstantsScreen.TRANSITION_STAGED=
4;e.ConstantsScreen.TRANSITION_SCREENSHOT=5;e.ConstantsScreen.CHANGE_OPEN_BEGIN=0;e.ConstantsScreen.CHANGE_OPEN_COMPLETE=1;e.ConstantsScreen.CHANGE_CLOSE_BEGIN=2;e.ConstantsScreen.CHANGE_CLOSE_COMPLETE=3;e.ConstantsScreen.OUTPUT_OPENED=0;e.ConstantsScreen.OUTPUT_CLOSED=1;e.ConstantsScreen.CONDITION_CLOSED_ALL=0;e.ConstantsScreen.CONDITION_CLOSED_SPECIFIC=1;e.ConstantsScreen.CONDITION_TRANSITION_MIDWAY=2;e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE=3;e.ConstantsScreen.CONDITION_IMMEDIATE=4;e.ConstantsScreen.FLOW_SPLASH_PLAY=
"FLOW_SPLASH_PLAY";e.ConstantsScreen.FLOW_SPLASH_CLICKTRAY="FLOW_SPLASH_CLICKTRAY";e.ConstantsScreen.FLOW_HELP_CLOSE="FLOW_HELP_CLOSE";e.ConstantsScreen.FLOW_SHOP="FLOW_SHOP";e.ConstantsScreen.FLOW_SHOP_CLOSE="FLOW_SHOP_CLOSE";e.ConstantsScreen.FLOW_GAMEPLAY_MENU="FLOW_GAMEPLAY_MENU";e.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE="FLOW_GAMEPLAY_MENU_CLOSE";e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP="FLOW_GAMEPLAY_MENU_HELP";e.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT="FLOW_GAMEPLAY_MENU_QUIT";e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES=
"FLOW_GAMEPLAY_QUIT_YES";e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO="FLOW_GAMEPLAY_QUIT_NO";e.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN="FLOW_END_GAME_PLAY_AGAIN";e.ConstantsScreen.FLOW_BRANCH_GAME_WIN="FLOW_BRANCH_GAME_WIN";e.ConstantsScreen.FLOW_BRANCH_GAME_LOSE="FLOW_BRANCH_GAME_LOSE";e.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN="FLOW_BRANCH_LEVEL_WIN";e.ConstantsScreen.FLOW_BRANCH_LEVEL_LOSE="FLOW_BRANCH_LEVEL_LOSE";e.ConstantsScreen.FLOW_ENTER_CODE_CLOSE="FLOW_ENTER_CODE_CLOSE";e.ConstantsScreen.FLOW_ENTER_CODE_OPEN=
"FLOW_ENTER_CODE_OPEN";e.ConstantsScreen.FLOW_LOAD_CLOSE="FLOW_LOAD_CLOSE";e.ConstantsScreen.FLOW_MINIGAME_CLOSE="FLOW_MINIGAME_CLOSE";e.ConstantsScreen.FLOW_MINIGAME_OVER="FLOW_MINIGAME_OVER";e.ConstantsScreen.FLOW_LOADING_DONE="FLOW_LOADING_DONE";e.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP="FLOW_ACHIEVEMENT_POPUP";e.ConstantsScreen.FLOW_ACHIEVEMENT_POPUP_CLOSE="FLOW_ACHIEVEMENT_POPUP_CLOSE";e.ConstantsScreen.FLOW_ACHIEVEMENT="FLOW_ACHIEVEMENT";e.ConstantsScreen.FLOW_ACHIEVEMENT_CLOSE="FLOW_ACHIEVEMENT_CLOSE";
g.buttons.ButtonBase.OVER="workinBtnOver";g.buttons.ButtonBase.OUT="workinBtnOut";g.buttons.ButtonBase.UP="workinBtnUp";g.buttons.ButtonBase.DOWN="workinBtnDown";g.buttons.ButtonBase.CLICK="workinBtnClick";g.buttons.ButtonBase.CANCEL_DRAG="workinBtnCancelDrag";k.Display.EVENT_UPDATE_DISPLAY="event_update_display";g.screens.ScreenEndGame.UI_EVENT_CLICK_MENU="onGameplayClickMenu";g.screens.ScreenGameplayHUD.TWEEN_EXPOSE_TIME=0.5;g.screens.ScreenGameplayHUD.UI_EVENT_CLICK_MENU="onGameplayClickMenu";
g.screens.ScreenMenuBase.TWEEN_EXPOSE_TIME=0.75;g.screens.ScreenMenuBase.TOP_GRAPHIC_BASE_Y=-280;g.screens.ScreenMenuBase.BOT_GRAPHIC_BASE_Y=840;g.screens.ScreenMenuBase.BUTTON_PROCEED_X=352;g.screens.ScreenMenuBase.BUTTON_PROCEED_Y=216;g.screens.data.ScreenStateData.ACTION_STOP=0;g.screens.data.ScreenStateData.ACTION_OPENED=1;g.screens.data.ScreenStateData.ACTION_EVENT=2;g.screens.data.ScreenStateData.ACTION_NEW_STATE=3;g.screens.data.ScreenStateData.ACTION_CLOSED=4;g.screens.data.ScreenStateData.ACTION_FLOW=
5;g.screens.minigames.ProtectBurger._ORBIT_RADIUS=40;F.ConstantsCloud.FONT_DEFAULT="Basic";F.ConstantsCloud.STRING_REGION_ID="cloudregionid";F.ConstantsCloud.LOCALIZATION_XML_PATH="config/";F.ConstantsCloud.EVENT_FILES_LOADED="EVENT_WORKINCLOUD_FILES_LOADED";F.ConstantsCloud.EVENT_FILES_LOADING="EVENT_FILES_LOADING";F.ConstantsCloud.EVENT_FILES_ERROR="EVENT_FILES_ERROR";F.ConstantsCloud.EVENT_TWEENS_COMPLETE="EVENT_TWEENS_COMPLETE";F.ConstantsCloud.EVENT_INPUT_ARBITRARY_KEY="EVENT_INPUT_ARBITRARY_KEY";
F.ConstantsCloud._uniqueId=0;k.QueuedAnimation._poolId="QueuedAnimation";k.AnimationDef._poolId="AnimationDef";k.PoolManager.ALL_POOLS_FULL="PoolManager_ALL_POOLS_FULL";k.Renderable._poolId="Renderable";o.WMEvent._poolId="WMEvent";o.WMEventData._poolId="WMEventData";o.WMEventDispatcher._poolId="WMEventDispatcher";o._WMEventDispatcher.WMEventTracker._poolId="WMEventTracker";o._WMEventDispatcher.SignalTracker._poolId="SignalTracker";o.WMEventFlow._poolId="WMEventFlow";o.WMEventFlow.EVENT_FLOW="Nflow";
o.WMEventHash._poolId="WMEventHash";o.WMEventInput._poolId="WMEventInput";o.WMEventInput.EVENT_INPUT="eventinput";o.WMEventInput.PHASE_DOWN=1;o.WMEventInput.PHASE_UP=0;o.WMEventInput.PHASE_MOVE=2;o.WMEventInterfaceChange._poolId="WMEventInterfaceChange";o.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT="Neio";o.WMEventScreenOut._poolId="WMEventScreenOut";o.WMEventScreenOut.EVENT_SCREEN_OUTPUT="Neso";o.WMEventUpdate._poolId="WMEventUpdate";o.WMEventUpdate.EVENT_UPDATE="eventupdate";f.WMRectangle._poolId=
"WMRectangle";f.WorkinLine._poolId="WorkinLine";f.WorkinPoint._poolId="WorkinPoint";f.tween.WorkinTweener._poolId="WorkinTweener";f.tween.WorkinTweener._uniqueTimer=0;f.tween.WorkinTweenTracker._poolId="WorkinTweenTracker";f.tween.WorkinTweenTracker._tweenRemoval=[];f.tween.WorkinTweenTracker._tweenUpdate=[];f.tween.WorkinTweenDef._poolId="WorkinTweenDef";l.ServiceAnalytics._offlineUserId="";l.ServiceAnalytics._offlineTrackingId="";l.ServiceAnalytics._appId="";l.ServiceAnalytics._sessionId="";l.ServiceAnalytics._canadaShowGameTitle=
"";l.ServiceAnalytics._flagInitted=!1;l.ServiceAnalytics._flagStarted=!1;l.ServiceAnalytics._flagLoaded=!1;l.ServiceAnalytics._flagCanadaTrackingEnabled=!1;l.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID="nkcimocuresid";l.ServiceAnalytics.OPTION_ENABLE_TRACKING=!1;l.ServiceNickAnalytics._flagInitted=!1;l.ServiceNickAnalytics._appId="";l.ServiceNickAnalytics._offlineUserId="";l.ServiceNickAnalytics._offlineTrackingId="";l.ServiceNickAnalytics._DEFAULT_SHARED_OBJECT_ID="nkcimocuresid";l.ServiceNickAnalytics.OPTION_ENABLE_TRACKING=
!0;l.ServiceNickAnalytics.ST1_PRE_PLAY="pre_play";l.ServiceNickAnalytics.ST1_IN_PLAY="in_play";l.ServiceNickAnalytics.ST1_POST_PLAY="post_play";l.ServiceNickAnalytics.ST1_LEVEL_RESULTS="level_results";l.ServiceNickAnalytics.ST2_TIME_LOAD_INITIAL="time_load_initial";l.ServiceNickAnalytics.ST2_TIME_LOAD_GAME="time_load_game";l.ServiceNickAnalytics.ST2_TIME_LOAD_LEVEL="time_load_level";l.ServiceNickAnalytics.ST2_TIME_PLAY="time_play";l.ServiceNickAnalytics.ST2_QUIT="quit";l.ServiceNickAnalytics.ST2_PLAY_AGAIN=
"play_again";l.ServiceNickAnalytics.ST2_GAME_OVER="game_over";l.ServiceNickAnalytics.ST2_TITLE_PLAY="title_play";d.WMPointer._poolId="WMPointer";d.WMPointer._DELTA_ALLOWANCE=30;d.WMPointer._DELTA_TIMEOUT=0.2;d.WMLocalizedData._poolId="WMLocalizedData";d.WMSound.FADE_NONE=0;d.WMSound.FADE_IN=1;d.WMSound.FADE_OUT=-1;d.WorkinUtils._mapEmpty=[];d.PropertyList._dateRegex=new X("(\\d{4}-\\d{2}-\\d{2})(?:T(\\d{2}:\\d{2}:\\d{2})Z)?","");j.html.HtmlPlatform.instance=new j.html.HtmlPlatform;r.SignalBase.DISPATCHING_SENTINEL=
new r.SignalConnection(null,null);C.root=new P;C.uncaughtError=new r.Signal1;C.hidden=new r.Value(!1);C.hasGPU=new r.Value(!1);C.volume=new O.AnimatedFloat(1);C._platform=j.html.HtmlPlatform.instance;C._calledInit=!1;B.window="undefined"!=typeof window?window:null;B.document="undefined"!=typeof window?window.document:null;B.navigator="undefined"!=typeof window?window.navigator:null;q.Manifest.__meta__={obj:{assets:[{fonts_en_simple:[{bytes:9614,md5:"42838f5a0f0faa8810276d11c3b24cde",name:"Basic.fnt"},
{bytes:361151,md5:"1a17192d50aea658af6e0c91ebe3c6fd",name:"Basic.png"}],preload:[],gameplay_soundfx:[{bytes:12955,md5:"5e19cd90b6b1498e2c9ff65cb31c2c2d",name:"bubble_1.mp3"},{bytes:14697,md5:"7ea4764635e0bb08fd85b7094f435c01",name:"bubble_1.ogg"},{bytes:8358,md5:"fcf70323faf9b2c049b0345a746b2ca7",name:"impact_1.mp3"},{bytes:11185,md5:"7ae8229fad99f4d1a26ecd3d80fdf439",name:"impact_1.ogg"},{bytes:53079,md5:"50e442f3759851b32c10427a12c4f854",name:"level_up.mp3"},{bytes:47510,md5:"9886ca17691a37519c0397061a532392",
name:"level_up.ogg"}],initial_music:[{bytes:386193,md5:"72c749fc9f99a784146f72d50f2243f6",name:"game.mp3"},{bytes:325503,md5:"3fc64818c7331b178a5be63f13333fda",name:"game.ogg"}],gameplay_sd:[],gameplay_hd:[],gameplay_music:[],gameplay_universal:[{bytes:10010,md5:"4b2902c9f9a1e99d215761a00e82a7d2",name:"gameplay/animation/dwellers/monster_bottom_01.png"},{bytes:9983,md5:"dfc155dd73ec6c0a6e5d6387fb01c375",name:"gameplay/animation/dwellers/monster_bottom_02.png"},{bytes:9902,md5:"1b37875491d2941cd6d271e35d1dc791",
name:"gameplay/animation/dwellers/monster_bottom_03.png"},{bytes:11138,md5:"7787d159b911ee57ed7a445627cd2ccb",name:"gameplay/animation/dwellers/monster_bottom_04.png"},{bytes:11539,md5:"0abf8aea0f4fdafa48c8c5cf3e04a55d",name:"gameplay/animation/dwellers/monster_bottom_05.png"},{bytes:12653,md5:"70aa495405153c04c6134157cc862087",name:"gameplay/animation/dwellers/monster_bottom_06.png"},{bytes:11614,md5:"f07cfe6b4fc4fd86df55e48f08f16cf6",name:"gameplay/animation/dwellers/monster_bottom_07.png"},{bytes:11491,
md5:"02666ea827e733096e4fafda8244e65d",name:"gameplay/animation/dwellers/monster_bottom_08.png"},{bytes:11591,md5:"c4a91bb684e5196c6f8fbe2025afc06e",name:"gameplay/animation/dwellers/monster_bottom_09.png"},{bytes:10020,md5:"bb20b8d37357ca3eabf946b38ccd6ebb",name:"gameplay/animation/dwellers/monster_bottom_10.png"},{bytes:9803,md5:"f6bd819a09361ac57efa672cab342ea8",name:"gameplay/animation/dwellers/monster_bottom_11.png"},{bytes:9454,md5:"fa5f3dd0b618e2f0bcfecabf764d05b4",name:"gameplay/animation/dwellers/monster_bottom_12.png"},
{bytes:9855,md5:"87086a3f3ef7806381357faa431f845e",name:"gameplay/animation/dwellers/monster_bottom_13.png"},{bytes:9736,md5:"b5533e6f147bcbaf855ad26174838525",name:"gameplay/animation/dwellers/monster_top_01.png"},{bytes:9947,md5:"668d69e3a4c76c88c97f98ae6e704346",name:"gameplay/animation/dwellers/monster_top_02.png"},{bytes:10559,md5:"fb45bcfd37e35a99418d648cb7c672ac",name:"gameplay/animation/dwellers/monster_top_03.png"},{bytes:10991,md5:"1c4b1ebcc2f29a7473a54f06bed6d288",name:"gameplay/animation/dwellers/monster_top_04.png"},
{bytes:11547,md5:"eec898f5628279f38d518f8bd6dcdaa4",name:"gameplay/animation/dwellers/monster_top_05.png"},{bytes:10847,md5:"108a1b1d4c9958752b42df9492569f72",name:"gameplay/animation/dwellers/monster_top_06.png"},{bytes:15232,md5:"a9a9de217e18f4590cc3d17a7eaa0c6b",name:"gameplay/animation/patrick/p_die_01.png"},{bytes:10927,md5:"f605e7ed4ceac053fdebb17b5e7c33f8",name:"gameplay/animation/patrick/p_fall_01.png"},{bytes:10832,md5:"4e6cac2e4a6b2ec52c0989d9d76974b5",name:"gameplay/animation/patrick/p_fall_02.png"},
{bytes:11219,md5:"0db4ad8646d863682e790b951e3dfaa5",name:"gameplay/animation/patrick/p_fall_03.png"},{bytes:11421,md5:"17587722a4683d0895ee1ee10af817ae",name:"gameplay/animation/patrick/p_hit_01.png"},{bytes:13749,md5:"52fea3de3b2c0a2097d644176584433a",name:"gameplay/animation/patrick/p_hit_02.png"},{bytes:10891,md5:"8189e3fb30d4f9e7f67114a68c0bd41b",name:"gameplay/animation/patrick/p_hit_03.png"},{bytes:19497,md5:"9649e781ee4f02cac923c5d3fd522538",name:"gameplay/gameplay_bubble_popup.png"},{bytes:147524,
md5:"0ec6874a15e151f22f10000690871ab0",name:"gameplay/gameplay_mg_bottom.png"},{bytes:172829,md5:"4d7ceae30932d0de6644b620507e1a14",name:"gameplay/gameplay_mg_top.png"},{bytes:1292,md5:"5e893bfa10265a8d1dc2bf418da71e79",name:"gameplay/gameplay_particle.png"},{bytes:78697,md5:"1003cf4484961e8ebf05d5c2eb2ac0ed",name:"gameplay/gameplay_rock_bottom_1.png"},{bytes:124417,md5:"c9f2a1efd4ff143ce449b66046a62149",name:"gameplay/gameplay_rock_bottom_2.png"},{bytes:6927,md5:"d8f7727e030f9a2d08f61e3c2d5c8245",
name:"gameplay/gameplay_rock_floating.png"},{bytes:79951,md5:"a73324efa0b12c225ceb8d47d8c0eacb",name:"gameplay/gameplay_rock_top_1.png"},{bytes:127779,md5:"1a4da8a3cfe0a389f565a264b418ffa3",name:"gameplay/gameplay_rock_top_2.png"},{bytes:124427,md5:"7a38737644e4be7b63f117b2217729b1",name:"gameplay/gameplay_rock_top_3.png"},{bytes:91497,md5:"456ab0813d171f3b58fea1fe171f0ac9",name:"gameplay/gameplay_rock_top_4.png"},{bytes:31823,md5:"ff4db7add0e94b793b809d30c2d77c0f",name:"ui/end_screen/ui_endgame_screen.jpg"},
{bytes:42359,md5:"31003a785dcadeee29bec9a6e3571cdd",name:"ui/gameplay_hud/ui_hud_bottom.png"},{bytes:2637,md5:"87323906b432a0eb615679dae0e81cdb",name:"ui/gameplay_hud/ui_hud_qmark.png"},{bytes:100661,md5:"456751fc9d19eb0cf82f4c6fc2a2ec2c",name:"ui/gameplay_hud/ui_hud_top.png"}],initial_universal:[{bytes:2514,md5:"67b20365faa779fc6bbb9cd65ffdf66c",name:"ui/general/button_vol_off.png"},{bytes:3976,md5:"4399be40609f479c575517cfacc8a0a8",name:"ui/general/button_vol_on.png"},{bytes:5978,md5:"293240a024a7f044ff48493fa7a60f68",
name:"ui/general/ui_bg.jpg"},{bytes:967,md5:"4c25027648448367ff05b9590f48f0ce",name:"ui/general/ui_btn_hitbox.png"},{bytes:257444,md5:"e8cdfe76e5fd23e8ae68218ec5f477f6",name:"ui/general/ui_rocks_top.png"}],air:[{bytes:4912,md5:"dc1b6528f2e9312e068aad2f53366b7e",name:"Default-568h@2x.png"},{bytes:4588,md5:"6617a9132c7566551711a15f42584d38",name:"Default.png"},{bytes:34016,md5:"0c8d573ff622474a53b7e4c76b75cda7",name:"icons/icon128.png"},{bytes:3411,md5:"9160a9857f1d99d4d1a5722de41941ba",name:"icons/icon16.png"},
{bytes:6111,md5:"db4c0e02b46c24bfabbcf33c6807fbb8",name:"icons/icon32.png"},{bytes:9187,md5:"e310873f7870789ec2ddffb01e3b9c23",name:"icons/icon48.png"}],bootstrap:[{bytes:2114,md5:"ba9e6829ba32e427142251a85cbd4fbb",name:"audio/silent.mp3"},{bytes:5514,md5:"3526550092a0e091f382852de5ef2315",name:"audio/silent.ogg"},{bytes:4443,md5:"81b93bdc6371fa252c25459f18bf81dc",name:"config/config.xml"},{bytes:10315,md5:"619ae470be3c6bee2e03a27b479e7e4b",name:"config/translation_cn.xml"},{bytes:12501,md5:"49dfce5c160a9a796ef487837fe44c73",
name:"config/translation_en.xml"},{bytes:10315,md5:"619ae470be3c6bee2e03a27b479e7e4b",name:"config/translation_jp.xml"},{bytes:10315,md5:"619ae470be3c6bee2e03a27b479e7e4b",name:"config/translation_kr.xml"},{bytes:10315,md5:"619ae470be3c6bee2e03a27b479e7e4b",name:"config/translation_la.xml"},{bytes:51988,md5:"91d6d7dd7328161dd7ed971aa0e4b907",name:"ui/splash/title_screen.jpg"}],initial_sd:[],initial_hd:[],fonts_la:[{bytes:20270,md5:"03abf1d15930899879def617a7b79205",name:"Basic.fnt"},{bytes:637317,
md5:"d5dba2f13dd4e29cf9e412fb4d3e16b6",name:"Basic.png"}],fonts_kr:[{bytes:20270,md5:"03abf1d15930899879def617a7b79205",name:"Basic.fnt"},{bytes:637317,md5:"d5dba2f13dd4e29cf9e412fb4d3e16b6",name:"Basic.png"}],fonts_jp:[{bytes:20270,md5:"03abf1d15930899879def617a7b79205",name:"Basic.fnt"},{bytes:637317,md5:"d5dba2f13dd4e29cf9e412fb4d3e16b6",name:"Basic.png"}],fonts_en:[{bytes:9614,md5:"42838f5a0f0faa8810276d11c3b24cde",name:"Basic.fnt"},{bytes:361151,md5:"1a17192d50aea658af6e0c91ebe3c6fd",name:"Basic.png"}],
fonts_cn:[{bytes:20270,md5:"03abf1d15930899879def617a7b79205",name:"Basic.fnt"},{bytes:637317,md5:"d5dba2f13dd4e29cf9e412fb4d3e16b6",name:"Basic.png"}],initial_soundfx:[]}]}};S=q.Manifest;ea=(new X("\\b(Android)\\b","")).match(B.window.navigator.userAgent)?!1:null!=(new XMLHttpRequest).withCredentials;S._supportsCrossOrigin=ea;L.Benchmark._calledStart=!1;L.Benchmark._calledCleanup=!1;p.Sprite._scratchPoint=new J.Point;p.Font.NEWLINE=new p.Glyph(10);j.BasicKeyboard._sharedEvent=new h.KeyboardEvent;
j.BasicMouse._sharedEvent=new h.MouseEvent;j.BasicPointer._sharedEvent=new h.PointerEvent;j.html.CanvasRenderer.CANVAS_TEXTURES=(new X("(iPhone|iPod|iPad)","")).match(B.window.navigator.userAgent);j.html.HtmlAssetPackLoader._mediaRefCount=0;j.html.HtmlAssetPackLoader._detectBlobSupport=!1;j.html.HtmlUtil.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];j.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=B.window.top==B.window&&(new X("Mobile(/.*)? Safari","")).match(B.navigator.userAgent);j.html.WebAudioSound._detectSupport=
!0;W.USE_CACHE=!1;W.USE_ENUM_INDEX=!1;W.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";T.DEFAULT_RESOLVER=N;T.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";w.ObjectMap.count=0;G.Parser.escapes=function(){var a=new w.StringMap;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);s.InflateImpl.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,
4,5,5,5,5,0,-1,-1];s.InflateImpl.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];s.InflateImpl.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];s.InflateImpl.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];s.InflateImpl.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];Q.main()})();
