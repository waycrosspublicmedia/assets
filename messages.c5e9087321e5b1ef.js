//  Merci-Michel [R]
//  https://www.merci-michel.com/
//  Build 20240429-165907

import{r as e,d as t,_ as a,j as n,a as s,w as i,c as r,u as o,e as l,f as c,i as u,M as d,g as f}from"./caution.2f23ff8a21e5b1ef.js";import{M as p,i as h,N as g,O as v,P as m,Q as w,R as y,S as _,U as b,V as x,A as C,y as k,W as L,X as M,z as F,Y as S,Z as H,_ as A,h as T,$ as B,o as E,l as z,B as $,a as R,t as I,a0 as q,a1 as O,u as P,c as D,n as Z,k as j,p as N,b as G,C as U,g as Y,e as V,D as W,f as K,w as X,E as J,G as Q,H as ee,I as te,F as ae,r as ne,J as se,s as ie,a2 as re,q as oe,T as le}from"./vendor.1eed6b1e21e5b1ef.js";function ce(e,t=0,a=1){return Math.min(Math.max(e,t),a)}function ue(e,t,a,n){this.fn=t,this.ctx=a||null,this.owner=e,this.once=!!n}function de(e,t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.ctx=t.fn=t.owner=null,t===e._first&&(e._first=t.next),t===e._last&&(e._last=t.prev)}class fe{constructor(){this._first=this._last=null,this._isStoreSignal=!0}emit(e,t,a){let n=this._first;for(;n;)n.fn.call(n.ctx,e,t,a),n.once&&this.unwatch(n),n=n.next}watch(e,t,a){const n=new ue(this,e,t,a);return this._first?(this._last.next=n,n.prev=this._last,this._last=n):(this._first=n,this._last=n),n}watchOnce(e,t){return this.watch(e,t,!0)}unwatch(e,t){if(e instanceof ue)return de(this,e);t||(t=null);let a=this._first;for(;a;)a.fn===e&&a.ctx===t&&de(this,a),a=a.next}unwatchAll(){let e=this._first;for(this._first=this._last=null;e;)de(this,e),e=e.next}}function pe(){return new fe}class he extends fe{constructor(e){super(),this.value=e}get(){return this.value}watchImmediate(e,t){const a=this.watch(e,t);return e.call(t,this.value,this.previous),a}}const ge=new Set,ve={stack:ge,held:!1,holdEmits:me,releaseEmits:we,batchUpdates:function(e){return function(t,a,n){me(),e(t,a,n),we()}}};function me(){ve.held=!0}function we(){ve.held=!1,ge.forEach(ye),ge.clear()}function ye(e){e._emit()}var _e=ve;class be extends he{set(e,t){if(t||this.value!==e){if(this.previous=this.value,this.value=e,_e.held)return _e.stack.add(this);this._emit()}}_emit(){let e=this._first;for(;e;)e.fn.call(e.ctx,this.value,this.previous),e.once&&this.unwatch(e),e=e.next;this.previous=null}update(e,t){const a=e(this.value);this.set(void 0!==a?a:this.value,t)}}function xe(e){return new be(e)}const Ce=_e.holdEmits,ke=_e.releaseEmits;_e.batchUpdates;let Le;const Me=[];let Fe=function(){const e=localStorage.getItem("ice_servers_cache");if(!e)return null;try{return JSON.parse(e)}catch(t){return null}}()||null;function Se(){return p()}function He(){let e,t,a,n,s,i=localStorage.getItem("uuid");i||(i=Se(),localStorage.setItem("uuid",i));const r=h(!1),o=pe(),l=pe(),c=Le={install:async function(e){e.config.globalProperties.$webRTC=c,e.provide("webRTC",c),delete c.install},config:function(e){this.firebaseApp=x(e)},createRoom:f,joinRoom:async function(a){if(!a)return!1;const n=g(),s=v(n,`${a}/room`),i=v(n,`${a}/candidates/remote`),r=await m(v(n,`${a}`)).then((e=>{if(e.exists())return e.val()})).catch((e=>{}));if(!r)return;if(r.room.answers)return;t||(e=await u(),L.config={iceServers:e});t=d(!1),t.on("signal",(async e=>{e.type,"answer"==e.type?await w(y(s,"answers/"),e):"candidate"==e.type&&_(i,e)})),t.signal(r.room.offer),Object.keys(r.candidates.host).forEach((e=>{t.signal(r.candidates.host[e])})),await new Promise((e=>requestAnimationFrame(e)))},sendMessage:function(e,a){if(!r.value)return;t.send(JSON.stringify({type:e,data:a}))},watch:function(e,t){return o.watch(e,t)},unwatch:function(e,t){o.unwatch(e,t)},watchStatus:function(e,t){return l.watch(e,t)},unwatchStatus:function(e,t){o.unwatch(e,t)},kill:function(){t&&(t.destroy(),t=null);n&&n();s&&s()},close:function(){t&&(t.destroy(),t=null);n&&n();s&&s()},status:r};return c;async function u(){if(Fe&&Date.now()<Fe.expires)return Fe.list;const e=await fetch("https://europe-west1-montblanc-explorer.cloudfunctions.net/listIceServers",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer l9CtlGXqOb+TVgDa2q5ZPfcyA+Fa"}}),t=await e.json();if(!t.iceServers)throw new Error(t);const a=Date.now()+18e5;return Fe={expires:a,list:t.iceServers},localStorage.setItem("ice_servers_cache",JSON.stringify(Fe)),t.iceServers}function d(e=!1){const t=new L({objectMode:!0,initiator:e,trickle:!0,answerConstraints:{offerToReceiveAudio:!1,offerToReceiveVideo:!1}});return t.on("error",p),t.on("close",(()=>{r.value=!1,l.emit("close")})),t.on("data",C),t.on("connect",(()=>{r.value=!0,l.emit("connect")})),t}async function f(i=null){e=await u(),L.config={iceServers:e},t=d(!0),await async function(e){if(!e)return;const t=g();M(v(t,e))}(a),a=i||Se();const r=g(),o=v(r,`${a}/room`),l=v(r,`${a}/candidates`),c=v(r,`${a}/candidates/host/`);return t.on("signal",(async e=>{"offer"==e.type?await w(y(o,"offer/"),e):"candidate"==e.type&&_(c,e)})),n=b(y(o,"answers/"),(async e=>{const a=e.val();a&&t.signal(a)})),s=b(y(l,"/remote/"),(async e=>{const a=e.val();a&&Object.keys(a).forEach((async e=>{Me.includes(e)||(Me.push(e),a[e],t.signal(a[e]))}))})),a}function p(e){r.value=!1,t.destroy(),t=null,l.emit("error"),n&&n(),s&&s(),f(a)}function C(e){const t=JSON.parse(e);o.emit(t.type,t.data)}}function Ae(){let e,t;const a=[],n=[];return{install:function(a){e=a,t=e.mount.bind(e),e.mount=r.bind(e),e.onBeforeMount=s,e.onAfterMount=i}};function s(e,t){t?a.unshift(e):a.push(e)}function i(e,t){t?n.unshift(e):n.push(e)}function r(s,i){for(const t of a)t(e);t(s,i);for(const t of n)t(e);n.length=a.length=0}}function Te(){let e,t;const a=new Promise(((a,n)=>{e=a,t=n}));return a.resolve=e,a.reject=t,a}function Be(e,t=1,a={},n){const s=a.bind||null,i=null==a.trail||!!a.trail,r=null==a.tail||!!a.tail;let o,l,c,u=null,d=i,f=!1;function p(){u=null,i&&!f&&(d=!0),e.call(s,o,l,c),n&&f&&r&&(f=!1,u=setTimeout(p,t))}return function(a,r,h){n||(clearTimeout(u),u=null),o=a,l=r,c=h,i&&d&&(d=!1,e.call(s,o,l,c)),null===u?u=setTimeout(p,t):n&&(f=!0)}}const Ee=e=>new Promise((t=>setTimeout(t,e)));let ze=null;function $e(){let a,n,s,i,r,o,l,c=!1,u=2,d=0,f=!1;const p=[],h=new Promise((e=>o=e)),g=ze=F({progress:0,taskCount:0,taskFinished:0,hidden:!1,destroyed:!1,task:function(e,{weight:t=1,graceful:a=!0}={}){"function"==typeof e&&(e=e());return b(t),Promise.resolve().then((()=>e)).then((()=>_(t))).catch((e=>{a&&_(t)}))},createTask:x,setMinimumTaskCount:function(e){u=e,g.taskCount=Math.max(u,d)},beforeExit:function(e){f?e():p.push(e)}});return function(o){i=x(),s=o,s.config.globalProperties.$router.beforeEach(w),s.config.globalProperties.$preloader=g,s.provide("preloader",g),n=document.getElementById("preloader"),a=function(a,n){const s=n.querySelector(".preloader-counter"),i=n.querySelector(".preloader-background"),r=n.querySelector(".preloader-text"),o=Te();let l=0,c=0;function u(e){e=ce(e,5,300);let a=t(c,l,.17,e);if(a>.99&&(a=1),a===c)return;c=a;const n=Math.floor(100*c).toString().padStart(2,"0");s.textContent=Math.min(99,n),c>=1&&o.resolve()}return{enter:function(){e.add(u)},onProgress:function(e){l=e},exit:async function(e){await o,i.style.transition="transform 1000ms cubic-bezier(0.910, 0.000, 0.195, 0.990)",i.style.transform="scaleY(0)",await Ee(400),s.style.transition="opacity 200ms",s.style.opacity=0,await Ee(100),r.style.transition="opacity 200ms",r.style.opacity=0,await Ee(100),e(),await Ee(1e3)},beforeDestroy:function(){e.remove(u)}}}(0,n),a.init&&a.init();a.enter&&(l=a.enter());r=S((()=>function(){const e=g.progress;a.onProgress&&a.onProgress(e);e>=1&&function(){if(f)return;f=!0,Promise.resolve().then((()=>l)).then((()=>p.reduce(((e,t)=>e.then(t)),Promise.resolve()))).then((()=>p.length=0)).then((()=>a.exit&&a.exit(v))).then(m).catch((e=>{m()}))}()}(g.progress)))};function v(){g.hidden||g.destroyed||(g.hidden=!0,r&&r(),r=null,o())}function m(){g.destroyed||(v(),n.parentNode&&n.parentNode.removeChild(n),a.beforeDestroy&&a.beforeDestroy(),n=null,a=null,g.destroyed=!0)}function w(e,t,a){c||(s.config.globalProperties.$router.beforeResolve(y),c=!0),a()}async function y(e,t,a){i.finish(),await h,a()}function _(e){g.taskFinished+=e;const t=g.taskFinished/g.taskCount;g.progress=Math.max(0,Math.min(1,Math.max(g.progress,t)))}function b(e){d+=e,g.taskCount=Math.max(u,d)}function x({weight:e=1}={}){let t=!1;return b(e),{get finished(){return t},finish(){t||(t=!0,_(e))}}}}function Re(){return C()?k("preloader"):ze}const Ie={};function qe(e,t=!1){const a=window.__DATA||Ie;return H(a,e)||H(a.site,e)||H(a.page,e)||(t?e:"")}function Oe(e){const t=e.tag||e.tagName||"span";let a=e.debug;"string"!=typeof a||a.length||(a=!0);const n=qe(e.id||"",!!a);return A(t,{innerHTML:n})}function Pe(){return{install:function(e){e.config.globalProperties.$l=qe,e.config.globalProperties.$translation=qe,e.provide("translation",qe),e.component("Translation",Oe),e.component("L",Oe)}}}const De="unknown",Ze=(e,t)=>t.reduce(((t,a)=>t||!!e.match(a)),!1),je=(e,t)=>{for(const a in t)if(Ze(e,t[a]))return a},Ne={edge:["edge"],chrome:["chrome","crios"],firefox:["firefox","fxios"],ie:["msie","trident","rv:"],ucbrowser:["ucbrowser"],safari:["safari","ios"],opera:["opera","opios"]},Ge={0:"verylow",1:"low",2:"medium",3:"high",4:"veryhigh",5:"ultra"};function Ue(e,t=!1){const a={};if(t)return Object.assign(a,{type:{desktop:!0},os:"windows",browser:"chrome",browserVersion:"77",gpu:Ke("low")});a.userAgent="string"==typeof e?e:navigator.userAgent.toLowerCase(),a.hasTouch="ontouchstart"in window||navigator.maxTouchPoints>1,a.type=function({hasTouch:e,userAgent:t}){const a=["ios","iphone","ipad","phone","android","blackberry"],n=Math.max(screen.width,screen.height)>900,s=Ye(t,e),i=!!(s||e&&Ze(t,a)),r=!(!i||!s&&!n),o=!i;return{desktop:o,mobile:i,tablet:r,phone:!o&&!r}}(a),a.os=function({hasTouch:e,type:t,userAgent:a}){if(Ye(a,e))return"ios";const n={desktop:{windows:["windows","iemobile"],linux:["linux"],macos:["mac os"]},mobile:{android:["android"],ios:["ipad","iphone"],blackberry:["blackberry"]}},s=t.desktop?n.desktop:n.mobile;return je(a,s)||"unknown"}(a),a.browser=function({userAgent:e,os:t}){const a=je(e,Ne);return a||("ios"===t?"safari":De)}(a),a.browserVersion=function({userAgent:e,browser:t}){const a=t=>{const a=e.split(t)[1];if(!a||a.length<=0)return;const n=parseFloat(a.split(" ")[0].split(".")[0].replace(/[^.0-9]/g,""));return isNaN(n)?void 0:n};switch(t){case"chrome":case"firefox":return void Ne[t].forEach((e=>{const t=a(e);if(null!==t||void 0!==t)return t}));case"safari":let n=e.match(/version\/([.\d]+)/i);return n&&n[1]?parseFloat(n[1]):(n=e.match(/os ([0-9_]+)/i),n&&n[1]?parseFloat(n[1].split("_")[0]):void 0);case"ie":case"edge":return Ze(e,["msie"])?a("msie"):Ze(e,["rv:"])?a("rv:"):a("edge/");default:return}}(a);let n=Ve(a,!0);const s=!n;return We(),n=Ve(a,!1),a.majorPerformanceCaveat=n&&s,a.webgl=n?function(e,t){const a=["WEBKIT_","MOZ_"];let n=t.getSupportedExtensions()||[];n=n.reduce(((e,t)=>{for(let n=0;n<a.length;n++)if(!t.indexOf(a[n]))return e[t.substring(a[n].length)]=t,e;return e[t]=t,e}),{});const s="WEBGL_compressed_texture_",i=["s3tc","astc","etc","pvrtc"].reduce(((e,t)=>(e[t]=!!n[s+t],e)),{});return{renderer:(t.getParameter(t.RENDERER)||"").toLowerCase(),version:(t.getParameter(t.VERSION)||"").toLowerCase(),glsl:(t.getParameter(t.SHADING_LANGUAGE_VERSION)||"").toLowerCase(),extensions:n,compressedTextures:i}}(0,n):null,a.gpu=n?function({os:e,webgl:t},a){const n={string:null,quality:{low:!0},qualityIndex:1,type:null,series:null,version:null,numbers:[],isMobile:null},s={intel:["intel"],nvidia:["nvidia","geforce"],amd:["amd","radeon"],adreno:["adreno"],apple:["apple"],mali:["mali"],swiftshader:["swiftshader"]},i=a.getExtension(t.extensions.WEBGL_debug_renderer_info),r=i?a.getParameter(i.UNMASKED_RENDERER_WEBGL):"";if(!i||!r.length)return n;if(n.string=function(e){let t=e.toLowerCase();t=t.replace(/(\(tm\)|\(r\))/g,""),t=t.trim(),t.includes("angle (")&&t.includes("direct3d")&&(t=t.replace("angle (","").split(" direct3d")[0]);t.includes("nvidia")&&t.includes("gb")&&(t=t.split(/\dgb/)[0]);return t}(r),n.type=je(n.string,s)||De,n.type===De)return n;"ios"===e&&"apple gpu"===n.string&&(n.string=function({os:e,type:t},a){const n=window.devicePixelRatio,s=Math.min(window.screen.width,window.screen.height)*n,i=Math.max(window.screen.width,window.screen.height)*n,r="ios"===e&&t.tablet,o="\n\t\t// Credits: @Samsy\n\t\tprecision highp float;\n\t\tattribute vec3 position;\n\t\tvarying float vvv;\n\t\tvoid main() {\n\t\t\tvvv = 0.31622776601683794;\n\t\t\tgl_Position = vec4(position, 1.0);\n\t\t}\n\t",l="\n\t\t// Credits: @Samsy\n\t\tprecision highp float;\n\t\tvarying float vvv;\n\t\tvoid main() {\n\t\t\tvec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n\t\t\tenc = fract(enc);\n\t\t\tenc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n\t\t\tgl_FragColor = enc;\n\t\t}\n\t";let c=0;const u=a.createShader(35633),d=a.createShader(35632),f=a.createProgram();if(null!==d&&null!==u&&null!==f){a.shaderSource(u,o),a.shaderSource(d,l),a.compileShader(u),a.compileShader(d),a.attachShader(f,u),a.attachShader(f,d),a.linkProgram(f),a.detachShader(f,u),a.detachShader(f,d),a.deleteShader(u),a.deleteShader(d),a.useProgram(f);const e=a.createBuffer(),t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]);a.bindBuffer(34962,e),a.bufferData(34962,t,35044);const n=a.getAttribLocation(f,"position");a.vertexAttribPointer(n,3,5126,!1,0,0),a.enableVertexAttribArray(n),a.clearColor(1,1,1,1),a.clear(16384),a.viewport(0,0,1,1),a.drawArrays(4,0,3);const s=new Uint8Array(4);a.readPixels(0,0,1,1,6408,5121,s);const i=s.join("");a.deleteProgram(f),a.deleteBuffer(e),"801621810"===i?c=11:"8016218135"===i&&(c=8)}return r&&8===c?"apple a8 gpu":r&&11===c?"apple a11 gpu":r&&i<=1024?"apple a8 gpu":r&&i>=2200?"apple a10 gpu":!r&&s<640?"apple a6 gpu":!r&&s<=640?8===c?"apple a8 gpu":"apple a7 gpu":!r&&s<=750||!r&&s<=1080?"apple a9 gpu":!r&&i>=2e3?"apple a10 gpu":"apple gpu"}(n,a));return n.isMobile="m"===n.string[n.string.length-1],Object.assign(n,function(e){const t=e.split(" ").map((e=>e.replace(/[\D]/g,""))).filter((e=>e.length>0)).map((e=>parseFloat(e))),a=t[0]||null;return{numbers:t,version:a}}(n.string)),n.series=function(e){const t={swiftshader:"swiftshader","apple a":"apple gpu","apple m1":"apple m1","apple m":"apple m","geforce gtx":"geforce gtx","geforce rtx":"geforce rtx","geforce mx":"geforce mx",titan:"geforce titan","quadro fx":"quadro fx","quadro p":"quadro p","quadro rtx":"quadro rtx","quadro ":"quadro","geforce ":"geforce","tegra ":"tegra","radeon vii":"radeon vii","radeon r7":"radeon r7","radeon r9":"radeon r9","radeon r10":"radeon r10","radeon rx":"radeon rx","radeon pro vega":"radeon pro vega","radeon rx vega":"radeon rx vega","radeon hd":"radeon hd","radeon pro ":"radeon pro","radeon ":"radeon","intel iris ":"intel iris","intel iris plus ":"intel iris plus","intel iris pro ":"intel iris pro","intel hd ":"intel hd","intel uhd ":"intel uhd",adreno:"adreno","mali-t":"mali t","mali-g":"mali g",mali:"mali"},a={};for(const n in t)e.indexOf(n)>-1&&(a[t[n]]=!0);return a}(n.string),Object.assign(n,function({type:e,browser:t},a){if(!a||!a.type||"swiftshader"===a.type)return"firefox"===t&&e.desktop?Ke("medium"):Ke("low");const n=a.isMobile,s=a.type,i=a.series,r=a.version||0,o=a.string.match(/(?:^| )mp(\d)+(?: |$)/i),l=o?parseFloat(o[1]):1,c=e=>i[e],u=(e,t,a)=>c(e)&&t<=r&&(void 0===a||l<=a),d=(e,t,a)=>c(e)&&r>=t&&(void 0===a||l>=a),f={veryhigh:[c("geforce rtx"),c("geforce titan"),c("quadro gtx"),n&&d("geforce gtx",780),!n&&d("geforce gtx",680),d("quadro p",400),c("radeon vii")||c("radeon r10")||c("radeon r9"),d("radeon r7",370),d("radeon rx",570),d("radeon rx vega",56)],high:[c("geforce gtx"),c("apple m"),d("geforce mx",150),d("radeon pro",450),d("radeon hd",5570)&&!n,(d("intel iris plus",650)||d("intel iris pro",580))&&u("intel iris",5e3),d("adreno",418),d("apple gpu",9),d("mali g",71),d("mali t",760,8)||d("mali t",880)],medium:["nvidia"===s||"amd"===s,c("intel iris plus")||c("intel iris pro"),d("intel hd",630)&&u("intel hd",2e3),d("adreno",430),d("apple gpu",8),c("mali g"),d("mali t",800,2)||d("mali t",860)]};let p="low";for(const h in f){for(let e=0,t=f[h].length;e<t;e++)if(f[h][e]){p=h;break}if("low"!==p)break}return Ke(p)}(i,n)),n}(a,n):Ke("low"),We(),a}function Ye(e,t){const a=Ze(e,["ipad","mac","macos"]),n=Ze(e,["iphone"]),s="MacIntel"===navigator.platform;return!(n||!a||!s||!t)}function Ve(e,t){const a=document.createElement("canvas");let n;try{const s={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:t,powerPreference:"high-performance",stencil:!1};"safari"===e.browser&&12===e.browserVersion&&e.type.desktop&&delete s.powerPreference,n=a.getContext("webgl",s)||a.getContext("webgl-experimental",s)||a.getContext("experimental-webgl",s)}catch(s){}return n}function We(e){e&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext()}function Ke(e){const t=Ge;return{qualities:t,qualityIndex:Math.max(0,Object.values(t).indexOf(e))}}function Xe(e={}){const t={install:function(n){n.config.globalProperties.$device=t,n.provide("device",t),function(){const n=Ue(e.userAgent);Object.assign(t,n),a(t.gpu.qualityIndex),function(e){const t=document.documentElement;e.hasTouch&&t.classList.add("touch");for(const a in e.type)e.type[a]&&t.classList.add(a.toLowerCase());e.browser&&e.browser.length>0&&t.classList.add(e.browser.toLowerCase());e.os&&e.os.length>0&&"Unknown"!==e.os&&t.classList.add(e.os.toLowerCase())}(t)}(),delete t.install},updateQuality:a};return t;function a(e){const a=document.documentElement;if(!t.gpu)return;t.gpu.qualityIndex=e;const n=t.gpu.qualities;for(const s in n)t.gpu&&t.gpu.quality&&(t.gpu.quality[n[s]]=s<=e),a.classList.toggle(n[s],e==s)}}const Je=document.documentElement;let Qe,et;function tt(){const e=h(),t=h(),a=h(),n=h(),s=h(),i=Be(l,500,{trail:!1});let r=null;const o=et={install:function(e){e.config.globalProperties.$viewport=o,e.provide("viewport",o),Qe=document.createElement("div"),Object.assign(Qe.style,{position:"fixed",top:0,left:0,width:"200px",height:"10px",overflowY:"scroll",pointerEvents:"none",userSelect:"none",zIndex:-1,opacity:0}),r={measureScrollbarWidth:function(){const e=document.createElement("div");Object.assign(Qe.style,{width:"200px",height:"10px",overflowY:"scroll"}),Object.assign(e.style,{width:"100%",height:"150%"}),Qe.appendChild(e),document.body.appendChild(Qe);const t=parseFloat(getComputedStyle(Je).zoom),a=isNaN(t)?1:t,n=Math.round((200-Qe.clientWidth)*a);return Je.style.setProperty("--scrollbar-width",n+"px"),document.body.removeChild(Qe),Qe.removeChild(e),Object.assign(Qe.style,{width:"1px",height:"100%",overflowY:"hidden"}),n},measureViewportHeight:function(){document.body.appendChild(Qe);const e=Qe.getBoundingClientRect().height;return document.body.removeChild(Qe),Je.style.setProperty("--inner-height",window.innerHeight+"px"),Je.style.setProperty("--vp-height",e+"px"),e}},r.measureScrollbarWidth(),document.addEventListener("visibilitychange",u,!1),setInterval(c,5e3),window.addEventListener("resize",(()=>{l(),i()}),!1),l(),c(),u(),delete o.install},width:e,height:t,viewportRatio:n,pixelRatio:a,visible:s};return o;function l(){e.value=window.innerWidth,t.value=r.measureViewportHeight(),n.value=e.value/t.value}function c(){a.value=window.devicePixelRatio||1}function u(){s.value=!document.hidden,l()}}function at(){return C()?k("viewport"):et}const nt=window;function st(){nt.gaDataLayer.push(arguments)}function it(e){for(const t in e)null==e[t]&&delete e[t];return e}nt.gtmDataLayer=nt.gtmDataLayer||[],nt.gaDataLayer=nt.gaDataLayer||[];const rt={ga4ID:"G-J56FFMH6PG",debug:!0},ot=rt.gtmID||null,lt=rt.ga4ID||null,ct={send_page_view:!1,restricted_data_processing:!0,anonymize_ip:!0,cookie_prefix:"analytics_ga4",cookie_update:!1,cookie_expires:15552e3};let ut=!1;const dt=[];function ft(e={}){let t=null;const a={install:function(t){t.config.globalProperties.$stats=a,t.provide("stats",a),e.autoInit&&n();delete a.install},init:n,pageview:function e({title:a,url:n}){var s,i;window.ga&&!ut&&(ut=!0);if(!ut)return void dt.push((()=>e({title:a,url:n})));if((n=(n+"").split("?")[0])===t)return;t=n;const r=it({page_location:n+=document.location.search,page_title:a}),o=null==(i=null==(s=window.__DATA)?void 0:s.site)?void 0:i.locale;o&&(r.locale=o);st("event","page_view",Object.assign({send_to:lt},r)),window.ga&&ga("send","pageview",{page:n,title:a})},event:function e(t={}){var a,n;if("string"!=typeof t.name||t.name.length<1)return;if(!ut)return void dt.push((()=>e(t)));const s=it({event_category:t.category,event_label:t.label,value:t.value}),i=null==(n=null==(a=window.__DATA)?void 0:a.site)?void 0:n.locale;i&&(s.locale=i);t.name,s.category,s.label,s.value,ot&&(r=Object.assign({event:t.name},s),nt.gtmDataLayer.push(r));var r;lt&&st("event",t.name,Object.assign({send_to:lt},s))}};return a;function n(){if(!ut){ut=!0;{st("js",new Date),st("config",lt,ct),st("set","allow_ad_personalization_signals",!1),st("set","allow_google_signals",!1);const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?l=gaDataLayer&id="+lt,document.head.appendChild(e)}dt.forEach((e=>e())),dt.length=0}}}const pt={linear:[.25,.25,.75,.75],inSine:[.47,0,.745,.715],outSine:[.39,.575,.565,1],inOutSine:[.445,.05,.55,.95],inQuad:[.55,.085,.68,.53],outQuad:[.25,.46,.45,.94],inOutQuad:[.455,.03,.515,.955],inCubic:[.55,.055,.675,.19],outCubic:[.215,.61,.355,1],inOutCubic:[.645,.045,.355,1],inQuart:[.895,.03,.685,.22],outQuart:[.165,.84,.44,1],inOutQuart:[.77,0,.175,1],inQuint:[.755,.05,.855,.06],outQuint:[.23,1,.32,1],inOutQuint:[.86,0,.07,1],inExpo:[.95,.05,.795,.035],outExpo:[.19,1,.22,1],inOutExpo:[1,0,0,1],inCirc:[.6,.04,.98,.335],outCirc:[.075,.82,.165,1],inOutCirc:[.785,.135,.15,.86],outSwift:[.55,0,.1,1],snap2:[0,.975,0,1],bounce:[.18,.89,.34,1.76],bounce2:[.865,-.005,0,1.47],bounce3:[.865,-.005,0,1.64],bounce4:[0,1.49,.105,.94],hardBounce:[.07,1.525,.36,.935],longKeyframe:[.49,.05,.32,1.04],elastic:[0,.49,.205,1]};let ht=0;const gt=()=>++ht,vt=(e,t)=>void 0!==e?e:t,mt=new Set(["opacity","transform"]),wt=new Set(["target","ease","duration","delay","willChange"]),yt=new Map,_t=[],bt=[],xt=[];let Ct=!1;function kt(){let e,t;for(e=0,t=_t.length;e<t;e++)_t[e]();for(e=0,t=bt.length;e<t;e++)bt[e]();for(e=0,t=xt.length;e<t;e++)xt[e]();_t.length=0,bt.length=0,xt.length=0,Ct=!1}const Lt="function"==typeof window.queueMicrotask?()=>queueMicrotask(kt):()=>Promise.resolve().then(kt);const Mt=function(e,t,a){e&&_t.push(e),t&&bt.push(t),a&&xt.push(a),Ct||(Ct=!0,Lt())};function Ft(e,t=1e3,a="linear",n=0){pt[a]&&(a=pt[a]);return`${e} ${t}ms ${Array.isArray(a)?`cubic-bezier(${a.join(",")})`:a} ${n}ms`}function St(e={}){let t=e.complete;const a=!!e.instant,n=!!e.willChange;let s=e.target;e.selector&&(s=s.querySelector(e.selector));const i={easing:e.ease||e.easing||"linear",duration:e.duration||1e3,delay:e.delay||0};s.dataset.csstween||(s.dataset.csstween=gt());const r=s.dataset.csstween;let o=null,l=new Promise((e=>o=e));e.queue&&e.queue.push(l);const c={destroy:_,stop:_,finished:l},u=new Set;let d=null,f=!1;const p=[],h=[],g={},v={};let m=0;for(const b in e){if(wt.has(b))continue;if(void 0===s.style[b])continue;const t=e[b];if(null==t)continue;const n="object"!=typeof t||Array.isArray(t)?{value:t}:t,r=vt(n.duration,i.duration),o=vt(n.delay,i.delay),l=vt(n.easing,i.easing);h.push(Ft(b,r,l,o)),m=Math.max(m,r+o);const c=Array.isArray(n.value)?n.value:[null,n.value];(a||o<=0&&(!r||r<=0))&&(c[0]=c[1],c[1]=null),null!==c[0]&&(g[b]=c[0]),null!==c[1]&&(v[b]=c[1]),mt.has(b)&&p.push(b)}return Mt((function(){if(f)return;yt.has(r)&&yt.get(r).destroy();yt.set(r,c),s.style.animation="",n&&p.length>0&&(s.style.willChange=p.join(", "));if(Object.keys(g).length>0)for(const e in g)s.style[e]=g[e]}),(function(){if(f)return;s.getBoundingClientRect()}),(function(){if(f)return;if(Object.keys(v).length>0){s.style.transition=h.join(", ");for(const e in v)s.style[e]=v[e],u.add(e);s.addEventListener("transitionend",y),s.addEventListener("webkitTransitionEnd",y),d=window.setTimeout(w,1.1*m+200)}else w()})),c;function w(){f||(window.clearTimeout(d),t&&t(),o(),_())}function y(e){s.style.willChange="",u.delete(e.propertyName),u.size<1&&w()}function _(){f||(window.clearTimeout(d),d=null,s.style.transition="",s.style.animation="",s.removeEventListener("transitionend",y),s.removeEventListener("webkitTransitionEnd",y),yt.delete(r),u.clear(),s=null,l=null,t=null,o=null,f=!0)}}function Ht(e={}){let t=e.complete,a=e.start,n=e.target;e.selector&&(n=n.querySelector(e.selector));const s=function(e){return e||(e="linear"),pt[e]&&(e=pt[e]),Array.isArray(e)?`cubic-bezier(${e.join(",")})`:e}(e.ease||e.easing),i=!!e.instant,r=!!e.willChange,o=e.delay||0,l=i?"0ms":e.duration||1e3,c=e.fillMode||"forwards",u=e.direction||"normal",d=e.animation||e.name||"pop",f=l+o,p=[d,l+"ms",s,o>0?o+"ms":null,1,u,c].filter((e=>null!==e)).join(" ");n.dataset.csstween||(n.dataset.csstween=gt());const h=n.dataset.csstween;let g=null,v=new Promise((e=>g=e));e.queue&&e.queue.push(v);const m={destroy:C,stop:C,finished:v};let w=null,y=!1;return Mt((function(){if(y)return;yt.has(h)&&yt.get(h).destroy();yt.set(h,m),n.style.animation=""}),(function(){if(y||!n)return;n.getBoundingClientRect()}),(function(){if(y||!n)return;n.addEventListener("animationstart",b),n.addEventListener("webkitAnimationStart",b),n.addEventListener("animationend",x),n.addEventListener("webkitAnimationEnd",x),r&&(n.style.willChange="transform, opacity");n.style.animation=p,w=window.setTimeout(_,1.1*f+200)})),m;function _(){y||(window.clearTimeout(w),g&&g(),t&&t(n),C())}function b(e){a&&a(n,e),a=null,n.removeEventListener("animationstart",b),n.removeEventListener("webkitAnimationStart",b)}function x(){n.style.willChange="",_()}function C(){y||(window.clearTimeout(w),w=null,n.removeEventListener("animationend",x),n.removeEventListener("webkitAnimationEnd",x),n.removeEventListener("animationstart",b),n.removeEventListener("webkitAnimationStart",b),yt.delete(h),n=null,v=null,t=null,a=null,g=null,y=!0)}}function At(){const e=[];return C()&&T((()=>a())),{csstween:function(e){return t(e,St)},cssanimate:function(e){return t(e,Ht)},clear:a};function t(t,a){const n=a(t);return(null==t.autoClear||t.autoClear)&&e.push(n),n}function a(t){for(let a=e.length-1;a>=0;a--){const n=e[a];n&&n.destroy?t&&n.target!==t||(n.destroy(),e.splice(a,1)):e.splice(a,1)}}}var Tt=a({props:{to:{type:[String,Object],default:null},href:{type:String,default:null},text:{type:String,default:null},type:{type:String,default:null}},setup(e,{expose:t}){const a=e,s=h();function i(){const e=n();e&&e.audio.playSound("UI_Hover_Tiny")}t({text:s});const r=a.to?B:a.href?"a":"button";return(e,t)=>(E(),z(O(P(r)),{to:a.to,href:a.href,class:"cta",type:a.type,onMouseenter:i},{default:$((()=>[R("p",{ref:(e,t)=>{t.text=e,s.value=e},class:"cta__text"},I(a.text),513),q(e.$slots,"default",{},void 0,!0)])),_:3},8,["to","href","type"]))}},[["__scopeId","data-v-393c1b9c"]]);const Bt=e=>(N("data-v-38f76d36"),e=e(),G(),e),Et=["innerHTML"],zt={class:"borders"},$t=Bt((()=>R("div",null,null,-1))),Rt=Bt((()=>R("div",null,null,-1))),It={key:0,class:"big-line"};var qt=a({props:[["icon",String,""],["noBigLine",Boolean,!1],["isEmpty",Boolean,!1],["transparent",Boolean,!1],["to",[String,Object],null],["href",String,null],["text",String,""],["smallText",Boolean,!1],["type",String,null]].reduce(((e,t)=>(e[t[0]]={value:t[1],default:t[2]},e)),{}),setup(e){const t=e,a=h(),s=h();function i(){a.value&&(s.value.classList.add("hoverIn"),s.value.getBoundingClientRect(),s.value.classList.remove("hoverIn"),St({target:a.value.text,transform:["translateX(-1em)",""],easing:"snap2",duration:2e3}))}function r(){a.value&&St({target:a.value.text,transform:["scale(0.85)",""],easing:"outQuint",duration:350})}function o(){if(!s.value)return;const e=n();e&&e.audio.playSound("UI_Validate_Big"),s.value.classList.add("onClick"),s.value.getBoundingClientRect(),s.value.classList.remove("onClick")}const l={next:'<svg width="43" height="43" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <rect x="21.749" y="1.475" width="28.671" height="28.671" rx="1.5" transform="rotate(45 21.749 1.475)" fill="#fff" stroke="url(#a)" />\n  <path d="M23 21.5 17.886 17H13l4.886 4.5L13 26h4.886L23 21.5Z" fill="#496c8c" fill-opacity=".6" />\n  <path d="M31 21.5 25.886 17H21l4.886 4.5L21 26h4.886L31 21.5Z" fill="#496c8c" />\n  <defs>\n    <linearGradient id="a" x1="22.091" y1="30.452" x2="49.668" y2="2.875" gradientUnits="userSpaceOnUse">\n      <stop stop-color="#E1E1E1" />\n      <stop offset="1" stop-color="#C9C9C9" stop-opacity="0" />\n    </linearGradient>\n  </defs>\n</svg>\n',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 43 43" style="enable-background:new 0 0 43 43" xml:space="preserve"><path d="M28.5 20.6c.5.3.6.9.3 1.4-.1.1-.2.3-.3.3L8.4 34.6c-.5.3-1.1.1-1.4-.3-.1-.2-.1-.3-.1-.5V9.3c0-.6.4-1 1-1 .2 0 .4.1.5.1l20.1 12.2z" style="fill:#fff"/><path d="M37.5 20.6c.5.3.6.9.3 1.4-.1.1-.2.3-.3.3L17.4 34.6c-.5.3-1.1.1-1.4-.3-.1-.2-.1-.3-.1-.5V9.3c0-.6.4-1 1-1 .2 0 .4.1.5.1l20.1 12.2z" style="opacity:.33;fill:#fff;enable-background:new"/></svg>\n'}[t.icon];return(e,n)=>(E(),D("div",{ref:(e,t)=>{t.base=e,s.value=e},class:Z(["framed",{isSkew:t.skew}]),onMouseenter:i,onMouseleave:r,onMousedown:o,onTouchdown:o},[t.text.length>0?(E(),z(Tt,{key:0,ref:(e,t)=>{t.cta=e,a.value=e},to:t.to,text:t.text,href:t.href,class:Z({smallSize:t.smallText}),type:t.type},null,8,["to","text","href","class","type"])):j("",!0),P(l)?(E(),D("div",{key:1,class:"icon",innerHTML:P(l)},null,8,Et)):j("",!0),R("figure",zt,[$t,Rt,t.noBigLine?j("",!0):(E(),D("div",It))])],34))}},[["__scopeId","data-v-38f76d36"]]);const Ot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1250.22 135.73",class:"gameLogo"},Pt=[U('<path class="cls-1" d="M55.2,43.47l.09-.58H.58L6.76,3.11H173.38L167,42.89H112.33l-.07.42-14.18,89H41Z" stroke-width="1" stroke="#fff" fill="#fff" data-v-7a5f33f4></path><path class="cls-2" d="M220,132.34H163.13L183.73,3.11h56.86L233.47,47l-.1.58h72.79l.07-.42,7.14-44h56.86l-20.6,129.23H292.77l7.48-47.21.09-.58H227.55l-.06.42Z" stroke-width="1" stroke="#fff" fill="#fff" data-v-7a5f33f4></path><path class="cls-3" d="M424.65,98.5h91.24l-5.3,33.84H362.79L383.39,3.11H530.13l-5.46,33.48h-90.6L434,37,432.07,49.8l-.08.57h89.35l-5.29,33H426.51l-.07.42-2.28,14.17-.1.58Z" stroke-width="1" stroke="#fff" fill="#fff" data-v-7a5f33f4></path><path class="cls-4" d="M564.13,132.77,584.82,3H715c14.88,0,26.52,2.5,34.42,7.55s12.08,12.6,12.08,22.89a30.29,30.29,0,0,1-10.72,23.65c-6.34,5.53-14.65,8.84-22.45,10.32l0,1a35.59,35.59,0,0,1,17.79,10.72l-30.83,49.84-2.39,3.86H689.66c-.48-1.06-.48-2.63,0-5.57h0l2.47-14.77h0c1.16-7.1.34-12.87-3.32-16.86s-10-6-19.61-6H628.14l-.06.42-6.83,42.83Zm69.25-77.29-.1.58H686c5.64,0,9.4-1.43,11.75-3.58A10.14,10.14,0,0,0,701,44.83a7.78,7.78,0,0,0-2.82-6.45c-2-1.6-5.14-2.49-9.7-2.49H636.63l-.07.42Z" stroke-width="1" stroke="#fff" fill="#fff" data-v-7a5f33f4></path><path class="cls-5" d="M889.6,76c0,10.45,2,21.6,7.73,31.79,5.49,9.71,14.42,18.52,28.33,25H873.35L867.8,115l-.11-.35h-69l-.15.25-10.45,17.86H730.4L810.71,3H890.3l10.18,28.87a76.06,76.06,0,0,0-9.73,27.93A104.43,104.43,0,0,0,889.6,76Zm-70.06,2.91-.44.76h37.95l-.2-.65L844.31,38.53,844,37.45l-.57,1Z" stroke-width="1" stroke="#fff" fill="#fff" data-v-7a5f33f4></path><path class="cls-6" d="M903.64,76h0a97.32,97.32,0,0,1,1.06-14.87c1.84-12.06,6.49-27.18,20.88-39.29S964.17.5,1005.27.5h6.19c37.15,0,59.29,7.21,72.23,16.64l-6.24,39.15h-35.69A16.3,16.3,0,0,0,1036,46.1c-4.87-4.21-13.75-7.92-30-7.92-18.64,0-29.4,5-35.49,11.7s-7.41,15.21-7.41,22c0,6.52,1.93,12.87,7.41,17.59s14.4,7.7,28.25,7.7c16.69,0,26.31-4.11,31.92-8.66a23.92,23.92,0,0,0,7.57-10.5,1.34,1.34,0,0,0,.07-.18H1074L1067,122.19c-14.07,7.63-35.07,13-66.63,13h-6.18c-37.22,0-59.84-7.73-73.14-19S903.64,90.27,903.64,76Z" stroke-width="1" stroke="#fff" fill="#fff" data-v-7a5f33f4></path><path class="cls-7" d="M1143.67,98.78h91.66l-5.33,34H1081.53L1102.22,3h147.41l-5.49,33.64h-91l-.07.42-1.94,12.84-.09.57h89.76l-5.32,33.11h-89.94l-.06.42-2.3,14.24-.09.58Z" stroke-width="1" stroke="#fff" fill="#fff" data-v-7a5f33f4></path>',7)];var Dt=a({setup:e=>(e,t)=>(E(),D("svg",Ot,Pt))},[["__scopeId","data-v-7a5f33f4"]]);const Zt=()=>{},jt=["INPUT","SELECT","TEXTAREA","A","BUTTON"].reduce(((e,t)=>(e[t]=1,e)),{}),Nt="ARROWUP",Gt=[Nt,Nt,"ARROWDOWN","ARROWDOWN","ARROWLEFT","ARROWRIGHT","ARROWLEFT","ARROWRIGHT","B","A"],Ut={};let Yt=0,Vt=!1,Wt=Zt;function Kt(){for(const e in Ut)Ut[e]=!1;Yt=0}function Xt(e){if(jt[e.tagName])return;const t=e.key.toUpperCase();Ut[t]||function(e){if(e!==Gt[Yt])return Yt=0;Yt++,Yt>=Gt.length&&(Yt=0,Wt())}(t),Ut[t]=!0}function Jt(e){const t=e.key.toUpperCase();Ut[t]=!1}var Qt={start:function(){!function(e,t="log",a="console"){window[a][t]("%c ▲  ▲  ▼  ▼  ◀  ▶  ◀  ▶  %cB  %cA ","font-size: 16px; background: black; color: #aaa;","font-size: 16px; background: black; color: #fd605b;","font-size: 16px; background: black; color: #32c850;")}(),Vt||(Kt(),window.addEventListener("keydown",Xt),window.addEventListener("keyup",Jt),document.addEventListener("visibilitychange",Kt),Vt=!0)},stop:function(){Vt&&(Kt(),window.removeEventListener("keydown",Xt),window.removeEventListener("keyup",Jt),document.removeEventListener("visibilitychange",Kt),Vt=!1)},reset:Kt,get callback(){return Wt},set callback(e){Wt=e||Zt}};const ea={class:"home__container"},ta={class:"home__title"},aa=(e=>(N("data-v-20f8a6d9"),e=e(),G(),e))((()=>R("div",{class:"legal_trad reference"}," * ",-1))),na={class:"legal_trad mention"},sa={async beforeRouteEnter(){}};var ia=a(Object.assign(sa,{setup:function(e,{expose:t}){const{csstween:a}=At();function n(){s.$stats.event({name:"start"})}function r(){window.KONAMI_ACTIVE=!0,s.$router.push({name:"qrcode-home"})}return Y((()=>{Qt.start(),Qt.callback=r,s.$rtcDisplay.disable(),s.$stats.pageview({title:"home",url:"/"})})),T((()=>{Qt.callback=null,Qt.stop()})),t({enter:async function(e){i.audio.setBgm("intro"),s.$stores.isPlaying=!1,i.audio.playSound("UI_Title_TheRace",{delay:1500}),W.timeline().add({targets:".gameLogo",translateY:{value:[0,30],duration:1500,easing:"cubicBezier(.2,0,.15,1)"},scale:{value:[1.8,1],easing:"cubicBezier(.2,0,.15,1)",duration:1500}}).add({targets:".gameLogo path",strokeDashoffset:[W.setDashoffset,0],duration:1500,easing:"cubicBezier(.87,0,.13,1)",delay:W.stagger(80)},"-=1500").add({targets:".gameLogo path",fillOpacity:[0,1],duration:500,easing:"cubicBezier(.87,0,.13,1)",delay:W.stagger(80)},"-=1400").add({targets:".gameLogo",translateY:0,duration:1e3,easing:"cubicBezier(.6,0,0,1)"},"-=500").add({targets:".home__cta",translateY:["50%","0%"],opacity:[0,1],duration:800,easing:"cubicBezier(.2,0,.15,1)"},"-=700")},leave:async function(e){return a({target:e,transform:["","scale3d(0.6,0.6,0.6)"],duration:800,ease:"cubic-bezier(.87,0,.13,1)",opacity:["",0],autoClear:!1}).finished}}),(e,t)=>(E(),D("section",{class:Z(["page page-home home",{hidden:e.$stores.menuOpen}])},[R("div",ea,[R("h1",ta,[V(Dt),aa]),V(qt,{to:{name:"game"},text:e.$l("home.cta.start"),icon:"next",class:"home__cta",onClickPassive:n},null,8,["text"])]),R("div",na,I(e.$l("home.legal")),1)],2))}}),[["__scopeId","data-v-20f8a6d9"]]);const ra={},oa={class:"separator"},la=[(e=>(N("data-v-18d78893"),e=e(),G(),e))((()=>R("svg",{width:"72",height:"7",viewBox:"0 0 72 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[R("path",{class:"sepA",d:"M3.496 0H22.8l-3.048 6.108H.448L3.496 0Z"}),R("path",{class:"sepB",d:"M27.88 0h19.304l-3.048 6.108H24.832L27.88 0Z"}),R("path",{class:"sepC",d:"M52.264 0h19.304L68.52 6.108H49.216L52.264 0Z"})],-1)))];var ca=a(ra,[["render",function(e,t){return E(),D("div",oa,la)}],["__scopeId","data-v-18d78893"]]);function ua(){return C()?k("stats"):undefined}const da={class:"result__container"},fa={class:"result__frame"},pa=(e=>(N("data-v-04784b94"),e=e(),G(),e))((()=>R("defs",null,[R("linearGradient",{id:"a",x1:"-1",y1:"70.668",x2:"276",y2:"70.668",gradientUnits:"userSpaceOnUse"},[R("stop",{"stop-color":"#fff"}),R("stop",{offset:"1","stop-color":"#fff","stop-opacity":"0"})])],-1))),ha=["innerHTML"],va={class:"result__content"},ma={class:"time__value"},wa={class:"time__unit"},ya={class:"result__pb"},_a={class:"pb__text"},ba={class:"pb__value"},xa={class:"pb__unit"},Ca={key:0,class:"result__buttons"},ka={key:1,class:"result__webrtc"},La={class:"result__webrtc__texts"},Ma={key:0,class:"result__webrtc__title"},Fa={key:1,class:"result__webrtc__description"},Sa={class:"result__webrtc__waiting"};var Ha=a({setup(e,{expose:t}){r();const a=ua(),n=K(),{csstween:l}=At(),c=h(""),u=h(""),d=h(),f=h(),p=h(),g=o(),v=s.$rtcDisplay.enabled.value,m=W.timeline({});let w;const y={setUp:function(){w=setTimeout((function(){n.push({name:"qrcode-home"}),y.clear()}),1e4)},clear:function(){clearTimeout(w)}};return Y((()=>{a.pageview({title:"result",url:"/result"}),i.audio.setBgm("outro"),g.isPlaying=!1,g.menuOpen=!1,g.score=i.game.racetime,g.bestTime=i.game.bestTime,c.value=(Math.max(0,i.game.racetime||0)/1e3).toFixed(2),u.value=(Math.max(0,i.game.bestTime||0)/1e3).toFixed(2),v&&y.setUp()})),T((()=>{v&&y.clear()})),t({enter:function(e){i.audio.playSound("UI_ResulTime",{delay:650}),m.add({targets:".result__frame",skewX:[-4,-4],rotate:[-11,0],scale:[1.4,1],duration:1500,easing:"cubicBezier(.87,0,.13,1)"},"+=500").add({targets:".path",strokeDashoffset:[W.setDashoffset,0],duration:1500,easing:"cubicBezier(.87,0,.13,1)"},"-=1500").add({targets:".result__icon",translateX:["6px","6px"],scale:[0,1],duration:1e3,easing:"cubicBezier(.64,.01,.11,1.28)"},"-=1000").add({targets:".result__content p",opacity:[0,1],translateY:["40px","0px"],duration:1e3,delay:W.stagger(200),easing:"cubicBezier(0,0,.13,1)"},"-=700").add({targets:".light",opacity:[0,1],duration:1500,easing:"cubicBezier(.87,0,.13,1)"},"-=1300").add({targets:".result__register, .result__again",opacity:[0,1],translateX:["-40px","0px"],duration:1e3,delay:W.stagger(150),easing:"cubicBezier(0,0,.13,1)"},"-=1200").add({targets:".separator",opacity:[0,1],duration:1e3,easing:"cubicBezier(0,0,.13,1)"},"-=1000").add({targets:".result__webrtc__texts div",opacity:[0,1],translateY:["40px","0px"],delay:W.stagger(150),duration:1e3,easing:"cubicBezier(0,0,.13,1)"},"-=1200")},leave:async function(e){return l({target:e,transform:["","scale3d(0.6,0.6,0.6)"],duration:800,ease:"cubic-bezier(.87,0,.13,1)",opacity:["",0],autoClear:!1}).finished}}),(e,t)=>(E(),D("section",{class:Z(["page page-result result",{hidden:P(g).menuOpen}])},[R("div",da,[R("div",{class:Z(["result__timer",{marginB:P(g).webRtc}])},[R("div",fa,[(E(),D("svg",{ref:(e,t)=>{t.square=e,d.value=e},viewBox:"0 0 293 141",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"result__square"},[R("path",{ref:(e,t)=>{t.path=e,f.value=e},d:"M16.599 7.711a7.5 7.5 0 0 1 7.438-6.543h260.869c4.521 0 8.015 3.971 7.438 8.456l-15.943 124a7.5 7.5 0 0 1-7.438 6.544H8.094c-4.521 0-8.015-3.972-7.438-8.457l15.943-124Z",stroke:"#fff","stroke-opacity":".2",class:"path"},null,512),R("path",{ref:(e,t)=>{t.light=e,p.value=e},d:"M16.599 7.711a7.5 7.5 0 0 1 7.438-6.543h260.869c4.521 0 8.015 3.971 7.438 8.456l-15.943 124a7.5 7.5 0 0 1-7.438 6.544H8.094c-4.521 0-8.015-3.972-7.438-8.457l15.943-124Z",stroke:"url(#a)",class:"light"},null,512),pa],512))]),R("div",{class:"result__icon",innerHTML:P('<svg viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t<rect x="19.942" width="26.952" height="26.952" rx="5.256" transform="rotate(45 19.942 0)" fill="#fff" />\n\t<rect x="19.942" y=".902" width="25.676" height="25.676" rx="4.618" transform="rotate(45 19.942 .902)" stroke="url(#a)" stroke-opacity=".25" stroke-width="1.275" />\n\t<path d="M18.473 11.479a.554.554 0 1 0 0 1.107h.908v1.188a6.288 6.288 0 0 0-3.026 1.089l-.591-.585a.727.727 0 0 0-.996-.025c-.159.141-.311.289-.457.443a.728.728 0 0 0 .016 1.019l.564.557a6.287 6.287 0 1 0 10.072 0l.564-.557a.727.727 0 0 0 .017-1.02 7.74 7.74 0 0 0-.458-.442.727.727 0 0 0-.995.025l-.592.585a6.289 6.289 0 0 0-3.027-1.089v-1.188h.908a.554.554 0 1 0 0-1.107h-2.907Zm1.33 3.336a5.199 5.199 0 0 1 5.32 5.223 5.198 5.198 0 1 1-10.394 0 5.197 5.197 0 0 1 5.073-5.223Z" fill="#496c8c" />\n\t<path d="m18.032 17.86-.774-.775a.2.2 0 0 0-.284.284l.775.775a.2.2 0 0 0 .284-.284ZM18.033 22.217l-.775.775a.2.2 0 0 1-.284-.284l.775-.775a.2.2 0 0 1 .284.284ZM17.046 20.24a.201.201 0 0 0 0-.402h-1.095a.201.201 0 0 0 0 .401h1.095ZM19.726 24.015a.201.201 0 0 0 .401 0V22.92a.201.201 0 0 0-.401 0v1.096ZM21.88 23.73a4.178 4.178 0 0 0-1.953-7.87v4.178l1.953 3.692Z" fill="#496c8c" />\n\t<defs>\n\t  <linearGradient id="a" x1="21.347" y1="25.651" x2="45.697" y2="1.301" gradientUnits="userSpaceOnUse">\n\t\t<stop stop-color="#BFBFBF" />\n\t\t<stop offset="1" stop-color="#fff" stop-opacity="0" />\n\t  </linearGradient>\n\t</defs>\n  </svg>\n')},null,8,ha),R("div",va,[R("p",{ref:(e,t)=>{t.finish=e},class:"result__time"},[R("span",ma,I(c.value),1),R("span",wa,I(e.$l("game_end.time")),1)],512),R("p",ya,[R("span",_a,I(e.$l("game_end.pb"))+" ",1),R("span",ba,I(u.value),1),R("span",xa,I(e.$l("game_end.time")),1)])])],2),e.$rtcDisplay.enabled.value?j("",!0):(E(),D("div",Ca,[V(qt,{"no-big-line":!0,to:{name:"game"},text:e.$l("game_end.cta.playagain"),icon:"play","small-text":!0,class:"result__again",onClick:t[0]||(t[0]=e=>{P(a).event({name:"click_again_finish"})})},null,8,["text"]),e.$stores.useCoupon?(E(),z(qt,{key:0,text:e.$l("global.coupon.cta"),to:{name:"coupon"},icon:"next",class:"result__register",onClick:t[1]||(t[1]=e=>{P(a).event({name:"click_get_coupon"})})},null,8,["text"])):e.$stores.noForm?j("",!0):(E(),z(qt,{key:1,text:e.$l("game_end.cta.register"),to:{name:"register"},icon:"next",class:"result__register",onClick:t[2]||(t[2]=e=>{P(a).event({name:"click_register"})})},null,8,["text"]))])),e.$rtcDisplay.enabled.value?(E(),D("div",ka,[e.$stores.noForm?j("",!0):(E(),z(ca,{key:0})),R("div",La,[e.$stores.noForm?j("",!0):(E(),D("div",Ma,[R("p",null,I(e.$l("webRTC.recap.borne.title")),1)])),e.$stores.noForm?j("",!0):(E(),D("div",Fa,[R("p",null,I(e.$l("webRTC.recap.borne.text")),1)])),R("div",Sa,[R("p",null,I(e.$l("webRTC.recap.borne.wait")),1)])])])):j("",!0)])],2))}},[["__scopeId","data-v-04784b94"]]);const Aa={class:"coupon__title"},Ta=["innerHTML"],Ba={key:0,class:"coupon__code"},Ea={key:1,class:"coupon__img"},za=["src"],$a={class:"coupon__again"},Ra={class:"coupon__frame"},Ia={async beforeRouteEnter(){}};var qa=a(Object.assign(Ia,{setup:function(e,{expose:t}){const a=o(),n=ua(),{csstween:r}=At(),l="cubic-bezier(.87,0,.13,1)",c="cubic-bezier(0,0,.13,1) ",u=window.__DATA.config.basepath,d=s.$l("global.coupon.code").trim().startsWith("IMG="),f=d?u+"prizes/"+s.$l("global.coupon.code").trim().replace("IMG=",""):null;return Y((()=>{i.audio.setBgm("outro"),n.pageview({title:"coupon",url:"/coupon"})})),t({enter:function(e){r({target:e,selector:".coupon__title",transform:["translateY(-40px)",""],duration:1e3,ease:c,delay:400,opacity:[0,""]}),r({target:e,selector:".separator",transform:["translateY(-40px)",""],duration:800,ease:c,delay:550,opacity:[0,""]}),r({target:e,selector:".coupon__text",transform:["translateY(-40px)",""],duration:1e3,ease:c,delay:650,opacity:[0,""]}),r({target:e,selector:".coupon__code",transform:["translateY(-40px)",""],duration:1e3,ease:c,delay:850,opacity:[0,""]}),r({target:e,selector:".coupon__again",transform:["scale3d(0.5,0.5,0.5)",""],duration:1e3,ease:l,delay:950,opacity:[0,""]})},leave:async function(e){return r({target:e,transform:["","scale3d(0.6,0.6,0.6)"],duration:800,ease:l,opacity:["",0],autoClear:!1}).finished}}),(e,t)=>(E(),D("section",{class:Z(["page page-coupon coupon",{hidden:P(a).menuOpen}])},[R("h1",Aa,I(e.$l("global.coupon.title")),1),V(ca),R("p",{class:"coupon__text",innerHTML:e.$l("global.coupon.text")},null,8,Ta),P(d)?(E(),D("div",Ea,[R("img",{src:P(f),title:"Prize"},null,8,za)])):(E(),D("div",Ba,I(e.$l("global.coupon.code")),1)),R("div",$a,[R("div",Ra,[V(qt,{to:{name:"game"},text:e.$l("game_end.cta.playagain"),icon:"next",class:"result__again",onClick:t[0]||(t[0]=e=>{P(n).event({name:"click_again_coupon"})})},null,8,["text"])])])],2))}}),[["__scopeId","data-v-426bbc28"]]),Oa=JSON.parse('{"af":"Afghanistan","al":"Albania","dz":"Algeria","as":"American Samoa","ad":"Andorra","ao":"Angola","ai":"Anguilla","aq":"Antarctica","ag":"Antigua and Barbuda","ar":"Argentina","am":"Armenia","aw":"Aruba","au":"Australia","at":"Austria","az":"Azerbaijan","bs":"Bahamas","bh":"Bahrain","bd":"Bangladesh","bb":"Barbados","by":"Belarus","be":"Belgium","bz":"Belize","bj":"Benin","bm":"Bermuda","bt":"Bhutan","bo":"Bolivia","ba":"Bosnia and Herzegovina","bw":"Botswana","br":"Brazil","io":"British Indian Ocean Territory","vg":"British Virgin Islands","bn":"Brunei","bg":"Bulgaria","bf":"Burkina Faso","bi":"Burundi","kh":"Cambodia","cm":"Cameroon","ca":"Canada","cv":"Cape Verde","ky":"Cayman Islands","cf":"Central African Republic","td":"Chad","cl":"Chile","cn":"China","cx":"Christmas Island","cc":"Cocos Islands","co":"Colombia","km":"Comoros","ck":"Cook Islands","cr":"Costa Rica","hr":"Croatia","cu":"Cuba","cw":"Curacao","cy":"Cyprus","cz":"Czech Republic","cd":"Democratic Republic of the Congo","dk":"Denmark","dj":"Djibouti","dm":"Dominica","do":"Dominican Republic","tp":"East Timor","ec":"Ecuador","eg":"Egypt","sv":"El Salvador","gq":"Equatorial Guinea","er":"Eritrea","ee":"Estonia","et":"Ethiopia","fk":"Falkland Islands","fo":"Faroe Islands","fj":"Fiji","fi":"Finland","fr":"France","pf":"French Polynesia","ga":"Gabon","gm":"Gambia","ge":"Georgia","de":"Germany","gh":"Ghana","gi":"Gibraltar","gr":"Greece","gl":"Greenland","gd":"Grenada","gu":"Guam","gt":"Guatemala","gg":"Guernsey","gn":"Guinea","gw":"Guinea-Bissau","gy":"Guyana","ht":"Haiti","hn":"Honduras","hk":"Hong Kong, China","hu":"Hungary","is":"Iceland","in":"India","id":"Indonesia","ir":"Iran","iq":"Iraq","ie":"Ireland","im":"Isle of Man","il":"Israel","it":"Italy","ci":"Ivory Coast","jm":"Jamaica","jp":"Japan","je":"Jersey","jo":"Jordan","kz":"Kazakhstan","ke":"Kenya","ki":"Kiribati","xk":"Kosovo","kw":"Kuwait","kg":"Kyrgyzstan","la":"Laos","lv":"Latvia","lb":"Lebanon","ls":"Lesotho","lr":"Liberia","ly":"Libya","li":"Liechtenstein","lt":"Lithuania","lu":"Luxembourg","mo":"Macao, China","mk":"Macedonia","mg":"Madagascar","mw":"Malawi","my":"Malaysia","mv":"Maldives","ml":"Mali","mt":"Malta","mh":"Marshall Islands","mr":"Mauritania","mu":"Mauritius","yt":"Mayotte","mx":"Mexico","fm":"Micronesia","md":"Moldova","mc":"Monaco","mn":"Mongolia","me":"Montenegro","ms":"Montserrat","ma":"Morocco","mz":"Mozambique","mm":"Myanmar","na":"Namibia","nr":"Nauru","np":"Nepal","nl":"Netherlands","an":"Netherlands Antilles","nc":"New Caledonia","nz":"New Zealand","ni":"Nicaragua","ne":"Niger","ng":"Nigeria","nu":"Niue","kp":"North Korea","mp":"Northern Mariana Islands","no":"Norway","om":"Oman","pk":"Pakistan","pw":"Palau","ps":"Palestine","pa":"Panama","pg":"Papua New Guinea","py":"Paraguay","pe":"Peru","ph":"Philippines","pn":"Pitcairn","pl":"Poland","pt":"Portugal","pr":"Puerto Rico","qa":"Qatar","cg":"Republic of the Congo","re":"Reunion","ro":"Romania","ru":"Russia","rw":"Rwanda","bl":"Saint Barthelemy","sh":"Saint Helena","kn":"Saint Kitts and Nevis","lc":"Saint Lucia","mf":"Saint Martin","pm":"Saint Pierre and Miquelon","vc":"Saint Vincent and the Grenadines","ws":"Samoa","sm":"San Marino","st":"Sao Tome and Principe","sa":"Saudi Arabia","sn":"Senegal","rs":"Serbia","sc":"Seychelles","sl":"Sierra Leone","sg":"Singapore","sx":"Sint Maarten","sk":"Slovakia","si":"Slovenia","sb":"Solomon Islands","so":"Somalia","za":"South Africa","kr":"Korea","ss":"South Sudan","es":"Spain","lk":"Sri Lanka","sd":"Sudan","sr":"Suriname","sj":"Svalbard and Jan Mayen","sz":"Swaziland","se":"Sweden","ch":"Switzerland","sy":"Syria","tw":"Taiwan, China","tj":"Tajikistan","tz":"Tanzania","th":"Thailand","tg":"Togo","tk":"Tokelau","to":"Tonga","tt":"Trinidad and Tobago","tn":"Tunisia","tr":"Turkey","tm":"Turkmenistan","tc":"Turks and Caicos Islands","tv":"Tuvalu","vi":"U.S. Virgin Islands","ug":"Uganda","ua":"Ukraine","ae":"United Arab Emirates","gb":"United Kingdom","us":"United States","uy":"Uruguay","uz":"Uzbekistan","vu":"Vanuatu","va":"Vatican","ve":"Venezuela","vn":"Vietnam","wf":"Wallis and Futuna","eh":"Western Sahara","ye":"Yemen","zm":"Zambia","zw":"Zimbabwe","gp":"Guadeloupe","gf":"French Guiana","mq":"Martinique","tf":"French Southern and Antarctic Lands","gs":"South Georgia and the South Sandwich Islands"}');let Pa=!1;const Da=Te();let Za;window._onRecaptchaLoaded=()=>Da.resolve();var ja={token:async function(e,t){let a=null,n=!1;Za&&document.body.appendChild(Za);try{!function(e){if(Pa)return;Pa=!0;const t=document,a=t.createElement("script");a.src="https://www.recaptcha.net/recaptcha/api.js?onload=_onRecaptchaLoaded&render="+e,a.async=!0,t.head.appendChild(a)}(e),await Da,await new Promise((e=>grecaptcha.ready(e))),grecaptcha.reset(e),a=await grecaptcha.execute(e,t?{action:t}:{})}catch(s){n="RecaptchaError"}return function(){const e=document.querySelectorAll(".grecaptcha-badge");for(let t=0;t<e.length;t++){const a=e[t].parentNode;a&&a.parentNode&&(Za=a,a.parentNode.removeChild(a))}}(),{token:a,error:n}}};const Na=e=>(N("data-v-a96fd606"),e=e(),G(),e),Ga={class:"form__wrapper"},Ua={class:"form__best"},Ya={class:"pb__text"},Va={class:"form__score"},Wa={class:"score__value"},Ka={class:"score__unit"},Xa={class:"form__title"},Ja={class:"form__container"},Qa=["onSubmit"],en={class:"form__names"},tn={class:"form__input"},an=["placeholder"],nn={class:"form__input"},sn=["placeholder"],rn={class:"form__input"},on=["placeholder"],ln={disabled:"",selected:"",hidden:"",value:""},cn=["value"],un=["innerHTML"],dn=Na((()=>R("span",{class:"checkmark"},null,-1))),fn=["innerHTML"],pn=Na((()=>R("span",{class:"checkmark"},null,-1))),hn={class:"form__input submitButton"},gn={class:"form__input recaptcha"};var vn=a({setup(e,{expose:t}){let a;const n=h(null),s=h(),r=h(null),l=h(),c=h(null),u=h(),d=h(null),f=h(),p=h(!1),g=h(null),v=h(!1),m=h(null),w=h(!1),y=h(),_=h(!1),b=h("0.00"),x=h("0.00"),C=o(),k=K(),L=ua(),M=W.timeline({});Y((()=>{b.value=(Math.max(0,C.score||0)/1e3).toFixed(2),x.value=(Math.max(0,C.bestTime||0)/1e3).toFixed(2),f.value.children[0].style.textDecoration="underline",i.audio.setBgm("outro"),L.pageview({title:"register",url:"/register"})}));const F=(e,t)=>{t?e.value.classList.add("fullField"):e.value.classList.remove("fullField")};function S(e){""!==e.target.value?y.value.classList.add("fullField"):y.value.classList.remove("fullField")}X(s,(e=>{F(n,e)})),X(l,(e=>{F(r,e)})),X(u,(e=>{F(c,e)}));const H=async()=>{try{if(_.value)return;_.value=!0,a={firstname:s.value,lastname:l.value,email:u.value,country:y.value.value,legals:p.value,newsletter:v.value,score:b.value||"0.00",recaptcha:""},L.event({name:"validate_form"});const e=await ja.token("6Lc1w4IdAAAAANNLPM1DbJPacVMSv0lQTj1uZ3YN","submit");a.recaptcha=e.token;const t=await(async e=>{const t=await fetch("https://europe-west1-montblanc-explorer.cloudfunctions.net/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer l9CtlGXqOb+TVgDa2q5ZPfcyA+Fa"},body:JSON.stringify(e)});return await t.json()})(a);if("saved"!==t.status)throw new Error("object"==typeof t?JSON.stringify(t,void 0,2):t);k.push({name:"confirmation"})}catch(e){}finally{_.value=!1}},{csstween:A}=At(),T="cubicBezier(0,0,.13,1) ";return t({enter:function(e){M.add({targets:".form__best",translateY:["-40px",0],opacity:[0,1],duration:1e3,easing:T},100).add({targets:".form__score",translateY:["-40px",0],opacity:[0,1],duration:1e3,easing:T},300).add({targets:".form__title",translateY:["-40px",0],opacity:[0,1],duration:1e3,easing:T},400).add({targets:".separator",translateY:["-20px",0],opacity:[0,1],duration:1e3,easing:T},500).add({targets:".form__input",translateY:["-20px",0],opacity:[0,1],duration:1e3,easing:T,delay:W.stagger(80)},600)},leave:async function(e){return A({target:e,transform:["","scale3d(0.6,0.6,0.6)"],duration:800,ease:"cubic-bezier(.87,0,.13,1)",opacity:["",0],autoClear:!1}).finished}}),(e,t)=>(E(),D("section",{class:Z(["page page-form form",{hidden:P(C).menuOpen}])},[R("div",Ga,[R("h3",Ua,[R("span",Ya,I(e.$l("game_end.myscore")),1)]),R("h1",Va,[R("span",Wa,I(b.value),1),R("span",Ka,I(e.$l("game_end.time")),1)]),R("h1",Xa,I(e.$l("form.title")),1),V(ca),R("div",Ja,[R("form",{action:"",class:"form__content",method:"post",autocomplete:"off",onSubmit:J(H,["prevent"])},[R("div",en,[R("div",tn,[Q(R("input",{ref:(e,t)=>{t.firstName=e,n.value=e},"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),required:"true",type:"text",name:"firstName",placeholder:e.$l("form.firstname"),class:"form__field",maxlength:"40",autocorrect:"off",autocapitalize:"off",autocomplete:"none"},null,8,an),[[ee,s.value,void 0,{trim:!0}]])]),R("div",nn,[Q(R("input",{ref:(e,t)=>{t.lastName=e,r.value=e},"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),required:"true",type:"text",name:"lastName",placeholder:e.$l("form.lastname"),class:"form__field",maxlength:"40",autocorrect:"off",autocapitalize:"off",autocomplete:"none"},null,8,sn),[[ee,l.value,void 0,{trim:!0}]])])]),R("div",rn,[Q(R("input",{ref:(e,t)=>{t.email=e,c.value=e},"onUpdate:modelValue":t[2]||(t[2]=e=>u.value=e),required:"true",type:"email",name:"email",placeholder:e.$l("form.email"),class:"form__field",autocorrect:"off",autocapitalize:"off",autocomplete:"none"},null,8,on),[[ee,u.value,void 0,{trim:!0}]])]),R("div",{ref:(e,t)=>{t.select=e,m.value=e},class:"form__input"},[R("select",te({ref:(e,t)=>{t.selectField=e,y.value=e}},w.value,{required:"true",name:"countrySelector",class:"form__select",onChange:S}),[R("option",ln,I(e.$l("form.country")),1),(E(!0),D(ae,null,ne(Object.entries(P(Oa)),(e=>(E(),D("option",{key:e[0],value:e[0]},I(e[1]),9,cn)))),128))],16)],512),R("div",{ref:(e,t)=>{t.newsletter=e,g.value=e},class:"form__input checkInput"},[R("label",{for:"subscribe-newsletter",innerHTML:e.$l("form.newsletter")},null,8,un),Q(R("input",{id:"subscribe-newsletter","onUpdate:modelValue":t[3]||(t[3]=e=>v.value=e),name:"promotionnal",type:"checkbox",class:"checkboxes"},null,512),[[se,v.value]]),dn],512),R("div",{ref:(e,t)=>{t.legals=e,d.value=e},class:"form__input checkInput"},[R("label",{ref:(e,t)=>{t.legalsLabel=e,f.value=e},for:"accept-conditions",innerHTML:e.$l("form.legals")},null,8,fn),Q(R("input",{id:"accept-conditions","onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),name:"legals",type:"checkbox",class:"checkboxes",required:""},null,512),[[se,p.value]]),pn],512),R("div",hn,[V(qt,{text:e.$l("form.cta"),icon:"next",type:"submit",class:Z({loading:_.value})},null,8,["text","class"])]),R("div",gn,I(e.$l("form.recaptcha")),1)],40,Qa)])])],2))}},[["__scopeId","data-v-a96fd606"]]);const mn={class:"confirmation__title"},wn={class:"confirmation__text"},yn={class:"confirmation__again"},_n={class:"confirmation__frame"},bn={async beforeRouteEnter(){}};var xn=a(Object.assign(bn,{setup:function(e,{expose:t}){const a=o(),n=ua(),{csstween:s}=At(),r="cubic-bezier(.87,0,.13,1)",l="cubic-bezier(0,0,.13,1) ";return Y((()=>{i.audio.setBgm("outro"),n.pageview({title:"confirmation",url:"/confirmation"})})),t({enter:function(e){s({target:e,selector:".confirmation__title",transform:["translateY(-40px)",""],duration:1e3,ease:l,delay:400,opacity:[0,""]}),s({target:e,selector:".separator",transform:["translateY(-40px)",""],duration:800,ease:l,delay:550,opacity:[0,""]}),s({target:e,selector:".confirmation__text",transform:["translateY(-40px)",""],duration:1e3,ease:l,delay:850,opacity:[0,""]}),s({target:e,selector:".confirmation__again",transform:["scale3d(0.5,0.5,0.5)",""],duration:1e3,ease:r,delay:950,opacity:[0,""]})},leave:async function(e){return s({target:e,transform:["","scale3d(0.6,0.6,0.6)"],duration:800,ease:r,opacity:["",0],autoClear:!1}).finished}}),(e,t)=>(E(),D("section",{class:Z(["page page-confirmation confirmation",{hidden:P(a).menuOpen}])},[R("h1",mn,I(e.$l("form.success.title")),1),V(ca),R("p",wn,I(e.$l("form.success.text")),1),R("div",yn,[R("div",_n,[V(qt,{to:{name:"game"},text:e.$l("game_end.cta.playagain"),icon:"next",class:"result__again",onClick:t[0]||(t[0]=e=>{P(n).event({name:"click_again_register"})})},null,8,["text"])])])],2))}}),[["__scopeId","data-v-64a13b25"]]);const Cn={},kn={viewBox:"0 0 246 179",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"iconThree"},Ln=[R("path",{d:"M208.225 74.6857L208.165 75.6616C215.937 77.833 224.015 81.5385 230.145 87.5543C236.261 93.5577 240.46 101.883 240.46 113.36C240.46 126.255 236.987 142.298 220.3 155.14C203.581 168.007 173.527 177.72 120.21 177.72H108.94C58.0463 177.72 30.5418 167.09 16.1012 153.703C1.68454 140.339 0.198451 124.139 1.56579 112.735L1.73366 111.56H77.8523C77.8794 113.764 78.2271 118.661 82.6816 123.142C87.5027 127.993 97.0341 132.26 115.84 132.26C134.599 132.26 145.161 130.25 151.048 127.379C154.003 125.939 155.804 124.27 156.86 122.508C157.917 120.746 158.2 118.938 158.2 117.27C158.2 113.944 157.241 111.284 154.556 109.494C151.926 107.74 147.716 106.88 141.37 106.88H89.7455L96.257 65.79H147.81C154.858 65.79 159.349 64.6961 162.09 62.8591C164.875 60.9923 165.79 58.4018 165.79 55.63C165.79 54.1846 165.518 52.7311 164.532 51.3882C163.552 50.053 161.909 48.8847 159.282 47.9159C154.045 45.9849 144.708 44.78 128.26 44.78C109.583 44.78 99.3505 48.0639 93.6864 51.7911C88.4113 55.2623 87.1411 59.0899 86.6952 60.88H11.0867C12.9562 49.3936 16.905 34.6614 32.1412 22.7021C47.6545 10.5253 74.9502 1.16 123.89 1.16H134.24C181.491 1.16 209.283 6.16444 225.247 13.8468C233.218 17.6826 238.217 22.1751 241.229 27.0252C244.24 31.8746 245.29 37.124 245.29 42.52C245.29 53.3699 240.161 60.7595 232.969 65.771C225.756 70.7976 216.469 73.4262 208.225 74.6857Z",fill:"#fff",stroke:"#fff",class:"path"},null,-1)];var Mn=a(Cn,[["render",function(e,t){return E(),D("svg",kn,Ln)}]]);const Fn={},Sn={viewBox:"0 0 245 175",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"iconTwo"},Hn=[R("path",{d:"M1.06914 174.5L4.42332 154.151L4.42345 154.151L4.42504 154.14C6.26133 141.171 9.29122 125.258 23.3273 110.281C37.3729 95.293 62.5002 81.1804 108.674 71.9911C108.675 71.9908 108.676 71.9906 108.678 71.9904L141.324 66.0129C141.325 66.0127 141.326 66.0126 141.327 66.0124C152.134 64.1728 158.026 62.3794 161.22 60.4571C162.832 59.4871 163.788 58.4664 164.329 57.3633C164.868 56.2655 164.97 55.1393 164.97 54.02C164.97 52.6347 164.713 51.2623 163.868 50.0007C163.025 48.7418 161.632 47.6466 159.458 46.7444C155.133 44.9497 147.57 43.86 134.57 43.86C117.485 43.86 108.088 47.6686 102.873 52.2649C97.9092 56.6399 96.8094 61.6631 96.4112 64.56H20.6047C22.4722 51.3774 26.4586 35.7032 41.3102 23.238C56.3897 10.5815 82.7585 1.16 129.74 1.16H140.09C181.922 1.16 207.803 7.02436 223.212 16.0699C230.907 20.5874 235.984 25.8944 239.141 31.6591C242.298 37.4252 243.55 43.6782 243.55 50.11C243.55 58.2827 242.292 65.3035 239.345 71.3862C236.4 77.464 231.752 82.6381 224.917 87.0949C211.22 96.0265 188.781 102.055 153.825 106.654L118.865 111.254L118.857 111.255C100.101 114.017 88.4903 117.014 81.5567 120.032C74.6555 123.035 72.2 126.146 72.2 129.23V129.73H72.7H166.54H166.964L167.033 129.311L169.954 111.56H236.335L226.373 174.5H1.06914Z",fill:"#fff",stroke:"#fff",class:"path"},null,-1)];var An=a(Fn,[["render",function(e,t){return E(),D("svg",Sn,Hn)}]]);const Tn={},Bn={viewBox:"0 0 130 172",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"iconOne"},En=[R("path",{d:"M42.7838 76.1682L42.8754 75.59H42.29H1.01513L7.07167 37.2319C22.5809 36.1581 34.7876 32.5296 44.4807 26.4894C54.1769 20.4472 61.3249 12.0123 66.7469 1.38H129.104L102.123 171.5H27.6954L42.7838 76.1682Z",fill:"#fff",stroke:"#fff",class:"path"},null,-1)];var zn=a(Tn,[["render",function(e,t){return E(),D("svg",Bn,En)}]]);const $n={},Rn={viewBox:"0 0 534 179",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"iconGo"},In=[R("path",{d:"M270.857 83.2983L270.858 83.2961C273.149 66.1124 279.383 45.6079 298.458 29.3884C317.54 13.1632 349.549 1.16 403.532 1.16H414.342C464.884 1.16 494.645 11.8447 511.766 26.5691C528.872 41.2799 533.442 60.0939 533.442 76.56C533.442 82.7361 532.755 89.3783 531.838 95.11C529.086 112.082 523.135 132.703 504.346 149.093C485.553 165.487 453.834 177.72 399.392 177.72H388.352C338.848 177.72 309.202 166.979 291.935 152.053C274.682 137.138 269.712 117.976 269.712 100.94C269.712 96.3546 269.941 89.9387 270.857 83.2983ZM455.087 91.5835L455.087 91.5807C455.549 88.3448 455.782 85.5602 455.782 83C455.782 75.048 452.852 66.9572 444.979 60.8695C437.124 54.7956 424.406 50.76 404.912 50.76C383.683 50.76 369.875 55.49 361.134 62.3376C352.385 69.1909 348.768 78.1201 347.836 86.391C347.604 88.2458 347.372 90.5665 347.372 94.04C347.372 101.985 350.239 110.416 358.018 116.85C365.787 123.275 378.394 127.66 397.782 127.66C418.667 127.66 432.359 122.987 441.157 116.111C449.963 109.231 453.807 100.19 455.087 91.5835Z",fill:"#fff",stroke:"#fff",class:"path"},null,-1),R("path",{d:"M191.695 154.054L191.372 153.481L190.906 153.946C185.016 159.837 163.751 177.72 113.98 177.72H108.69C65.0641 177.72 38.0654 167.158 21.975 152.237C5.88929 137.321 0.630005 117.978 0.630005 100.25C0.630005 94.0663 1.08793 88.1128 2.00371 82.1591C5.21243 62.9094 12.7067 42.6897 31.9242 27.27C51.1514 11.8425 82.188 1.16 132.61 1.16H139.74C195.012 1.16 225.229 11.563 241.512 25.0513C257.559 38.3439 260.153 54.704 259.776 67.32H183.132C182.456 64.9304 180.681 60.4234 174.363 56.4432C167.725 52.2618 156.118 48.69 135.6 48.69C116.32 48.69 103.031 53.1927 94.1777 60.1826C85.3194 67.1759 80.9563 76.615 79.446 86.3729C78.75 90.7811 78.75 93.8015 78.75 95.88C78.75 105.427 81.9562 114.204 89.5073 120.584C97.0467 126.955 108.851 130.88 125.94 130.88C143.938 130.88 156.093 127.65 163.94 123.755C167.863 121.808 170.712 119.694 172.674 117.731C174.629 115.777 175.726 113.95 176.102 112.572L176.275 111.94H175.62H124.913L130.049 78.67H259.213L243.734 174.5H197.906C197.53 171.85 196.748 168.179 195.709 164.514C194.613 160.649 193.22 156.751 191.695 154.054Z",fill:"#fff",stroke:"#fff",class:"path"},null,-1)];var qn=a($n,[["render",function(e,t){return E(),D("svg",Rn,In)}]]);const On={},Pn={viewBox:"0 0 690 231",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Dn=[R("g",{opacity:".75",fill:"#ffffff"},[R("path",{d:"M475.196 114.866 342.054 0h-127.22l127.22 114.866-127.22 114.866 127.22-.001 133.142-114.865Z","fill-opacity":".35"}),R("path",{d:"M261.244 115.188 128.103.323H.883l127.22 114.866L.883 230.054h127.22l133.141-114.866Z","fill-opacity":".1"}),R("path",{d:"M689.147 114.866 556.006 0H428.785l127.221 114.866-127.221 114.866 127.221-.001 133.141-114.865Z","fill-opacity":".6"})],-1)];var Zn=a(On,[["render",function(e,t){return E(),D("svg",Pn,Dn)}]]);const jn={then:()=>jn,catch:()=>jn};function Nn(e){e&&(e.pause&&e.pause(),e.animatables.length=0,e.animations.length=0,e.children.length=0,e.finished=jn)}const Gn={class:"countdown__container"};var Un=a({setup(e,{expose:t}){const a=h(),n=h(),s=h(),r=h(),o=h(),l=h(),c=h();let u,d;function f(){u&&Nn(u),d&&d.owner.unwatch(d),d=u=null}function p(){u&&!i.game.paused.value&&u.tick(1*i.game.elapsed)}return Y((()=>{a.value.style.display="none"})),T((()=>{f()})),t({show:function(){f(),u=W.timeline({autoplay:!1}),d=i.hooks.afterFrame.watch(p),a.value&&(a.value.style.display="");const e="cubicBezier(.87,0,.13,1)",t="cubicBezier(.87,0,.13,1)",h="cubicBezier(.7,.01,.17,.82)",g="cubicBezier(.98,.14,.36,.98)",v=u.add({targets:n.value.querySelectorAll("path"),strokeDashoffset:{value:[W.setDashoffset,0],duration:1500,easing:e},fillOpacity:{value:[0,1],duration:750,delay:400,easing:e}}).add({targets:n.value,scale:{value:[2.4,.9],duration:2e3,easing:t},rotate:{value:["10deg","0deg"],duration:2e3,easing:t},opacity:{value:[1,0],duration:1e3,easing:e,delay:1400}},"-=2000").add({targets:s.value.querySelectorAll("path"),strokeDashoffset:{value:[W.setDashoffset,0],duration:1500,easing:e},fillOpacity:{value:[0,1],duration:750,delay:400,easing:e}},"-=1000").add({targets:s.value,scale:{value:[2.4,.9],duration:2e3,easing:t},rotate:{value:["10deg","0deg"],duration:2e3,easing:t},opacity:{value:[1,0],duration:1e3,easing:e,delay:1400}},"-=2000").add({targets:r.value.querySelectorAll("path"),strokeDashoffset:{value:[W.setDashoffset,0],duration:1500,easing:e},fillOpacity:{value:[0,1],duration:750,delay:400,easing:e}},"-=1000").add({targets:r.value,scale:{value:[2.4,.9],duration:2e3,easing:t},rotate:{value:["10deg","0deg"],duration:2e3,easing:t},opacity:{value:[1,0],duration:1e3,easing:e,delay:1400}},"-=2000").add({targets:o.value.querySelectorAll("path"),strokeDashoffset:{value:[W.setDashoffset,0],duration:1500,easing:e},fillOpacity:{value:[0,1],duration:750,delay:400,easing:e}},"-=1000").add({targets:o.value,scale:{value:[2.4,.9],duration:2e3,easing:t},rotate:{value:["10deg","0deg"],duration:2e3,easing:t},opacity:{value:[1,0],duration:1e3,easing:e,delay:1400}},"-=2000");v.add({targets:l.value,translateX:{value:["-100vw","-10vw"],duration:1e3,easing:h},translateY:{value:["50vw","10vw"],duration:1e3,easing:h},translateZ:0},"-=1800").add({targets:l.value,translateX:{value:"100vw",duration:650,easing:g},translateY:{value:"-50vw",duration:650,easing:g},translateZ:0},"-=800"),v.add({targets:c.value,scale:[-1,-1],translateX:{value:["-100vw","-10vw"],duration:1e3,easing:h},translateY:{value:["50vw","10vw"],duration:1e3,easing:h},translateZ:0},"-=1800").add({targets:c.value,translateX:{value:"100vw",duration:650,easing:g},translateY:{value:"-50vw",duration:650,easing:g},translateZ:0},"-=800"),u.finished.then((()=>{a.value&&(a.value.style.display="none"),f()}))},hide:function(){a.value.style.display="none"}}),(e,t)=>(E(),D("aside",{ref:(e,t)=>{t.base=e,a.value=e},class:"game-countdown"},[R("div",{ref:(e,t)=>{t.topArrow=e,l.value=e},class:"countdown__arrowTop"},[V(Zn)],512),R("div",Gn,[R("div",{ref:(e,t)=>{t.three=e,n.value=e},class:"countdown__show"},[V(Mn)],512),R("div",{ref:(e,t)=>{t.two=e,s.value=e},class:"countdown__show"},[V(An)],512),R("div",{ref:(e,t)=>{t.one=e,r.value=e},class:"countdown__show"},[V(zn)],512),R("div",{ref:(e,t)=>{t.go=e,o.value=e},class:"countdown__show"},[V(qn)],512)]),R("div",{ref:(e,t)=>{t.botArrow=e,c.value=e},class:"countdown__arrowBot"},[V(Zn)],512)],512))}},[["__scopeId","data-v-1cc75fb2"]]);const Yn={},Vn={viewBox:"0 0 1173 179",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Wn=[U('<path d="M216.075 4.5L209.103 48.81H94.53H94.1046L94.0365 49.23L91.2765 66.25L91.1824 66.83H91.77H204.345L197.373 110.91H84.64H84.2132L84.1462 111.332L74.0932 174.62H0.585551L27.5669 4.5H216.075Z" fill="#fff" stroke="#fff"></path><path d="M205.205 174.62L232.186 4.5H306.844L279.862 174.62H205.205Z" fill="#fff" stroke="#fff"></path><path d="M569.802 4.5L542.82 174.62H467.81L388.38 80.4975L387.675 79.6623L387.504 80.7417L372.62 174.62H298.193L325.174 4.5H408.463L480.763 91.4896L481.471 92.3416L481.641 91.2469L495.146 4.5H569.802Z" fill="#fff" stroke="#fff"></path><path d="M560.986 174.62L587.967 4.5H662.625L635.643 174.62H560.986Z" fill="#fff" stroke="#fff"></path><path d="M896.088 124.302L896.086 124.313L896.084 124.325C893.917 138.587 887.888 151.89 871.056 161.659C854.18 171.453 826.401 177.72 780.659 177.72H755.589C706.875 177.72 681.218 167.778 668.075 155.175C655.128 142.761 654.226 127.665 655.522 116.62H741.291C741.326 120.708 741.856 125.864 745.945 130.04C750.196 134.38 758.182 137.55 773.069 137.55H773.759C788.847 137.55 797.359 135.481 802.109 132.56C804.497 131.092 805.939 129.405 806.779 127.661C807.617 125.921 807.839 124.158 807.839 122.56C807.839 120.569 807.591 118.76 806.705 117.157C805.815 115.547 804.313 114.204 801.916 113.08C797.161 110.849 788.731 109.41 774.02 108.491L774.02 108.491L774.009 108.49L745.723 107.341C745.722 107.341 745.721 107.34 745.721 107.34C714.715 105.847 695.464 99.4183 683.97 90.1434C672.504 80.8908 668.689 68.7488 668.689 55.63C668.689 53.8084 668.803 51.6983 669.002 49.7882C669.203 47.8667 669.486 46.188 669.813 45.2081L669.822 45.1826L669.827 45.1564C672.897 31.0567 680.895 20.1443 697.602 12.732C714.351 5.30066 739.852 1.38998 777.899 1.38998H802.509C848.595 1.38998 873.981 9.03784 887.501 19.6828C900.807 30.1602 902.697 43.6111 901.42 55.82H817.034C816.97 52.6173 816.232 48.7083 812.157 45.5737C807.912 42.3082 800.126 39.95 785.949 39.95H785.029C771.686 39.95 763.775 41.0391 759.189 42.9795C756.882 43.9554 755.381 45.1608 754.464 46.5831C753.547 48.0055 753.249 49.5909 753.249 51.26C753.249 52.8756 753.549 54.4193 754.482 55.8272C755.413 57.2319 756.94 58.449 759.298 59.4806C763.992 61.5339 772.125 62.9144 785.928 63.4896L785.928 63.4896L813.988 64.6396C845.027 65.9041 865.732 70.1003 878.67 77.8231C885.126 81.6767 889.641 86.4047 892.547 92.0863C895.456 97.7723 896.769 104.445 896.769 112.21C896.769 116.596 896.767 120.911 896.088 124.302Z" fill="#fff" stroke="#fff"></path><path d="M1171.59 4.38L1144.61 174.5H1069.95L1079.75 112.288L1079.84 111.71H1079.26H985.42H984.992L984.926 112.132L975.102 174.5H900.445L927.427 4.38H1002.08L992.746 62.2203L992.653 62.8H993.24H1087.08H1087.51L1087.57 62.3797L1096.94 4.38H1171.59Z" fill="#fff" stroke="#fff"></path>',6)];var Kn=a(Yn,[["render",function(e,t){return E(),D("svg",Vn,Wn)}]]);const Xn={},Jn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1385 207"},Qn=[U('<path fill="#FFFFFF" stroke="#FFFFFF" d="M165.6,177.76H87.44l-12.12,20.8H8.06l92.5-150.26h91.69l52.71,150.26h-72.91L165.6,177.76\n\tz M138.73,89.91l-27.27,46.45h41.6L138.73,89.91z"></path><path fill="#FFFFFF" stroke="#FFFFFF" d="M315.86,198.57h-66.45L273.25,48.3H422.5c34.54,0,53.72,11.31,53.72,35.55\n\ts-20.4,36.35-38.37,39.59c18.38,5.45,30.09,17.97,27.06,37.57l-3.64,21.61c-1.41,8.69-0.4,12.32,0.4,14.74l-0.2,1.21h-68.26\n\tc-0.61-1.21-0.81-3.64-0.2-7.07l2.83-16.97c2.63-16.16-3.84-25.65-25.65-25.65h-46.45L315.86,198.57z M389.38,109.3\n\tc12.72,0,16.56-6.46,16.56-12.32c0-5.65-3.43-9.69-13.73-9.69h-58.77l-3.64,22.01H389.38z"></path><path fill="#FFFFFF" stroke="#FFFFFF" d="M538.03,198.57h-66.45L495.41,48.3h149.25c34.54,0,53.72,11.31,53.72,35.55\n\ts-20.4,36.35-38.37,39.59c18.38,5.45,30.09,17.97,27.06,37.57l-3.64,21.61c-1.41,8.69-0.4,12.32,0.4,14.74l-0.2,1.21h-68.26\n\tc-0.61-1.21-0.81-3.64-0.2-7.07l2.83-16.97c2.63-16.16-3.84-25.65-25.65-25.65H545.9L538.03,198.57z M611.54,109.3\n\tc12.72,0,16.56-6.46,16.56-12.32c0-5.65-3.43-9.69-13.73-9.69H555.6l-3.64,22.01H611.54z"></path><path fill="#FFFFFF" stroke="#FFFFFF" d="M760.19,198.57h-66.45L717.58,48.3h66.45L760.19,198.57z"></path><path fill="#FFFFFF" stroke="#FFFFFF" d="M788.47,48.3h73.52l30.3,98.56l56.15-98.56h70.28l-87.65,150.26h-92.7L788.47,48.3z"></path><path fill="#FFFFFF" stroke="#FFFFFF" d="M1193.21,48.3l-6.46,39.79h-104.01l-2.22,14.74h102.6l-6.26,39.18h-102.8l-2.62,16.36\n\th105.43l-6.26,40.19H999.73l23.83-150.26H1193.21z M1078.29,40.63l17.57-32.31h63.42l-23.63,32.31H1078.29z"></path><path fill="#FFFFFF" stroke="#FFFFFF" d="M1377,48.3l-6.46,39.79h-104.01l-2.22,14.74h102.6l-6.26,39.18h-102.8l-2.62,16.36h105.43\n\tl-6.26,40.19h-170.86l23.83-150.26H1377z"></path>',7)];var es=a(Xn,[["render",function(e,t){return E(),D("svg",Jn,Qn)}]]);var ts={setup(e){const t=__DATA.site.locale,a={"fr-fr":es,default:Kn},n=a[t]||a.default;return(e,t)=>(E(),z(O(P(n))))}};const as={class:"finish__text"};var ns=a({setup(e,{expose:t}){const a=h(),n=h(),s=h();let r,o;function l(){r&&Nn(r),o&&o.owner.unwatch(o),o=r=null}function c(){r&&!i.game.paused.value&&r.tick(1.5*i.game.elapsed)}return Y((()=>{a.value&&(a.value.style.display="none")})),T((()=>{l()})),t({hide:function(){if(!a.value)return;a.value.style.display="none"},show:function(){const e="cubicBezier(.7,.01,.17,.82)",t="cubicBezier(.98,.14,.36,.98)";l(),r=W.timeline({autoplay:!1}),o=i.hooks.afterFrame.watch(c),a.value&&(a.value.style.display="");r.add({targets:".finish__text",scale:[1.6,.7],rotate:[-14,-6],easing:"cubicBezier(.87,0,.13,1)",duration:1500,delay:0}).add({targets:".finish__text path",strokeDashoffset:[W.setDashoffset,0],easing:"cubicBezier(.87,0,.13,1)",duration:1500,delay:W.stagger(100)},"-=1500").add({targets:".finish__text path",fillOpacity:[0,1],easing:"cubicBezier(.87,0,.13,1)",duration:900,delay:W.stagger(50)},"-=1600").add({targets:".finish__text",scale:.62,easing:"cubicBezier(.02,.01,.74,.94)",duration:2e3},"-=600").add({targets:".finish__text path",strokeDashoffset:[0,W.setDashoffset],easing:"cubicBezier(.87,0,.13,1)",duration:1500,delay:W.stagger(100,{direction:"reverse"})},"-=2000").add({targets:".finish__text path",fillOpacity:0,easing:"cubicBezier(.87,0,.13,1)",duration:900,delay:W.stagger(50,{direction:"reverse"})},"-=1500"),r.add({targets:n.value,translateX:{value:["-100vw","-10vw"],duration:2e3,easing:e},translateY:{value:["50vw","10vw"],duration:2e3,easing:e}},110).add({targets:n.value,translateX:{value:"100vw",duration:650,easing:t},translateY:{value:"-50vw",duration:650,easing:t}},"-=1400"),r.add({targets:s.value,scale:[-1,-1],translateX:{value:["-100vw","-10vw"],duration:2e3,easing:e},translateY:{value:["50vw","10vw"],duration:2e3,easing:e}},180).add({targets:s.value,translateX:{value:"100vw",duration:650,easing:t},translateY:{value:"-50vw",duration:650,easing:t}},"-=1440"),r.finished.then((()=>{a.value&&(a.value.style.display="none"),l()}))}}),(e,t)=>(E(),D("section",{ref:(e,t)=>{t.base=e,a.value=e},class:"game-finish"},[R("div",{ref:(e,t)=>{t.topArrow=e,n.value=e},class:"finish__arrowTop"},[V(Zn)],512),R("div",as,[V(ts)]),R("div",{ref:(e,t)=>{t.bottomArrow=e,s.value=e},class:"finish__arrowBottom"},[V(Zn)],512)],512))}},[["__scopeId","data-v-b5f00cce"]]);const ss=e=>(N("data-v-4acd38e5"),e=e(),G(),e),is={viewBox:"0 0 40 40"},rs=ss((()=>R("circle",{cx:"20",cy:"20",r:"19"},null,-1))),os={class:"marks"},ls=ss((()=>R("circle",{cx:"20",cy:"20",r:"0.7",class:"pin"},null,-1)));var cs=a({setup(e,{expose:t}){const a=h();let n=0;return t({setTime:function(e){const t=e/1e3|0;if(!a.value||t===n)return;n=t,a.value.style.transform="rotate("+6*t+"deg)"}}),(e,t)=>(E(),D("svg",is,[rs,R("g",os,[(E(),D(ae,null,ne(12,(e=>R("line",{key:e,x1:"15",y1:"0",x2:"16",y2:"0"}))),64))]),R("line",{ref:(e,t)=>{t.seconds=e,a.value=e},x1:"20",y1:"20",x2:"36",y2:"20",class:"seconds"},null,512),ls]))}},[["__scopeId","data-v-4acd38e5"]]);const us={class:"timer-value"},ds={class:"timer__icon"};var fs=a({setup(e,{expose:t}){const{csstween:a}=At(),s=n(),i=h(),r=h(),o=h(),l="cubic-bezier(.64,.01,.11,1.28)",c="cubic-bezier(0,0,.13,1) ";let u=1e3,d=-1;function f(){if(!i.value)return;const e=s.game.racetime;if(++u<3)return;u=0;const t=e,a=(t/1e3).toFixed(2);a!==d&&(d=a,i.value.textContent=a,r.value.setTime(t))}return Y((()=>{i.value.textContent="0",s.hooks.afterFrame.watch(f),s.game.hooks.reset.watch(f),f()})),T((()=>{s.hooks.afterFrame.unwatch(f),s.game.hooks.reset.unwatch(f)})),t({show:function(){var e;o.value&&(o.value.style.display="",e=o.value,a({target:e,selector:".timer-value",transform:["translateY(-40px)",""],duration:1e3,ease:c,opacity:[0,""]}),a({target:e,selector:".timer__icon",transform:["scale3d(0,0,0) rotate(15deg)",""],duration:1e3,ease:l,opacity:[0,""]}))},hide:function(){o.value&&(o.value.style.display="none")}}),(e,t)=>(E(),D("aside",{ref:(e,t)=>{t.base=e,o.value=e},class:"game-timer"},[R("div",us,[R("p",{ref:(e,t)=>{t.timer=e,i.value=e},class:"timer-value"},null,512)]),R("div",ds,[V(cs,{ref:(e,t)=>{t.clock=e,r.value=e}},null,512)])],512))}},[["__scopeId","data-v-b22c7eb4"]]);const ps=e=>(N("data-v-5beb9de4"),e=e(),G(),e),hs={class:"turbo-help"},gs={class:"turbo-bar"},vs=ps((()=>R("aside",{class:"turbo-label"},null,-1))),ms={class:"turbo-wrapper"},ws=ps((()=>R("div",{class:"turbo-bt"},null,-1))),ys=ps((()=>R("div",{class:"turbo-bb"},null,-1)));var _s=a({setup(e,{expose:t}){const a=n(),s=a.game,i=h(),r=h();function o(e){r.value&&r.value}function l(){r.value&&(r.value.style.transform="scaleX("+s.turbo.progress+")")}return Y((()=>{a.hooks.afterFrame.watch(l),s.turbo.active.watch(o)})),T((()=>{a.hooks.afterFrame.unwatch(l),s.turbo.active.unwatch(o)})),t({show:function(){i.value&&(i.value.style.display="")},hide:function(){i.value&&(i.value.style.display="none")}}),(e,t)=>(E(),D("aside",{ref:(e,t)=>{t.base=e,i.value=e},class:Z(["game-turbo",{turboWebRtc:e.$rtcDisplay.enabled.value,noCookie:e.$stores.noCookie}])},[R("div",hs,I(e.$l("game.help.line")),1),R("div",gs,[vs,R("figure",ms,[ws,ys,R("div",{ref:(e,t)=>{t.progress=e,r.value=e},class:"turbo-progress"},null,512)])])],2))}},[["__scopeId","data-v-5beb9de4"]]);const bs=e=>(N("data-v-21c8ca69"),e=e(),G(),e),xs={key:0,class:"tutorial-icon__content mobileIcon"},Cs=[U('<svg width="122" height="41" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-21c8ca69><path d="M0 20.5 23.523 41H46L23.523 20.5 46 0H23.523L0 20.5Z" fill="#fff" fill-opacity=".15" class="p3" data-v-21c8ca69></path><path d="M37 20.5 61.546 41H85L61.546 20.5 85 0H61.546L37 20.5Z" fill="#fff" fill-opacity=".15" class="p2" data-v-21c8ca69></path><path d="M76 20.5 99.523 41H122L99.523 20.5 122 0H99.523L76 20.5Z" fill="#fff" fill-opacity=".15" class="p1" data-v-21c8ca69></path><defs data-v-21c8ca69><linearGradient id="a" x1="0" y1="20.5" x2="43.5" y2="20.5" gradientUnits="userSpaceOnUse" data-v-21c8ca69><stop stop-color="#fff" data-v-21c8ca69></stop><stop offset="1" stop-color="#fff" stop-opacity="0" data-v-21c8ca69></stop></linearGradient></defs></svg>',1)],ks=[U('<svg width="122" height="41" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-21c8ca69><path d="M0 20.5 23.523 41H46L23.523 20.5 46 0H23.523L0 20.5Z" fill="#fff" fill-opacity=".15" class="p3" data-v-21c8ca69></path><path d="M37 20.5 61.546 41H85L61.546 20.5 85 0H61.546L37 20.5Z" fill="#fff" fill-opacity=".15" class="p2" data-v-21c8ca69></path><path d="M76 20.5 99.523 41H122L99.523 20.5 122 0H99.523L76 20.5Z" fill="#fff" fill-opacity=".15" class="p1" data-v-21c8ca69></path><defs data-v-21c8ca69><linearGradient id="a" x1="0" y1="20.5" x2="43.5" y2="20.5" gradientUnits="userSpaceOnUse" data-v-21c8ca69><stop stop-color="#fff" data-v-21c8ca69></stop><stop offset="1" stop-color="#fff" stop-opacity="0" data-v-21c8ca69></stop></linearGradient></defs></svg>',1)],Ls={key:1,class:"tutorial-icon__content desktopIcon"},Ms={class:"iconContainer"},Fs={width:"340",viewBox:"0 0 340 220",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ss=U('<rect x="1" y="121" width="98" height="98" rx="7" fill="#fff" fill-opacity=".1" class="fill__path" data-v-21c8ca69></rect><rect x="1" y="121" width="98" height="98" rx="7" stroke="#fff" stroke-width="2" class="stroke__path" data-v-21c8ca69></rect><rect x="1" y="121" width="98" height="98" rx="7" stroke="#fff" stroke-opacity=".2" stroke-width="2" class="stroke__path" data-v-21c8ca69></rect><rect x="120" width="100" height="100" rx="8" fill="#fff" fill-opacity=".1" class="fill__path" data-v-21c8ca69></rect><rect x="121" y="1" width="98" height="98" rx="7" stroke="#fff" stroke-opacity=".2" stroke-width="2" class="stroke__path" data-v-21c8ca69></rect><rect x="120" y="120" width="100" height="100" rx="8" fill="#fff" fill-opacity=".1" class="fill__path" data-v-21c8ca69></rect><rect x="121" y="121" width="98" height="98" rx="7" stroke="#fff" stroke-opacity=".2" stroke-width="2" class="stroke__path" data-v-21c8ca69></rect><path opacity=".2" d="m170.333 177.333-8.333-14h16.667l-8.334 14Z" fill="#fff" data-v-21c8ca69></path><rect x="241" y="121" width="98" height="98" rx="7" fill="#fff" fill-opacity=".1" class="fill__path" data-v-21c8ca69></rect><rect x="241" y="121" width="98" height="98" rx="7" stroke="#fff" stroke-width="2" class="stroke__path" data-v-21c8ca69></rect><rect x="241" y="121" width="98" height="98" rx="7" stroke="#fff" stroke-opacity=".2" stroke-width="2" class="stroke__path" data-v-21c8ca69></rect>',11),Hs=[bs((()=>R("path",{d:"M292.667 169.667 276.985 156H262l14.985 13.667L262 183.333h14.985l15.682-13.666Z",fill:"#fff","fill-opacity":".15",class:"p1"},null,-1))),bs((()=>R("path",{d:"M317.333 169.667 301.651 156h-14.984l14.984 13.667-14.984 13.666h14.984l15.682-13.666Z",fill:"#fff","fill-opacity":".15",class:"p2"},null,-1)))],As=[bs((()=>R("path",{d:"m46.667 169.666 15.682 13.667h14.984L62.35 169.666 77.333 156H62.35l-15.682 13.666Z",fill:"#fff","fill-opacity":".15",class:"p1"},null,-1))),bs((()=>R("path",{d:"m22 169.666 15.682 13.667h14.985l-14.985-13.667L52.667 156H37.682L22 169.666Z",fill:"#fff","fill-opacity":".15",class:"p2"},null,-1)))],Ts=bs((()=>R("path",{opacity:".2",d:"m169.667 42.667 8.333 14h-16.667l8.334-14Z",fill:"#fff"},null,-1)));var Bs=a({setup(e,{expose:t}){const{wait:a}=r(),n=h();let s,i;return t({show:async function(e=0){e>0&&await a(e);for(let t=0;t<s.length;t++)s[t]&&s[t].classList.remove("animated"),i[t]&&i[t].classList.remove("animated");n.value.getBoundingClientRect();for(let t=0;t<s.length;t++)s[t]&&s[t].classList.add("animated"),i[t]&&i[t].classList.add("animated"),await a(100)}}),Y((()=>{s=[...n.value.querySelectorAll(".stroke__path")],i=[...n.value.querySelectorAll(".fill__path")]})),T((()=>{s=i=null})),(e,t)=>(E(),D("div",{ref:(e,t)=>{t.parent=e,n.value=e},class:"tutorial-icon"},[e.$device.hasTouch?(E(),D("div",xs,[R("div",{ref:(e,t)=>{t.leftArrow=e},class:"iconContainer leftArrow"},Cs,512),R("div",{ref:(e,t)=>{t.rightArrow=e},class:"iconContainer rightArrow"},ks,512)])):j("",!0),!e.$device.hasTouch||e.$device.hasTouch&&e.$device.type.desktop?(E(),D("div",Ls,[R("div",Ms,[(E(),D("svg",Fs,[Ss,R("g",{ref:(e,t)=>{t.rightArrowDesk=e},class:"rightArrowDesk"},Hs,512),R("g",{ref:(e,t)=>{t.leftArrowDesk=e},class:"leftArrowDesk"},As,512),Ts]))])])):j("",!0)],512))}},[["__scopeId","data-v-21c8ca69"]]);const Es={class:"tutorial__topLine"},zs={key:0,class:"tutorial__content"},$s=["innerHTML"],Rs={key:1,class:"tutorial__content"},Is={class:"keys__left keys"},qs={class:"keys__right keys"},Os={class:"tutorial__botLine"};var Ps=a({setup(e,{expose:t}){const a=l(),n=a.$device.hasTouch,{csstween:s}=At(),{wait:i}=r(),o=a.$l(`tutorial.${n?"mobile":"desktop"}.desc`),u=h(),d=h(),f=h(),p=h(),g=h(),v=h(),m=h(),w=[];function y(){for(const e of w)e&&e.destroy();w.length=0}return t({show:async function(){if(a.$stores.gameTutorialVisible=!0,!u.value)return;const e="cubic-bezier(0,0,.13,1) ";let t=20;u.value.style.display="",u.value.style.opacity="",y(),w.push(s({target:v.value,transform:["scaleY(0)","scaleY(1)"],duration:1e3,ease:e,delay:t+=0})),w.push(s({target:m.value,transform:["scaleY(0)","scaleY(1)"],duration:800,ease:e,delay:t+=0})),w.push(s({target:d.value,transform:["translateY(-40px)",""],duration:1e3,ease:e,delay:t+=0,opacity:[0,""]})),w.push(s({target:f.value,transform:["translateY(-40px)",""],duration:1e3,ease:e,delay:n?t:t+=150,opacity:[0,""]})),w.push(s({target:p.value,duration:800,ease:e,delay:t+=n?350:20,opacity:[0,""],transform:n?"":["scale3d(0,0,0) rotate(15deg)",""]})),g.value&&g.value.show(t+=10);await i(t+(n?100:300))},hide:async function(){if(a.$stores.gameTutorialVisible=!1,!u.value)return;y();const e=s({target:u.value,opacity:0,duration:700});w.push(e),await e.finished,u.value.style.display="none"}}),Y((()=>{u.value.style.display="none"})),T((()=>{y(),a.$stores.gameTutorialVisible=!1})),(e,t)=>(E(),D("div",{ref:(e,t)=>{t.base=e,u.value=e},class:Z(["game-tutorial",{tutoWebRtc:e.$rtcDisplay.enabled.value}])},[R("div",Es,[R("div",{ref:(e,t)=>{t.topLineEl=e,v.value=e},class:"line"},null,512)]),e.$rtcDisplay.enabled.value?j("",!0):(E(),D("div",zs,[R("p",{ref:(e,t)=>{t.titleEl=e,d.value=e},class:"tutorial__title"},I(e.$l("tutorial.title")),513),R("p",{ref:(e,t)=>{t.textEl=e,f.value=e},class:"tutorial__text",innerHTML:P(o)},null,8,$s),R("div",{ref:(e,t)=>{t.iconEl=e,p.value=e},class:"tutorial__icon"},[V(Bs,{ref:(e,t)=>{t.iconInstance=e,g.value=e}},null,512)],512)])),e.$rtcDisplay.enabled.value?(E(),D("div",Rs,[R("p",{ref:(e,t)=>{t.titleEl=e,d.value=e},class:"tutorial__title"},I(e.$l("tutorial.title")),513),R("p",{ref:(e,t)=>{t.textEl=e,f.value=e},class:"tutorial__text"},I(e.$l("webRTC.tutorial.borne.desc")),513),R("div",{ref:(e,t)=>{t.iconEl=e,p.value=e},class:"tutorial__icons"},[R("div",Is,[V(c)]),R("div",qs,[V(c)])],512)])):j("",!0),R("div",Os,[R("div",{ref:(e,t)=>{t.botLineEl=e,m.value=e},class:"line"},null,512)])],2))}},[["__scopeId","data-v-356cc4a0"]]);const Ds={class:"page page-game"};var Zs=a({setup(e){s.$device.hasTouch;const t=Ps,a=ua(),n=h(),r=h(),o=h(),l=h(),c=h(),u={hideAll:function(){n.value&&n.value.hide();r.value&&r.value.hide();o.value&&o.value.hide();l.value&&l.value.hide();c.value&&c.value.hide()},countdown:n,finish:r,timer:o,turbo:l,tuto:c};return Y((()=>{i.game.setView(u),a.pageview({title:"game",url:"/game"})})),T((()=>{i.game.removeView(u)})),(e,a)=>(E(),D("section",Ds,[V(Un,{ref:(e,t)=>{t.countdown=e,n.value=e}},null,512),V(ns,{ref:(e,t)=>{t.finish=e,r.value=e}},null,512),V(fs,{ref:(e,t)=>{t.timer=e,o.value=e}},null,512),V(_s,{ref:(e,t)=>{t.turbo=e,l.value=e}},null,512),(E(),z(O(P(t)),{ref:(e,t)=>{t.tuto=e,c.value=e}},null,512)),ie(" "+I(),1)]))}},[["__scopeId","data-v-664552d6"]]);const js={},Ns={ref:"square",viewBox:"0 0 502 502",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"icon__frame"},Gs={ref:"path",x:"2",y:"2",width:"498",height:"498",rx:"23",fill:"#000","fill-opacity":".1",class:"path"},Us=U('<rect x="2" y="2" width="498" height="498" rx="23" stroke="url(#a)" stroke-width="4" class="stroke s1"></rect><rect x="2" y="2" width="498" height="498" rx="23" stroke="#fff" stroke-opacity=".2" stroke-width="2" class="stroke s2"></rect><defs><linearGradient id="a" x1="0" y1="251" x2="502" y2="251" gradientUnits="userSpaceOnUse"><stop stop-color="#fff"></stop><stop offset="1" stop-color="#fff" stop-opacity="0"></stop></linearGradient></defs>',3);var Ys=a(js,[["render",function(e,t){return E(),D("svg",Ns,[R("rect",Gs,null,512),Us],512)}]]);const Vs={class:"title"},Ws={class:"qrContainer"};var Ks=a({setup(e,{expose:t}){t({enter:async function(){n()&&n().audio.setBgm("intro");const e=W.timeline();i.value.getBoundingClientRect(),i.value.classList.add("visible"),e.add({targets:".page-qr .title",translateY:["-40px","0px"],opacity:[0,1],duration:1e3,easing:"cubicBezier(0,0,.13,1)"},0).add({targets:".page-qr .separator",translateY:["-40px","0px"],opacity:[0,1],duration:1e3,easing:"cubicBezier(0,0,.13,1)"},150).add({targets:".page-qr .qrContainer",scale:[1.3,1],rotate:[-5,0],opacity:[0,1],duration:1e3,easing:"cubicBezier(0.000, 0.340, 0.405, 0.995)"},700).add({targets:".page-qr .square",strokeDashoffset:[1970,0],opacity:[1,1],duration:1500,easing:"cubicBezier(0.490, 0.070, 0.080, 1.005)"},600)},leave:async function(e){return e.classList.add("leave"),a({target:e,transform:["","scale3d(0.6,0.6,0.6)"],duration:800,ease:"cubic-bezier(.87,0,.13,1)",opacity:["",0],autoClear:!1}).finished}});const{csstween:a}=At(),i=h(),r=h(),o=h(),l=h();return Y((async()=>{s.$stats.init(),s.$rtcDisplay.enable();const[e]=await Promise.all([u((()=>import("./qrious.12cafbf121e5b1ef.js").then((function(e){return e.q}))),["assets/qrious.12cafbf121e5b1ef.js","assets/vendor.1eed6b1e21e5b1ef.js"]),s.$rtcDisplay.createRoom()]);i.value&&(new e.default({element:r.value,background:"transparent",foreground:"white",level:"M",size:200,value:s.$rtcDisplay.roomURL}),i.value.classList.add("qrcode-visible"))})),(e,t)=>(E(),D("section",{ref:(e,t)=>{t.base=e,i.value=e},class:"page page-qr"},[R("div",Vs,[R("h1",null,I(e.$l("webRTC.home")),1)]),V(ca),R("div",Ws,[R("div",{ref:(e,t)=>{t.qrSpinner=e,l.value=e},class:"loading"},null,512),R("div",{ref:(e,t)=>{t.qrFrame=e,o.value=e},class:"frame"},[V(Ys,{class:"square"})],512),R("canvas",{ref:(e,t)=>{t.qrCode=e,r.value=e},class:"qrcode"},null,512)]),V(d)],512))}},[["__scopeId","data-v-7edf3d7e"]]);const Xs={class:"page page-syncP syncP"},Js={class:"syncP__container"},Qs={class:"syncP__title"},ei=U('<div class="syncP__iconContainer" data-v-7429eb11><div class="syncP__icon" data-v-7429eb11><svg viewBox="0 0 236 237" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-7429eb11><path fill-rule="evenodd" clip-rule="evenodd" d="M89.375 179.775c33.245 17.093 74.861 7.596 97.12-23.78a76.314 76.314 0 0 0 10.375-20.616l12.28 5.778a89.892 89.892 0 0 1-11.664 22.636c-27.544 38.825-80.281 49.174-120.254 24.597l12.143-8.615Z" fill="#fff" class="p3" data-v-7429eb11></path><path d="M175.548 39.451c23.86 16.928 36.83 43.49 37.372 70.658l-11.547-5.434c-2.017-21.713-13.141-42.455-32.324-56.065-18.315-12.994-40.339-16.905-60.711-12.646l-1.322-11.19c23.053-4.552 47.855.008 68.532 14.677Z" fill="#fff" stroke="url(#a)" stroke-width="2.246" class="p2" data-v-7429eb11></path><path d="M61.93 67.622a76.22 76.22 0 0 1 18.908-18.69l-1.752-14.834C68.29 40.36 58.632 48.981 50.94 59.825c-24.016 33.852-21.273 78.627 3.952 109.168l11.029-7.824c-22.025-25.973-24.601-64.493-3.99-93.546Z" fill="#fff" class="p1" data-v-7429eb11></path><defs data-v-7429eb11><linearGradient id="a" x1="205.65" y1="107.003" x2="130.408" y2="18.285" gradientUnits="userSpaceOnUse" data-v-7429eb11><stop stop-color="#fff" data-v-7429eb11></stop><stop offset="1" stop-color="#fff" stop-opacity="0" data-v-7429eb11></stop></linearGradient></defs></svg></div></div>',1);const ti={class:"page syncF"},ai={class:"syncF__container"},ni=["innerHTML"],si={class:"syncF__title"};const ii=[{path:"/",name:"home",component:ia},{path:"/result",name:"result",component:Ha},{path:"/coupon",name:"coupon",component:qa},{path:"/register",name:"register",component:vn},{path:"/confirmation",name:"confirmation",component:xn},{path:"/game",name:"game",component:Zs},{path:"/qrcode-home",name:"qrcode-home",component:Ks},{path:"/qrcode-pairing",name:"qrcode-pairing",component:a({setup(e,{expose:t}){const{csstween:a}=At(),n="cubic-bezier(.87,0,.13,1)";ua();const s=K();return(C()?k("webRTC"):Le).watch((e=>{"start"===e.data&&s.push({name:"game"})})),o(),Y((()=>{app.$rtcDisplay.enable()})),t({enter:async function(e){a({target:e,selector:".syncP__title",transform:["translateY(-40px)",""],duration:1e3,ease:"cubic-bezier(0,0,.13,1) ",opacity:[0,""]}),a({target:e,selector:".syncP__iconContainer",transform:["scale3d(0.35,0.35,0.35)",""],duration:1e3,ease:n,delay:100,opacity:[0,""]})},leave:async function(e){return a({target:e,transform:["","scale3d(0.6,0.6,0.6)"],duration:800,ease:n,opacity:["",0],autoClear:!1}).finished}}),(e,t)=>(E(),D("section",Xs,[R("div",Js,[R("div",Qs,[R("p",null,I(e.$l("webRTC.pairing.borne.progress")),1)]),ei])]))}},[["__scopeId","data-v-7429eb11"]])},{path:"/qrcode-error",name:"qrcode-error",component:a({setup(e,{expose:t}){const{csstween:a}=At(),i="cubic-bezier(.87,0,.13,1)";return Y((()=>{n()&&n().audio.setBgm("intro"),s.$rtcDisplay.enable()})),t({enter:async function(e){a({target:e,selector:".syncF__icon",transform:["scale3d(0,0,0) rotate(15deg)",""],duration:1e3,ease:i,opacity:[0,""]}),a({target:e,selector:".syncF__title",transform:["translateY(-40px)",""],duration:1e3,ease:"cubic-bezier(0,0,.13,1) ",delay:300,opacity:[0,""]})},leave:async function(e){return a({target:e,transform:["","scale3d(0.6,0.6,0.6)"],duration:800,ease:i,opacity:["",0],autoClear:!1}).finished}}),(e,t)=>(E(),D("section",ti,[R("div",ai,[R("div",{class:"syncF__icon",innerHTML:P(f)},null,8,ni),R("div",si,[R("p",null,I(e.$l("webRTC.pairing.borne.fail")),1)])])]))}},[["__scopeId","data-v-ec20fb1c"]])}];function ri(){const e=window.__DATA,t=e.site.locales[e.site.locale];let a=e.config.basepath;return t.default||(a+=e.site.locale),a.endsWith("/")&&(a=a.slice(0,-1)),a}var oi={props:["mode","routeKey"],setup(e){const t=e,a="_transitionState",n=K(),s=h();let i,r,o=1,l=null,c=null,u=null,d=null;const f=n.beforeResolve(((e,t)=>{i=t,r=e}));async function p(e,t){l=c;const n=c=s.value;n[a]||(n[a]={});const f=n[a];f.uid||(f.uid=o++),m(),n===d&&w(),u=n,f.entering=!0,f.leaving=!1,n.enter&&await n.enter(e,i,r,f),u===n&&(u=null),f.entering&&(f.entering=!1,t())}function g(){const e=c,t=e[a];u===e&&(u=null),t.entering&&(t.entering=!1,e.enterCancelled&&e.enterCancelled(t))}async function v(e,n){const s="in-out"===t.mode?l:c,o=s[a];if(w(),s===u&&m(),d=s,o.entering=!1,o.leaving=!0,s.leave&&await s.leave(e,i,r,o),d===s&&(d=null),!o.leaving)return n();o.leaving=!1,n()}function m(){if(!u)return;const e=u,t=e[a];t.entering&&(t.entering=!1,e.enteringCancelled&&e.enterCancelled(t)),u=null}function w(){if(!d)return;const e=d,t=e[a];t.leaving&&(t.leaving=!1,e.leaveCancelled&&e.leaveCancelled(t)),d=null}return re((()=>{f()})),(a,n)=>{const i=oe("RouterView");return E(),z(i,null,{default:$((({Component:a})=>[V(le,{ref:(e,t)=>{t.tr=e},css:!1,mode:e.mode,appear:"",onEnter:p,onEnterCancelled:g,onLeave:v},{default:$((()=>[(E(),z(O(a),{key:t.routeKey,ref:(e,t)=>{t.component=e,s.value=e}},null,512))])),_:2},1032,["mode"])])),_:1})}}},li={RemoteLeftUp:"remoteLeftUp",RemoteLeftDown:"remoteLeftDown",RemoteRightUp:"remoteRightUp",RemoteRightDown:"remoteRightDown",RemoteReady:"remoteReady",DisplayFinish:"displayFinish"};export{oi as A,Oa as C,qt as F,Zn as I,li as M,ca as S,be as W,ua as a,ts as b,He as c,Nn as d,Ae as e,$e as f,ri as g,Pe as h,Xe as i,tt as j,ft as k,ce as l,ii as m,Ce as n,ke as o,at as p,Be as q,ja as r,pe as s,Re as t,At as u,Te as v,xe as w};
